<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Kubernetes: tail logs from pods with stern | not just serendipity</title><meta name=title content="Kubernetes: tail logs from pods with stern">
<meta name=description content="You can always use kubectl logs -n {namespace} {pod} [-c {container}] -f to
inspect logs from a specific pod1.
Nonetheless that doesn&rsquo;t scale when you don&rsquo;t know which pod you want in the
first place.
You could start with deployments, dive into replica sets, and then into
individual pods, one by one, but&mldr; that is tedious and slow.
We can do better with stern:

⎈ Multi pod and container log tailing for Kubernetes"><meta name=keywords content="dev,"><meta property="og:url" content="https://perrotta.dev/2024/12/kubernetes-tail-logs-from-pods-with-stern/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Kubernetes: tail logs from pods with stern"><meta property="og:description" content="You can always use kubectl logs -n {namespace} {pod} [-c {container}] -f to inspect logs from a specific pod1.
Nonetheless that doesn’t scale when you don’t know which pod you want in the first place.
You could start with deployments, dive into replica sets, and then into individual pods, one by one, but… that is tedious and slow.
We can do better with stern:
⎈ Multi pod and container log tailing for Kubernetes"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-17T16:37:16-03:00"><meta property="article:modified_time" content="2024-12-17T16:37:16-03:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Kubernetes: tail logs from pods with stern"><meta name=twitter:description content="You can always use kubectl logs -n {namespace} {pod} [-c {container}] -f to inspect logs from a specific pod1.
Nonetheless that doesn’t scale when you don’t know which pod you want in the first place.
You could start with deployments, dive into replica sets, and then into individual pods, one by one, but… that is tedious and slow.
We can do better with stern:
⎈ Multi pod and container log tailing for Kubernetes"><meta itemprop=name content="Kubernetes: tail logs from pods with stern"><meta itemprop=description content="You can always use kubectl logs -n {namespace} {pod} [-c {container}] -f to inspect logs from a specific pod1.
Nonetheless that doesn’t scale when you don’t know which pod you want in the first place.
You could start with deployments, dive into replica sets, and then into individual pods, one by one, but… that is tedious and slow.
We can do better with stern:
⎈ Multi pod and container log tailing for Kubernetes"><meta itemprop=datePublished content="2024-12-17T16:37:16-03:00"><meta itemprop=dateModified content="2024-12-17T16:37:16-03:00"><meta itemprop=wordCount content="176"><meta itemprop=keywords content="Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>:root{--color-gray:#888;--font-title:'Inter', 'Fira Sans', 'Lato', system-ui, -apple-system, BlinkMacSystemFont, 'Avenir Next', 'Avenir', 'Segoe UI', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, Cantarell, Arial, sans-serif;--font-body:'Crimson Pro', 'Vollkorn', 'Alegreya', 'Iowan Old Style', 'Apple Garamond', 'Baskerville', 'Times New Roman', 'Noto Serif', 'Droid Serif', 'Times', 'Source Serif Pro', serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';--font-code:'Fira Code', 'PT Mono', 'IBM Plex Mono', Menlo, Consolas, Monaco, 'Liberation Mono', 'Ubuntu Mono', 'Lucida Console', monospace}body{font-family:var(--font-body);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}time.pubdate{color:var(--color-gray)}sup.gray{color:var(--color-gray)}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>Kubernetes: tail logs from pods with stern</h1><p><i><time datetime=2024-12-17 pubdate>17 Dec, 2024
</time>• 176 words
• 1 min</i></p><content><p>You can always use <code>kubectl logs -n {namespace} {pod} [-c {container}] -f</code> to
inspect logs from a specific pod<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Nonetheless that doesn&rsquo;t scale when you don&rsquo;t know which pod you want in the
first place.</p><p>You could start with deployments, dive into replica sets, and then into
individual pods, one by one, but&mldr; that is tedious and slow.</p><p>We can do better with <a href=https://github.com/stern/stern>stern</a>:</p><blockquote><p>⎈ Multi pod and container log tailing for Kubernetes</p></blockquote><p>Usage:</p><pre tabindex=0><code>stern pod-query [flags]
</code></pre><blockquote><p>The pod-query is a regular expression or a Kubernetes resource in the form
<code>&lt;resource>/&lt;name></code>.</p></blockquote><p>Example:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% stern -n argocd argocd
</span></span></code></pre></div><p>We can also <code>grep</code> for specific strings in log lines with <code>--include</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% stern -n argocd argocd --include level<span style=color:#f92672>=</span>error
</span></span></code></pre></div><p>Or <code>grep -v</code> with <code>--exclude</code>.</p><p>It&rsquo;s better to use <code>--include</code> / <code>--exclude</code> than to <code>| grep</code>, because it
preserves color attributes (each pod has a different color in the aggregated
log output).</p><p>The logs stream by default (like <code>tail -f</code>, or <code>kubectl logs -f</code>).</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><code>-c</code> to specify a container within it, and <code>-f</code> to stream logs à la <code>tail -f</code>.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></content><p><a href=https://perrotta.dev/tags/dev/>#dev</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:notjustserendipity@perrotta.dev>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
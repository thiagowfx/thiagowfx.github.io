<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Advent of Code: Day 11 | not just serendipity</title>
<meta name=keywords content="dev"><meta name=description content="Link to Day #11 puzzle."><meta name=author content="Thiago Perrotta"><link rel=canonical href=https://www.perrotta.dev/2024/12/advent-of-code-day-11/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://www.perrotta.dev/favicon.ico><link rel=apple-touch-icon href=https://www.perrotta.dev/apple-touch-icon.png><link rel=mask-icon href=https://www.perrotta.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.perrotta.dev/2024/12/advent-of-code-day-11/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}h1,h2,h3,h4,h5,h6,footer,nav,.toc,.post-meta{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}</style><meta property="og:url" content="https://www.perrotta.dev/2024/12/advent-of-code-day-11/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Advent of Code: Day 11"><meta property="og:description" content="Link to Day #11 puzzle."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-12T19:15:35-03:00"><meta property="article:modified_time" content="2024-12-12T19:15:35-03:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Advent of Code: Day 11"><meta name=twitter:description content="Link to Day #11 puzzle."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.perrotta.dev/posts/"},{"@type":"ListItem","position":2,"name":"Advent of Code: Day 11","item":"https://www.perrotta.dev/2024/12/advent-of-code-day-11/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Advent of Code: Day 11","name":"Advent of Code: Day 11","description":"Link to Day #11 puzzle.\n","keywords":["dev"],"articleBody":"Link to Day #11 puzzle.\nPart one can be done with a simulation.\nIt is very delightful to do it in python: lists are quite flexible, and converting from integers to strings and vice-versa is seamless. Counting the number of digits of x is just a matter of len(str(x)). In C++ it’s a bit kludgier with std::string(x).size() and std::stoi(s), but then you need to remember which header to import1.\nI thought of using reduce to do blink(blink(stone))... and so on:\nprint(len(reduce(lambda stone: blink(stone), range(25), stones))) …nonetheless it’s more readable to simply use a plain for-range loop:\nfor _ in range(25): stones = blink(stones) print(len(stones)) The secret sauce is in blink:\ndef blink(stones): stones_next = [] for stone in stones: s = str(stone) if stone == 0: stones_next.append(1) elif len(s) % 2 == 0: index = len(s) // 2 stones_next.append(int(s[:index])) stones_next.append(int(s[index:])) else: stones_next.append(stone * 2024) return stones_next For part two we need to be cleverer. In principle the same approach would work, however it takes too long to process due to its exponential nature. In my laptop I can get up to the 42nd blink iteration without losing my patience to wait even longer.\nThe main observation to account for is that we only care about the length of the stone sequence, hence the original task transforms into a simple 2D dynamic programming problem.\nI call:\nprint(dp_blink(stones, 75)) Which is defined this way:\ndef dp_blink(stones, times): from functools import lru_cache @lru_cache(maxsize=None) def dp(stone: int, times: int) -\u003e int: if times == 0: return 1 return sum([dp(stone, times - 1) for stone in blink([stone])]) return sum([dp(stone, times) for stone in stones]) The DP consists of the stone, and how many times are left for you to blink at it.\nThe full solution:\n#!/usr/bin/env python3 import sys def blink(stones): stones_next = [] for stone in stones: s = str(stone) if stone == 0: stones_next.append(1) elif len(s) % 2 == 0: index = len(s) // 2 stones_next.append(int(s[:index])) stones_next.append(int(s[index:])) else: stones_next.append(stone * 2024) return stones_next def dp_blink(stones, times): from functools import lru_cache @lru_cache(maxsize=None) def dp(stone: int, times: int) -\u003e int: if times == 0: return 1 return sum([dp(stone, times - 1) for stone in blink([stone])]) return sum([dp(stone, times) for stone in stones]) def main(): with open(sys.argv[1]) as input: lines = input.read().splitlines() stones = [int(stone) for stone in lines[0].split()] for _ in range(25): stones = blink(stones) # part one print(len(stones)) # This is very slow, with an exponential complexity runtime. # What did you expect? # # for i in range(50): # 50 = 75 - 25 # print(i) # stones = blink(stones) # # part two # print(len(stones)) stones = [int(stone) for stone in lines[0].split()] # part two print(dp_blink(stones, 75)) if __name__ == '__main__': main() It’s #include . ↩︎\n","wordCount":"453","inLanguage":"en","datePublished":"2024-12-12T19:15:35-03:00","dateModified":"2024-12-12T19:15:35-03:00","author":{"@type":"Person","name":"Thiago Perrotta"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.perrotta.dev/2024/12/advent-of-code-day-11/"},"publisher":{"@type":"Person","name":"not just serendipity","logo":{"@type":"ImageObject","url":"https://www.perrotta.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.perrotta.dev/ accesskey=h title="not just serendipity (Alt + H)"><img src=https://www.perrotta.dev/apple-touch-icon.png alt aria-label=logo height=32>not just serendipity</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.perrotta.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.perrotta.dev/tags/bestof/ title="★ bestof"><span>★ bestof</span></a></li><li><a href=https://www.perrotta.dev/tags/serenity/ title=serenity><span>serenity</span></a></li><li><a href=https://www.perrotta.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://www.perrotta.dev/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://www.perrotta.dev/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Advent of Code: Day 11</h1><div class=post-meta><span title='2024-12-12 19:15:35 -0300 -0300'>December 12, 2024</span>&nbsp;·&nbsp;453 words&nbsp;·&nbsp;Thiago Perrotta</div></header><div class=post-content><p>Link to <a href=https://adventofcode.com/2024/day/11>Day #11</a> puzzle.</p><p>Part one can be done with a simulation.</p><p>It is very delightful to do it in python: lists are quite flexible, and
converting from integers to strings and vice-versa is seamless. Counting the
number of digits of <code>x</code> is just a matter of <code>len(str(x))</code>. In C++ it&rsquo;s a bit
kludgier with <code>std::string(x).size()</code> and <code>std::stoi(s)</code>, but then you need to
remember which header to import<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>I thought of using <code>reduce</code> to do <code>blink(blink(stone))...</code> and so on:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>print(len(reduce(<span style=color:#66d9ef>lambda</span> stone: blink(stone), range(<span style=color:#ae81ff>25</span>), stones)))
</span></span></code></pre></div><p>&mldr;nonetheless it&rsquo;s more readable to simply use a plain <code>for-range</code> loop:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>25</span>):
</span></span><span style=display:flex><span>    stones <span style=color:#f92672>=</span> blink(stones)
</span></span><span style=display:flex><span>print(len(stones))
</span></span></code></pre></div><p>The secret sauce is in <code>blink</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>blink</span>(stones):
</span></span><span style=display:flex><span>    stones_next <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> stones:
</span></span><span style=display:flex><span>        s <span style=color:#f92672>=</span> str(stone)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> stone <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> len(s) <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            index <span style=color:#f92672>=</span> len(s) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(int(s[:index]))
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(int(s[index:]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(stone <span style=color:#f92672>*</span> <span style=color:#ae81ff>2024</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> stones_next
</span></span></code></pre></div><p>For part two we need to be cleverer. In principle the same approach would work,
however it takes too long to process due to its exponential nature. In my laptop
I can get up to the 42nd <code>blink</code> iteration without losing my patience to wait
even longer.</p><p>The main observation to account for is that we only care about the length of the
stone sequence, hence the original task transforms into a simple 2D dynamic
programming problem.</p><p>I call:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>print(dp_blink(stones, <span style=color:#ae81ff>75</span>))
</span></span></code></pre></div><p>Which is defined this way:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dp_blink</span>(stones, times):
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> lru_cache
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@lru_cache</span>(maxsize<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dp</span>(stone: int, times: int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> times <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> sum([dp(stone, times <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> blink([stone])])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sum([dp(stone, times) <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> stones])
</span></span></code></pre></div><p>The DP consists of the stone, and how many times are left for you to blink at it.</p><p>The full solution:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/env python3</span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> sys
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>blink</span>(stones):
</span></span><span style=display:flex><span>    stones_next <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> stones:
</span></span><span style=display:flex><span>        s <span style=color:#f92672>=</span> str(stone)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> stone <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(<span style=color:#ae81ff>1</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>elif</span> len(s) <span style=color:#f92672>%</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            index <span style=color:#f92672>=</span> len(s) <span style=color:#f92672>//</span> <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(int(s[:index]))
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(int(s[index:]))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            stones_next<span style=color:#f92672>.</span>append(stone <span style=color:#f92672>*</span> <span style=color:#ae81ff>2024</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> stones_next
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dp_blink</span>(stones, times):
</span></span><span style=display:flex><span>    <span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> lru_cache
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@lru_cache</span>(maxsize<span style=color:#f92672>=</span><span style=color:#66d9ef>None</span>)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>dp</span>(stone: int, times: int) <span style=color:#f92672>-&gt;</span> int:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> times <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> sum([dp(stone, times <span style=color:#f92672>-</span> <span style=color:#ae81ff>1</span>) <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> blink([stone])])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> sum([dp(stone, times) <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> stones])
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>with</span> open(sys<span style=color:#f92672>.</span>argv[<span style=color:#ae81ff>1</span>]) <span style=color:#66d9ef>as</span> input:
</span></span><span style=display:flex><span>        lines <span style=color:#f92672>=</span> input<span style=color:#f92672>.</span>read()<span style=color:#f92672>.</span>splitlines()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    stones <span style=color:#f92672>=</span> [int(stone) <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> lines[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> _ <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>25</span>):
</span></span><span style=display:flex><span>        stones <span style=color:#f92672>=</span> blink(stones)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># part one</span>
</span></span><span style=display:flex><span>    print(len(stones))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># This is very slow, with an exponential complexity runtime.</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># What did you expect?</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># for i in range(50):  # 50 = 75 - 25</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#     print(i)</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>#     stones = blink(stones)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># # part two</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># print(len(stones))</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    stones <span style=color:#f92672>=</span> [int(stone) <span style=color:#66d9ef>for</span> stone <span style=color:#f92672>in</span> lines[<span style=color:#ae81ff>0</span>]<span style=color:#f92672>.</span>split()]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># part two</span>
</span></span><span style=display:flex><span>    print(dp_blink(stones, <span style=color:#ae81ff>75</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>It&rsquo;s <code>#include &lt;string></code>.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.perrotta.dev/tags/dev/>Dev</a></li></ul></footer></article></main><footer class=footer><span>Copyright © 2021 - 2024 Thiago Perrotta · <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> · <a href=/index.xml>RSS</a> · Made with ♥ in 🇨🇦</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
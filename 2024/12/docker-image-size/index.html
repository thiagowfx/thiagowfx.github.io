<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Docker image size | not just serendipity</title><meta name=title content="Docker image size">
<meta name=description content="When trying to optimize docker images in terms of size, the workflow is as
follows:
Terminal 1
% docker build -f Dockerfile . -t argocd-download-tools
&mldr;possibly paired up with entr or fswatch depending on your eagerness for
automatic builds.
Terminal 2
% docker image inspect argocd-download-tools | jq -r '.[0].Size' | numfmt --to=iec
134M
&mldr;possibly prepended with watch.
I wasn&rsquo;t aware of numfmt:

numfmt - Convert numbers from/to human-readable strings

&mldr;instead of displaying plain bytes, it converts numbers to human-readable
strings (à la df -h or free -h)."><meta name=keywords content="dev,"><meta property="og:url" content="https://perrotta.dev/2024/12/docker-image-size/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Docker image size"><meta property="og:description" content="When trying to optimize docker images in terms of size, the workflow is as follows:
Terminal 1 % docker build -f Dockerfile . -t argocd-download-tools …possibly paired up with entr or fswatch depending on your eagerness for automatic builds.
Terminal 2 % docker image inspect argocd-download-tools | jq -r '.[0].Size' | numfmt --to=iec 134M …possibly prepended with watch.
I wasn’t aware of numfmt:
numfmt - Convert numbers from/to human-readable strings
…instead of displaying plain bytes, it converts numbers to human-readable strings (à la df -h or free -h)."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-05T13:05:44+01:00"><meta property="article:modified_time" content="2024-12-05T13:05:44+01:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker image size"><meta name=twitter:description content="When trying to optimize docker images in terms of size, the workflow is as follows:
Terminal 1 % docker build -f Dockerfile . -t argocd-download-tools …possibly paired up with entr or fswatch depending on your eagerness for automatic builds.
Terminal 2 % docker image inspect argocd-download-tools | jq -r '.[0].Size' | numfmt --to=iec 134M …possibly prepended with watch.
I wasn’t aware of numfmt:
numfmt - Convert numbers from/to human-readable strings
…instead of displaying plain bytes, it converts numbers to human-readable strings (à la df -h or free -h)."><meta itemprop=name content="Docker image size"><meta itemprop=description content="When trying to optimize docker images in terms of size, the workflow is as follows:
Terminal 1 % docker build -f Dockerfile . -t argocd-download-tools …possibly paired up with entr or fswatch depending on your eagerness for automatic builds.
Terminal 2 % docker image inspect argocd-download-tools | jq -r '.[0].Size' | numfmt --to=iec 134M …possibly prepended with watch.
I wasn’t aware of numfmt:
numfmt - Convert numbers from/to human-readable strings
…instead of displaying plain bytes, it converts numbers to human-readable strings (à la df -h or free -h)."><meta itemprop=datePublished content="2024-12-05T13:05:44+01:00"><meta itemprop=dateModified content="2024-12-05T13:05:44+01:00"><meta itemprop=wordCount content="121"><meta itemprop=keywords content="Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>:root{--color-gray:#888;--font-title:'Inter', 'Fira Sans', 'Lato', system-ui, -apple-system, BlinkMacSystemFont, 'Avenir Next', 'Avenir', 'Segoe UI', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, Cantarell, Arial, sans-serif;--font-body:'Crimson Pro', 'Vollkorn', 'Alegreya', 'Iowan Old Style', 'Apple Garamond', 'Baskerville', 'Times New Roman', 'Noto Serif', 'Droid Serif', 'Times', 'Source Serif Pro', serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';--font-code:'Fira Code', 'PT Mono', 'IBM Plex Mono', Menlo, Consolas, Monaco, 'Liberation Mono', 'Ubuntu Mono', 'Lucida Console', monospace}body{font-family:var(--font-body);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}time.pubdate{color:var(--color-gray)}sup.gray{color:var(--color-gray)}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>Docker image size</h1><p><i><time datetime=2024-12-05 pubdate>05 Dec, 2024
</time>• 121 words
• 1 min</i></p><content><p>When trying to optimize docker images in terms of size, the workflow is as
follows:</p><h2 id=terminal-1>Terminal 1</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% docker build -f Dockerfile . -t argocd-download-tools
</span></span></code></pre></div><p>&mldr;possibly paired up with <code>entr</code> or <code>fswatch</code> depending on your eagerness for
automatic builds.</p><h2 id=terminal-2>Terminal 2</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% docker image inspect argocd-download-tools | jq -r <span style=color:#e6db74>&#39;.[0].Size&#39;</span> | numfmt --to<span style=color:#f92672>=</span>iec
</span></span><span style=display:flex><span>134M
</span></span></code></pre></div><p>&mldr;possibly prepended with <code>watch</code>.</p><p>I wasn&rsquo;t aware of <a href=https://man.archlinux.org/man/numfmt.1><code>numfmt</code></a>:</p><blockquote><p>numfmt - Convert numbers from/to human-readable strings</p></blockquote><p>&mldr;instead of displaying plain bytes, it converts numbers to human-readable
strings (à la <code>df -h</code> or <code>free -h</code>).</p><p>Regarding the <a href=https://en.wikipedia.org/wiki/Binary_prefix>units</a>: they don&rsquo;t
matter much, because we are only interested in an approximation, no need to
shave bytes off here. <code>SI</code> has 1k = 1000, whereas <code>IEC</code> has 1Ki = 1024.</p></content><p><a href=https://perrotta.dev/tags/dev/>#dev</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:notjustserendipity@perrotta.dev>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
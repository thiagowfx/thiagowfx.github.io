<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>skopeo: operate container images and registries | not just serendipity</title>
<meta name=keywords content="dev,devops"><meta name=description content='When working with docker and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with skopeo.
This post includes some common recipes for it.
Usage 1) Default / Root to Staging From the default / root account registry to the staging registry:
skopeo sync \ --src-creds "AWS:$(aws ecr get-login-password --region {region} --profile default)" \ --dest-creds "AWS:$(aws ecr get-login-password --region {region} --profile staging)" \ --override-os linux --override-arch amd64 \ --src docker --dest docker \ {account_id_root}.'><meta name=author content="Thiago Perrotta"><link rel=canonical href=https://www.perrotta.dev/2024/12/skopeo-operate-container-images-and-registries/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://www.perrotta.dev/favicon.ico><link rel=apple-touch-icon href=https://www.perrotta.dev/apple-touch-icon.png><link rel=mask-icon href=https://www.perrotta.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.perrotta.dev/2024/12/skopeo-operate-container-images-and-registries/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}h1,h2,h3,h4,h5,h6,footer,nav,.toc,.post-meta{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}</style><meta property="og:title" content="skopeo: operate container images and registries"><meta property="og:description" content='When working with docker and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with skopeo.
This post includes some common recipes for it.
Usage 1) Default / Root to Staging From the default / root account registry to the staging registry:
skopeo sync \ --src-creds "AWS:$(aws ecr get-login-password --region {region} --profile default)" \ --dest-creds "AWS:$(aws ecr get-login-password --region {region} --profile staging)" \ --override-os linux --override-arch amd64 \ --src docker --dest docker \ {account_id_root}.'><meta property="og:type" content="article"><meta property="og:url" content="https://www.perrotta.dev/2024/12/skopeo-operate-container-images-and-registries/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-17T17:49:31-03:00"><meta property="article:modified_time" content="2024-12-17T17:49:31-03:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="skopeo: operate container images and registries"><meta name=twitter:description content='When working with docker and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with skopeo.
This post includes some common recipes for it.
Usage 1) Default / Root to Staging From the default / root account registry to the staging registry:
skopeo sync \ --src-creds "AWS:$(aws ecr get-login-password --region {region} --profile default)" \ --dest-creds "AWS:$(aws ecr get-login-password --region {region} --profile staging)" \ --override-os linux --override-arch amd64 \ --src docker --dest docker \ {account_id_root}.'><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.perrotta.dev/posts/"},{"@type":"ListItem","position":2,"name":"skopeo: operate container images and registries","item":"https://www.perrotta.dev/2024/12/skopeo-operate-container-images-and-registries/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"skopeo: operate container images and registries","name":"skopeo: operate container images and registries","description":"When working with docker and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with skopeo.\nThis post includes some common recipes for it.\nUsage 1) Default / Root to Staging From the default / root account registry to the staging registry:\nskopeo sync \\ --src-creds \u0026#34;AWS:$(aws ecr get-login-password --region {region} --profile default)\u0026#34; \\ --dest-creds \u0026#34;AWS:$(aws ecr get-login-password --region {region} --profile staging)\u0026#34; \\ --override-os linux --override-arch amd64 \\ --src docker --dest docker \\ {account_id_root}.","keywords":["dev","devops"],"articleBody":"When working with docker and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with skopeo.\nThis post includes some common recipes for it.\nUsage 1) Default / Root to Staging From the default / root account registry to the staging registry:\nskopeo sync \\ --src-creds \"AWS:$(aws ecr get-login-password --region {region} --profile default)\" \\ --dest-creds \"AWS:$(aws ecr get-login-password --region {region} --profile staging)\" \\ --override-os linux --override-arch amd64 \\ --src docker --dest docker \\ {account_id_root}.dkr.ecr.{region}.amazonaws.com/{org}/{repository}:{tag} \\ {account_id_staging}.dkr.ecr.{region}.amazonaws.com/{org} Example values1:\nrepository: argocd-gitops-tools tag (version): 1.0.1 region: us-east-1 Usage 2) Public to MFA From a public registry to a private registry that uses MFA (multi-factor authentication).\nFirst, it’s necessary to get MFA credentials:\n#!/usr/bin/env bash # shellcheck disable=SC2155 export AWS_PROFILE=china echo -n \"Enter the MFA token code for your AWS China account: \" \u0026\u0026 read -r token mfa_arn=\"$(aws iam --profile \"$AWS_PROFILE\" get-user --output text --query User.Arn | sed 's/:user\\//:mfa\\//')\" credentials=\"$(aws --profile \"$AWS_PROFILE\" sts get-session-token --serial-number \"$mfa_arn\" --token-code \"$token\" --duration-seconds 86400)\" echo \"Got credentials: $credentials\" export AWS_ACCESS_KEY_ID=$(echo \"$credentials\" | jq -r '.Credentials.AccessKeyId') export AWS_SECRET_ACCESS_KEY=$(echo \"$credentials\" | jq -r '.Credentials.SecretAccessKey') export AWS_SESSION_TOKEN=$(echo \"$credentials\" | jq -r '.Credentials.SessionToken') [[ -n \"$AWS_SESSION_TOKEN\" ] \u0026\u0026 echo \"Success!\" Then we can proceed with the image sync:\nskopeo sync \\ --dest-creds \"AWS:$(aws ecr get-login-password --region cn-north-1)\" \\ --override-os linux --override-arch amd64 \\ --src docker --dest docker \\ quay.io/argoproj/argocd:v2.12.6 \\ {account_id_mfa}.dkr.ecr.cn-north-1.amazonaws.com.cn/quay.io/argoproj Notes:\nA public registry does not need authentication, hence there’s no --src-creds. --dest-creds does not specify a --profile. Likewise, no AWS_PROFILE env var should be defined. In this example, China (cn-north-1) is an AWS account with MFA enabled. It’s possible to pass --scoped to prefix images at destination using the full source image path as scope.\nimage = registry (includes the org name) + repository + tag ↩︎\n","wordCount":"301","inLanguage":"en","datePublished":"2024-12-17T17:49:31-03:00","dateModified":"2024-12-17T17:49:31-03:00","author":{"@type":"Person","name":"Thiago Perrotta"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.perrotta.dev/2024/12/skopeo-operate-container-images-and-registries/"},"publisher":{"@type":"Person","name":"not just serendipity","logo":{"@type":"ImageObject","url":"https://www.perrotta.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.perrotta.dev/ accesskey=h title="not just serendipity (Alt + H)"><img src=https://www.perrotta.dev/apple-touch-icon.png alt aria-label=logo height=32>not just serendipity</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.perrotta.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.perrotta.dev/tags/bestof/ title="★ bestof"><span>★ bestof</span></a></li><li><a href=https://www.perrotta.dev/tags/serenity/ title=serenity><span>serenity</span></a></li><li><a href=https://www.perrotta.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://www.perrotta.dev/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://www.perrotta.dev/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">skopeo: operate container images and registries</h1><div class=post-meta><span title='2024-12-17 17:49:31 -0300 -0300'>December 17, 2024</span>&nbsp;·&nbsp;301 words&nbsp;·&nbsp;Thiago Perrotta</div></header><div class=post-content><p>When working with <code>docker</code> and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with <a href=https://github.com/containers/skopeo/><code>skopeo</code></a>.</p><p>This post includes some common recipes for it.</p><h2 id=usage-1-default--root-to-staging>Usage 1) Default / Root to Staging<a hidden class=anchor aria-hidden=true href=#usage-1-default--root-to-staging>#</a></h2><p>From the default / root account registry to the staging registry:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>skopeo sync <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --src-creds <span style=color:#e6db74>&#34;AWS:</span><span style=color:#66d9ef>$(</span>aws ecr get-login-password --region <span style=color:#f92672>{</span>region<span style=color:#f92672>}</span> --profile default<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --dest-creds <span style=color:#e6db74>&#34;AWS:</span><span style=color:#66d9ef>$(</span>aws ecr get-login-password --region <span style=color:#f92672>{</span>region<span style=color:#f92672>}</span> --profile staging<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --override-os linux --override-arch amd64 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --src docker --dest docker <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  <span style=color:#f92672>{</span>account_id_root<span style=color:#f92672>}</span>.dkr.ecr.<span style=color:#f92672>{</span>region<span style=color:#f92672>}</span>.amazonaws.com/<span style=color:#f92672>{</span>org<span style=color:#f92672>}</span>/<span style=color:#f92672>{</span>repository<span style=color:#f92672>}</span>:<span style=color:#f92672>{</span>tag<span style=color:#f92672>}</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  <span style=color:#f92672>{</span>account_id_staging<span style=color:#f92672>}</span>.dkr.ecr.<span style=color:#f92672>{</span>region<span style=color:#f92672>}</span>.amazonaws.com/<span style=color:#f92672>{</span>org<span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Example values<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>:</p><ul><li>repository: <code>argocd-gitops-tools</code></li><li>tag (version): <code>1.0.1</code></li><li>region: <code>us-east-1</code></li></ul><h2 id=usage-2-public-to-mfa>Usage 2) Public to MFA<a hidden class=anchor aria-hidden=true href=#usage-2-public-to-mfa>#</a></h2><p>From a public registry to a private registry that uses MFA (multi-factor authentication).</p><p>First, it’s necessary to get MFA credentials:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#75715e>#!/usr/bin/env bash
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#75715e># shellcheck disable=SC2155</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export AWS_PROFILE<span style=color:#f92672>=</span>china
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo -n <span style=color:#e6db74>&#34;Enter the MFA token code for your AWS China account: &#34;</span> <span style=color:#f92672>&amp;&amp;</span> read -r token
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>mfa_arn<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>aws iam --profile <span style=color:#e6db74>&#34;</span>$AWS_PROFILE<span style=color:#e6db74>&#34;</span> get-user --output text --query User.Arn | sed <span style=color:#e6db74>&#39;s/:user\//:mfa\//&#39;</span><span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>credentials<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>aws --profile <span style=color:#e6db74>&#34;</span>$AWS_PROFILE<span style=color:#e6db74>&#34;</span> sts get-session-token --serial-number <span style=color:#e6db74>&#34;</span>$mfa_arn<span style=color:#e6db74>&#34;</span> --token-code <span style=color:#e6db74>&#34;</span>$token<span style=color:#e6db74>&#34;</span> --duration-seconds 86400<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>echo <span style=color:#e6db74>&#34;Got credentials: </span>$credentials<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>export AWS_ACCESS_KEY_ID<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>echo <span style=color:#e6db74>&#34;</span>$credentials<span style=color:#e6db74>&#34;</span> | jq -r <span style=color:#e6db74>&#39;.Credentials.AccessKeyId&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>export AWS_SECRET_ACCESS_KEY<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>echo <span style=color:#e6db74>&#34;</span>$credentials<span style=color:#e6db74>&#34;</span> | jq -r <span style=color:#e6db74>&#39;.Credentials.SecretAccessKey&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>export AWS_SESSION_TOKEN<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>echo <span style=color:#e6db74>&#34;</span>$credentials<span style=color:#e6db74>&#34;</span> | jq -r <span style=color:#e6db74>&#39;.Credentials.SessionToken&#39;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>[[</span> -n <span style=color:#e6db74>&#34;</span>$AWS_SESSION_TOKEN<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]</span> <span style=color:#f92672>&amp;&amp;</span> echo <span style=color:#e6db74>&#34;Success!&#34;</span>
</span></span></code></pre></div><p>Then we can proceed with the image sync:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>skopeo sync <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --dest-creds <span style=color:#e6db74>&#34;AWS:</span><span style=color:#66d9ef>$(</span>aws ecr get-login-password --region cn-north-1<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span> <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --override-os linux --override-arch amd64 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  --src docker --dest docker <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  quay.io/argoproj/argocd:v2.12.6 <span style=color:#ae81ff>\
</span></span></span><span style=display:flex><span><span style=color:#ae81ff></span>  <span style=color:#f92672>{</span>account_id_mfa<span style=color:#f92672>}</span>.dkr.ecr.cn-north-1.amazonaws.com.cn/quay.io/argoproj
</span></span></code></pre></div><p>Notes:</p><ul><li>A public registry does not need authentication, hence there’s no <code>--src-creds</code>.</li><li><code>--dest-creds</code> does not specify a <code>--profile</code>. Likewise, no <code>AWS_PROFILE</code> env var should be defined.</li><li>In this example, China (<code>cn-north-1</code>) is an AWS account with MFA enabled.</li></ul><p>It’s possible to pass <code>--scoped</code> to prefix images at destination using the full source image path as scope.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>image = registry (includes the org name) + repository + tag&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.perrotta.dev/tags/dev/>Dev</a></li><li><a href=https://www.perrotta.dev/tags/devops/>Devops</a></li></ul></footer></article></main><footer class=footer><span>Copyright © 2021 - 2024 Thiago Perrotta · <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> · <a href=/index.xml>RSS</a> · Made with ♥ in 🇨🇦</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
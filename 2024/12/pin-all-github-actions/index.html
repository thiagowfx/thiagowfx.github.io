<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Pin all github actions | not just serendipity</title><meta name=title content="Pin all github actions">
<meta name=description content="via Connor Edwards:

Since git tags can be moved arbitrarily by the author, there&rsquo;s nothing stopping them going rogue and changing the Action to be malicious at any time. The author could change the code to exfiltrate the repository itself, the GITHUB_TOKEN (which in many cases can have more power than it should), or other CI/CD secrets.

Hence, bad:
uses: actions/checkout@v4
Good:
uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4
I find an effective way to address and enforce this practice is via pre-commit:"><meta name=keywords content="dev,"><meta property="og:url" content="https://perrotta.dev/2024/12/pin-all-github-actions/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Pin all github actions"><meta property="og:description" content="via Connor Edwards:
Since git tags can be moved arbitrarily by the author, there’s nothing stopping them going rogue and changing the Action to be malicious at any time. The author could change the code to exfiltrate the repository itself, the GITHUB_TOKEN (which in many cases can have more power than it should), or other CI/CD secrets.
Hence, bad:
uses: actions/checkout@v4 Good:
uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4 I find an effective way to address and enforce this practice is via pre-commit:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-28T20:49:27-03:00"><meta property="article:modified_time" content="2024-12-28T20:49:27-03:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pin all github actions"><meta name=twitter:description content="via Connor Edwards:
Since git tags can be moved arbitrarily by the author, there’s nothing stopping them going rogue and changing the Action to be malicious at any time. The author could change the code to exfiltrate the repository itself, the GITHUB_TOKEN (which in many cases can have more power than it should), or other CI/CD secrets.
Hence, bad:
uses: actions/checkout@v4 Good:
uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4 I find an effective way to address and enforce this practice is via pre-commit:"><meta itemprop=name content="Pin all github actions"><meta itemprop=description content="via Connor Edwards:
Since git tags can be moved arbitrarily by the author, there’s nothing stopping them going rogue and changing the Action to be malicious at any time. The author could change the code to exfiltrate the repository itself, the GITHUB_TOKEN (which in many cases can have more power than it should), or other CI/CD secrets.
Hence, bad:
uses: actions/checkout@v4 Good:
uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4 I find an effective way to address and enforce this practice is via pre-commit:"><meta itemprop=datePublished content="2024-12-28T20:49:27-03:00"><meta itemprop=dateModified content="2024-12-28T20:49:27-03:00"><meta itemprop=wordCount content="171"><meta itemprop=keywords content="Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/2024/12/pin-all-github-actions/><style>:root{--color-gray:#888;--color-grayer:#666;--font-title:'Inter', 'Fira Sans', 'Lato', system-ui, -apple-system, BlinkMacSystemFont, 'Avenir Next', 'Avenir', 'Segoe UI', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, Cantarell, Arial, sans-serif;--font-body:'Crimson Pro', 'Vollkorn', 'Alegreya', 'Iowan Old Style', 'Apple Garamond', 'Baskerville', 'Times New Roman', 'Noto Serif', 'Droid Serif', 'Times', 'Source Serif Pro', serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';--font-code:'Fira Code', 'PT Mono', 'IBM Plex Mono', Menlo, Consolas, Monaco, 'Liberation Mono', 'Ubuntu Mono', 'Lucida Console', monospace}body{font-family:var(--font-body);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}.pubdate-list{color:var(--color-gray);font-style:italic}.pubdate-single{color:var(--color-grayer);font-style:italic}sup.gray{color:var(--color-grayer)}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>Pin all github actions</h1><p><span class=pubdate-single><time datetime=2024-12-28 pubdate>28 Dec, 2024
</time>• 171 words
• 1 min</span></p><content><p><a href=https://cedwards.xyz/github-actions-are-an-impending-security-disaster/>via Connor Edwards</a>:</p><blockquote><p>Since git tags can be moved arbitrarily by the author, there&rsquo;s nothing stopping them going rogue and changing the Action to be malicious at any time. The author could change the code to exfiltrate the repository itself, the GITHUB_TOKEN (which in many cases can have more power than it should), or other CI/CD secrets.</p></blockquote><p>Hence, bad:</p><pre tabindex=0><code>uses: actions/checkout@v4
</code></pre><p>Good:</p><pre tabindex=0><code>uses: actions/checkout@11bd71901bbe5b1630ceea73d27597364c9af683 # v4
</code></pre><p>I find an effective way to address and enforce this practice is via <a href=https://pre-commit.com/>pre-commit</a>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>- <span style=color:#f92672>repo</span>: <span style=color:#ae81ff>https://github.com/lalten/check-gha-pinning</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>rev</span>: <span style=color:#ae81ff>v1.2.0</span> <span style=color:#75715e># or whatever is the latest version</span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>hooks</span>:
</span></span><span style=display:flex><span>    - <span style=color:#f92672>id</span>: <span style=color:#ae81ff>check-gha-pinning</span>
</span></span></code></pre></div><p>Try this to check whether there are any existing violations in your repositories:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% pre-commit try-repo https://github.com/lalten/check-gha-pinning --all-files
</span></span></code></pre></div><p>I had some in my blog:</p><pre tabindex=0><code>GitHub Actions Pinning...................................................Failed
- hook id: check-gha-pinning
- exit code: 1

.github/workflows/gh-pages.yml:22: peaceiris/actions-hugo@v3 is not pinned to commit (should be e3b661c523413d13d642651a5ba5fc0d2b344c0d # v3)
.github/workflows/gh-pages.yml:27: extractions/setup-just@v2 is not pinned to commit (should be dd310ad5a97d8e7b41793f8ef055398d51ad4de6 # v2.0.0)
.github/workflows/gh-pages.yml:33: peaceiris/actions-gh-pages@v4 is not pinned to commit (should be e9c66a37f080288a11235e32cbe2dc5fb3a679cc # v4)
</code></pre><p>They are now fixed.</p></content><p><a href=https://perrotta.dev/tags/dev/>#dev</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:notjustserendipity@perrotta.dev>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
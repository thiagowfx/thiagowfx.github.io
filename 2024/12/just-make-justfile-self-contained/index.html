<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Just: make Justfile self-contained | not just serendipity</title><meta name=title content="Just: make Justfile self-contained">
<meta name=description content="A commit is worth a thousand words, following up on my previous just post:
diff --git Justfile Justfile
old mode 100644
new mode 100755
index 1e1e33c7..cb0cd5e2
--- Justfile
+++ Justfile
@@ -1,10 +1,16 @@
+#!/usr/bin/env just --justfile
 # https://github.com/casey/just

 set dotenv-load

+_default:
+    @just --list

Add a shebang to invoke your Justfile
Make your Justfile executable (with chmod +x)
Add a default target that invokes just --list. It should be the first one.
The underscore makes it private, effectively hiding it from the list output.

The diff above is for the Justfile used for this blog. The above change
yields:"><meta name=keywords content="dev,"><meta property="og:url" content="https://perrotta.dev/2024/12/just-make-justfile-self-contained/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Just: make Justfile self-contained"><meta property="og:description" content="A commit is worth a thousand words, following up on my previous just post:
diff --git Justfile Justfile old mode 100644 new mode 100755 index 1e1e33c7..cb0cd5e2 --- Justfile +++ Justfile @@ -1,10 +1,16 @@ +#!/usr/bin/env just --justfile # https://github.com/casey/just set dotenv-load +_default: + @just --list Add a shebang to invoke your Justfile Make your Justfile executable (with chmod +x) Add a default target that invokes just --list. It should be the first one. The underscore makes it private, effectively hiding it from the list output. The diff above is for the Justfile used for this blog. The above change yields:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-12-23T23:23:13-03:00"><meta property="article:modified_time" content="2024-12-23T23:23:13-03:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Just: make Justfile self-contained"><meta name=twitter:description content="A commit is worth a thousand words, following up on my previous just post:
diff --git Justfile Justfile old mode 100644 new mode 100755 index 1e1e33c7..cb0cd5e2 --- Justfile +++ Justfile @@ -1,10 +1,16 @@ +#!/usr/bin/env just --justfile # https://github.com/casey/just set dotenv-load +_default: + @just --list Add a shebang to invoke your Justfile Make your Justfile executable (with chmod +x) Add a default target that invokes just --list. It should be the first one. The underscore makes it private, effectively hiding it from the list output. The diff above is for the Justfile used for this blog. The above change yields:"><meta itemprop=name content="Just: make Justfile self-contained"><meta itemprop=description content="A commit is worth a thousand words, following up on my previous just post:
diff --git Justfile Justfile old mode 100644 new mode 100755 index 1e1e33c7..cb0cd5e2 --- Justfile +++ Justfile @@ -1,10 +1,16 @@ +#!/usr/bin/env just --justfile # https://github.com/casey/just set dotenv-load +_default: + @just --list Add a shebang to invoke your Justfile Make your Justfile executable (with chmod +x) Add a default target that invokes just --list. It should be the first one. The underscore makes it private, effectively hiding it from the list output. The diff above is for the Justfile used for this blog. The above change yields:"><meta itemprop=datePublished content="2024-12-23T23:23:13-03:00"><meta itemprop=dateModified content="2024-12-23T23:23:13-03:00"><meta itemprop=wordCount content="172"><meta itemprop=keywords content="Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>body{font-family:crimson pro,vollkorn,alegreya,iowan old style,apple garamond,baskerville,times new roman,noto serif,droid serif,times,source serif pro,serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:inter,fira sans,lato,system-ui,-apple-system,BlinkMacSystemFont,avenir next,avenir,segoe ui,helvetica neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:fira code,pt mono,ibm plex mono,Menlo,Consolas,Monaco,liberation mono,ubuntu mono,lucida console,monospace}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>Just: make Justfile self-contained</h1><p><i><time datetime=2024-12-23 pubdate>23 Dec, 2024
</time>• 172 words
• 1 minutes</i></p><content><p>A commit is worth a thousand words, following up on my previous <a href=https://perrotta.dev/2024/12/just/>just</a> post:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-diff data-lang=diff><span style=display:flex><span>diff --git Justfile Justfile
</span></span><span style=display:flex><span>old mode 100644
</span></span><span style=display:flex><span>new mode 100755
</span></span><span style=display:flex><span>index 1e1e33c7..cb0cd5e2
</span></span><span style=display:flex><span><span style=color:#f92672>--- Justfile
</span></span></span><span style=display:flex><span><span style=color:#f92672></span><span style=color:#a6e22e>+++ Justfile
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span><span style=color:#75715e>@@ -1,10 +1,16 @@
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>+#!/usr/bin/env just --justfile
</span></span></span><span style=display:flex><span><span style=color:#a6e22e></span> # https://github.com/casey/just
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span> set dotenv-load
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>+_default:
</span></span></span><span style=display:flex><span><span style=color:#a6e22e>+    @just --list
</span></span></span></code></pre></div><ul><li>Add a shebang to invoke your <code>Justfile</code></li><li>Make your <code>Justfile</code> executable (with <code>chmod +x</code>)</li><li>Add a default target that invokes <code>just --list</code>. It should be the first one.
The underscore makes it private, effectively hiding it from the list output.</li></ul><p>The diff above is for the <code>Justfile</code> used for this blog. The above change
yields:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% ./Justfile
</span></span><span style=display:flex><span>Available recipes:
</span></span><span style=display:flex><span>    build                                           <span style=color:#75715e># Build the blog as in production</span>
</span></span><span style=display:flex><span>    clean                                           <span style=color:#75715e># Delete hugo build artifacts</span>
</span></span><span style=display:flex><span>    new post                                        <span style=color:#75715e># Create a new post. Usage: `just new &#34;advent of code day 8&#34;`</span>
</span></span><span style=display:flex><span>    ping sitemap<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;https://perrotta.dev/sitemap.xml&#34;</span> <span style=color:#75715e># Ping Google and Bing about changes in the sitemap</span>
</span></span><span style=display:flex><span>    update                                          <span style=color:#75715e># Update git submodules</span>
</span></span><span style=display:flex><span>    watch                                           <span style=color:#75715e># Start a hugo server in watch mode</span>
</span></span></code></pre></div><p>Realistically though I&rsquo;d rather invoke the <code>just</code> binary directly most of the
time.</p></content><p><a href=https://perrotta.dev/tags/dev/>#dev</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:tbperrotta@gmail.com>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
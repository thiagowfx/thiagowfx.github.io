<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>kubectl: get all logs from all pods | not just serendipity</title><meta name=title content="kubectl: get all logs from all pods">
<meta name=description content="Frequently:
kubectl logs -n argocd argocd-repo-server-5d59975687-dxnh7
But how do you know what hash to use after server-?
Option 1): TAB auto-completion:
kubectl logs -n argocd argocd-repo-server-<TAB>
Caveats:

tab completion for kubectl isn&rsquo;t always properly set up
if there is more than one pod, you would have to type in the first few letters
of the hash before hitting TAB again, that&rsquo;s annoying and non-ergonomic

Option 2): subshell
kubectl logs -n argocd $(kubectl get pod -n argocd | grep argocd-repo-server | cut -f1 -d' ' | head -1)
Caveats:"><meta name=keywords content="dev,"><meta property="og:url" content="https://perrotta.dev/2024/07/kubectl-get-all-logs-from-all-pods/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="kubectl: get all logs from all pods"><meta property="og:description" content="Frequently:
kubectl logs -n argocd argocd-repo-server-5d59975687-dxnh7 But how do you know what hash to use after server-?
Option 1): TAB auto-completion:
kubectl logs -n argocd argocd-repo-server-<TAB> Caveats:
tab completion for kubectl isn’t always properly set up if there is more than one pod, you would have to type in the first few letters of the hash before hitting TAB again, that’s annoying and non-ergonomic Option 2): subshell
kubectl logs -n argocd $(kubectl get pod -n argocd | grep argocd-repo-server | cut -f1 -d' ' | head -1) Caveats:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-15T13:23:35+02:00"><meta property="article:modified_time" content="2024-07-15T13:23:35+02:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="kubectl: get all logs from all pods"><meta name=twitter:description content="Frequently:
kubectl logs -n argocd argocd-repo-server-5d59975687-dxnh7 But how do you know what hash to use after server-?
Option 1): TAB auto-completion:
kubectl logs -n argocd argocd-repo-server-<TAB> Caveats:
tab completion for kubectl isn’t always properly set up if there is more than one pod, you would have to type in the first few letters of the hash before hitting TAB again, that’s annoying and non-ergonomic Option 2): subshell
kubectl logs -n argocd $(kubectl get pod -n argocd | grep argocd-repo-server | cut -f1 -d' ' | head -1) Caveats:"><meta itemprop=name content="kubectl: get all logs from all pods"><meta itemprop=description content="Frequently:
kubectl logs -n argocd argocd-repo-server-5d59975687-dxnh7 But how do you know what hash to use after server-?
Option 1): TAB auto-completion:
kubectl logs -n argocd argocd-repo-server-<TAB> Caveats:
tab completion for kubectl isn’t always properly set up if there is more than one pod, you would have to type in the first few letters of the hash before hitting TAB again, that’s annoying and non-ergonomic Option 2): subshell
kubectl logs -n argocd $(kubectl get pod -n argocd | grep argocd-repo-server | cut -f1 -d' ' | head -1) Caveats:"><meta itemprop=datePublished content="2024-07-15T13:23:35+02:00"><meta itemprop=dateModified content="2024-07-15T13:23:35+02:00"><meta itemprop=wordCount content="170"><meta itemprop=keywords content="Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>body{font-family:crimson pro,vollkorn,alegreya,iowan old style,apple garamond,baskerville,times new roman,noto serif,droid serif,times,source serif pro,serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:inter,fira sans,lato,system-ui,-apple-system,BlinkMacSystemFont,avenir next,avenir,segoe ui,helvetica neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:fira code,pt mono,ibm plex mono,Menlo,Consolas,Monaco,liberation mono,ubuntu mono,lucida console,monospace}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>kubectl: get all logs from all pods</h1><p><i><time datetime=2024-07-15 pubdate>15 Jul, 2024
</time>• 170 words
• 1 minutes</i></p><content><p>Frequently:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl logs -n argocd argocd-repo-server-5d59975687-dxnh7
</span></span></code></pre></div><p>But how do you know what hash to use after <code>server-</code>?</p><p><strong>Option 1)</strong>: TAB auto-completion:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl logs -n argocd argocd-repo-server-&lt;TAB&gt;
</span></span></code></pre></div><p><strong>Caveats</strong>:</p><ul><li>tab completion for <code>kubectl</code> isn&rsquo;t always properly set up</li><li>if there is more than one pod, you would have to type in the first few letters
of the hash before hitting TAB again, that&rsquo;s annoying and non-ergonomic</li></ul><p><strong>Option 2)</strong>: subshell</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl logs -n argocd <span style=color:#66d9ef>$(</span>kubectl get pod -n argocd | grep argocd-repo-server | cut -f1 -d<span style=color:#e6db74>&#39; &#39;</span> | head -1<span style=color:#66d9ef>)</span>
</span></span></code></pre></div><p><strong>Caveats</strong>:</p><ul><li>a lot of typing</li><li><code>head -1</code> is necessary in case there are multiple pods<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></li></ul><p><strong>Option 3)</strong>: get all logs from all pods that match a given label</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>kubectl logs -n argocd -l app<span style=color:#f92672>=</span>app.kubernetes.io/instance<span style=color:#f92672>=</span>argocd
</span></span><span style=display:flex><span><span style=color:#f92672>[</span>--all-containers<span style=color:#f92672>]</span> <span style=color:#f92672>[</span>--ignore-errors<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>This is much more ergonomic.</p><p>You still need to figure out what label to use though:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ kubectl describe pod -n argocd argocd-repo-server-5d59975687-dxnh7 | grep -A7 -i labels:
</span></span><span style=display:flex><span>Labels:           app.kubernetes.io/component<span style=color:#f92672>=</span>repo-server
</span></span><span style=display:flex><span>                  app.kubernetes.io/instance<span style=color:#f92672>=</span>argocd
</span></span><span style=display:flex><span>                  app.kubernetes.io/managed-by<span style=color:#f92672>=</span>Helm
</span></span><span style=display:flex><span>                  app.kubernetes.io/name<span style=color:#f92672>=</span>argocd-repo-server
</span></span><span style=display:flex><span>                  app.kubernetes.io/part-of<span style=color:#f92672>=</span>argocd
</span></span><span style=display:flex><span>                  app.kubernetes.io/version<span style=color:#f92672>=</span>v2.11.4
</span></span><span style=display:flex><span>                  helm.sh/chart<span style=color:#f92672>=</span>argo-cd-7.3.4
</span></span><span style=display:flex><span>                  pod-template-hash<span style=color:#f92672>=</span>5d59975687
</span></span></code></pre></div><p><strong>Source</strong>: <a href=https://stackoverflow.com/questions/33069736/how-do-i-get-logs-from-all-pods-of-a-kubernetes-replication-controller>https://stackoverflow.com/questions/33069736/how-do-i-get-logs-from-all-pods-of-a-kubernetes-replication-controller</a></p><p>Happy logging!</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Or <code>tail -1</code>, for that matter.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></content><p><a href=https://perrotta.dev/tags/dev/>#dev</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:tbperrotta@gmail.com>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
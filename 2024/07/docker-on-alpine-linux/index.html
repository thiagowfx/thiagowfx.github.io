<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Docker on Alpine Linux | not just serendipity</title><meta name=title content="Docker on Alpine Linux">
<meta name=description content="In this post: how to properly start docker on an Alpine Linux server.
First, install docker and friends:
doas apk add docker docker-cli docker-compose
Then start the docker service:
doas service docker start
Check if it started successfully:
service docker status
If not, then look at the logs:
less /var/log/docker.log
I got an error:
failed to start daemon: error initializing graphdriver: driver not supported
The suggestion was to change the driver to overlay2:"><meta name=keywords content="dev,"><meta property="og:url" content="https://perrotta.dev/2024/07/docker-on-alpine-linux/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Docker on Alpine Linux"><meta property="og:description" content="In this post: how to properly start docker on an Alpine Linux server.
First, install docker and friends:
doas apk add docker docker-cli docker-compose Then start the docker service:
doas service docker start Check if it started successfully:
service docker status If not, then look at the logs:
less /var/log/docker.log I got an error:
failed to start daemon: error initializing graphdriver: driver not supported The suggestion was to change the driver to overlay2:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-30T22:56:58+02:00"><meta property="article:modified_time" content="2024-07-30T22:56:58+02:00"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="Docker on Alpine Linux"><meta name=twitter:description content="In this post: how to properly start docker on an Alpine Linux server.
First, install docker and friends:
doas apk add docker docker-cli docker-compose Then start the docker service:
doas service docker start Check if it started successfully:
service docker status If not, then look at the logs:
less /var/log/docker.log I got an error:
failed to start daemon: error initializing graphdriver: driver not supported The suggestion was to change the driver to overlay2:"><meta itemprop=name content="Docker on Alpine Linux"><meta itemprop=description content="In this post: how to properly start docker on an Alpine Linux server.
First, install docker and friends:
doas apk add docker docker-cli docker-compose Then start the docker service:
doas service docker start Check if it started successfully:
service docker status If not, then look at the logs:
less /var/log/docker.log I got an error:
failed to start daemon: error initializing graphdriver: driver not supported The suggestion was to change the driver to overlay2:"><meta itemprop=datePublished content="2024-07-30T22:56:58+02:00"><meta itemprop=dateModified content="2024-07-30T22:56:58+02:00"><meta itemprop=wordCount content="115"><meta itemprop=keywords content="Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>:root{--color-gray:#888;--color-grayer:#666;--font-title:'Inter', 'Fira Sans', 'Lato', system-ui, -apple-system, BlinkMacSystemFont, 'Avenir Next', 'Avenir', 'Segoe UI', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, Cantarell, Arial, sans-serif;--font-body:'Crimson Pro', 'Vollkorn', 'Alegreya', 'Iowan Old Style', 'Apple Garamond', 'Baskerville', 'Times New Roman', 'Noto Serif', 'Droid Serif', 'Times', 'Source Serif Pro', serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';--font-code:'Fira Code', 'PT Mono', 'IBM Plex Mono', Menlo, Consolas, Monaco, 'Liberation Mono', 'Ubuntu Mono', 'Lucida Console', monospace}body{font-family:var(--font-body);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}.pubdate-list{color:var(--color-gray);font-style:italic}.pubdate-single{color:var(--color-grayer);font-style:italic}sup.gray{color:var(--color-grayer)}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>Docker on Alpine Linux</h1><p><span class=pubdate-single><time datetime=2024-07-30 pubdate>30 Jul, 2024
</time>• 115 words
• 1 min</span></p><content><p>In this post: how to properly start <code>docker</code> on an Alpine Linux server.</p><p>First, install <code>docker</code> and friends:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>doas apk add docker docker-cli docker-compose
</span></span></code></pre></div><p>Then start the <code>docker</code> service:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>doas service docker start
</span></span></code></pre></div><p>Check if it started successfully:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>service docker status
</span></span></code></pre></div><p>If not, then look at the logs:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>less /var/log/docker.log
</span></span></code></pre></div><p>I got an error:</p><pre tabindex=0><code>failed to start daemon: error initializing graphdriver: driver not supported
</code></pre><p>The suggestion was to change the driver to <code>overlay2</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% $EDITOR /etc/docker/daemon.json
</span></span><span style=display:flex><span><span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;storage-driver&#34;</span>: <span style=color:#e6db74>&#34;overlay2&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>Then restart <code>docker</code>.</p><p>I got another error:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>level<span style=color:#f92672>=</span>error msg<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;failed to mount overlay: no such device&#34;</span> storage-driver<span style=color:#f92672>=</span>overlay2
</span></span></code></pre></div><p>The suggestion was to reboot:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>doas reboot
</span></span></code></pre></div><p>Then start <code>docker</code> again:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>doas service docker start
</span></span></code></pre></div><p>And now everything works!</p></content><p><a href=https://perrotta.dev/tags/dev/>#dev</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:notjustserendipity@perrotta.dev>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev/rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Security on ¬¨ just serendipity üçÄ</title><link>https://perrotta.dev/</link><description>Recent content in Security on ¬¨ just serendipity üçÄ</description><generator>Hugo</generator><language>pt</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>¬© 2013 - 2026 Thiago Perrotta ¬∑
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) ¬∑
a fork of [hugo  ï‚Ä¢·¥•‚Ä¢ î bear](https://github.com/janraasch/hugo-bearblog/)</copyright><lastBuildDate>Wed, 18 Feb 2026 23:52:18 +0100</lastBuildDate><atom:link href="https://perrotta.dev/pt/tags/security/index.xml" rel="self" type="application/rss+xml"/><item><title>Bloqueando {websites,ads,malware} no Linux</title><link>https://perrotta.dev/pt/2014/03/bloqueando-websitesadsmalware-no-linux/</link><pubDate>Sun, 02 Mar 2014 20:52:27 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>legacy</category><category>privacy</category><category>security</category><guid>https://perrotta.dev/pt/2014/03/bloqueando-websitesadsmalware-no-linux/</guid><description>&lt;p&gt;&amp;ldquo;For the sake of the productivity&amp;rdquo;, notas pessoais sobre o bloqueio de websites.&lt;/p&gt;
&lt;h2 id="1---a-forma-nua-e-crua-etchosts"&gt;1 - A forma nua e crua: /etc/hosts&lt;/h2&gt;
&lt;p&gt;Um arquivo &lt;code&gt;/etc/hosts&lt;/code&gt; t√≠pico √© da forma:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;$ cat /etc/hosts
#
# /etc/hosts: static lookup table for host names
#
#&amp;lt;ip-address&amp;gt; &amp;lt;hostname.domain.org&amp;gt; &amp;lt;hostname&amp;gt;
127.0.0.1 localhost.localdomain localhost
::1 localhost.localdomain localhost&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Para bloquear um novo site, basta redirecion√°-lo localmente para localhost
(=127.0.0.1). Por exemplo, para bloquear o Facebook, adicione a esse arquivo as
linhas:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;127.0.0.1 facebook.com
127.0.0.1 www.facebook.com&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h3 id="11-servidor-local-nulo-para-localhost"&gt;1.1 Servidor local &amp;ldquo;nulo&amp;rdquo; para localhost&lt;/h3&gt;
&lt;p&gt;Mas essa maneira por si s√≥ √© muito sem gra√ßa ent√£o, al√©m de redirecionar para
localhost, vamos fazer com que o usu√°rio receba uma p√°gina &amp;ldquo;vazia&amp;rdquo;/&amp;ldquo;nula&amp;rdquo; ao
tentar acessar esses websites. Mas isso √© bastante simples, basta instalar um
servidor local como o kwakd ou o pixelserv.&lt;/p&gt;
&lt;h2 id="2---um-pouco-mais-de-estrutura-por-favor"&gt;2 - Um pouco mais de estrutura, por favor&lt;/h2&gt;
&lt;p&gt;O programa &lt;strong&gt;hostsblock&lt;/strong&gt; √© excelente para isso. Veja a p√°gina oficial. Como um
b√¥nus, voc√™ ainda bloqueia malware e ads (na verdade, esse √© o objetivo prim√°rio
dele), isso no sistema inteiro, n√£o apenas no navegador &amp;ndash; por exemplo, se voc√™
quiser instalar um Adblock, geralmente tem que instalar individualmente para
todos os seus navegadores. Estou utilizando-o recentemente, e o achei bastante
bom. Ele √© bastante elegante (do ponto de vista de simplicidade de c√≥digo) e
extremamente funcional. Ao ser combinado com o dnsmasq, ele fica mais elegante
ainda. Ao ser combinado com o cron, voc√™ tem uma lista de dom√≠nios a ser
bloqueados que √© atualizada periodicamente.&lt;/p&gt;
&lt;p&gt;Se voc√™ quiser combin√°-lo com o Network Manager e tiver problemas com isso,
&lt;a href="https://wiki.archlinux.org/index.php/Dnsmasq"&gt;esse post&lt;/a&gt; talvez seja √∫til. Se
voc√™ achou todos esses projetos relevantes, considere vot√°-los no AUR para que
eles ganhem mais relev√¢ncia.&lt;/p&gt;
&lt;h2 id="se-voc√™-usa-o-chromium"&gt;Se voc√™ usa o Chromium&lt;/h2&gt;
&lt;p&gt;OBS.: Se voc√™ utiliza o Chromium ou o Google Chrome, vai descobrir que ele √©
esperto e tenta contornar os websites que ele n√£o consegue acessar. Depois de
bastante pesquisa, descobri a raz√£o para isso:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.chromium.org/developers/design-documents/dns-prefetching"&gt;http://www.chromium.org/developers/design-documents/dns-prefetching&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://superuser.com/questions/723703/why-is-chromium-bypassing-etc-hosts-and-dnsmasq/"&gt;https://superuser.com/questions/723703/why-is-chromium-bypassing-etc-hosts-and-dnsmasq/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://encrypted.google.com/search?hl=en&amp;amp;q=make%20chromium%20not%20use%20google%20default%20dns#hl=en&amp;amp;q=remove&amp;#43;google&amp;#43;dns&amp;#43;from&amp;#43;chrome"&gt;https://encrypted.google.com/search?hl=en&amp;q=make%20chromium%20not%20use%20google%20default%20dns#hl=en&amp;q=remove+google+dns+from+chrome&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;O problema √© que ele fazia &lt;em&gt;DNS prefetching&lt;/em&gt; para agilizar o carregamento de
algumas p√°ginas (ainda n√£o estou 100% certo disso, mas tudo indica que esse era
o problema). Foi dif√≠cil descobrir isso principalmente porque a maioria das
discuss√µes sobre o assunto se aplica apenas a vers√µes antigas do Chromium (sabe,
daquela √©poca que ainda tinham dois bot√µes, em vez de um s√≥).&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Happy blocking!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Bloqueando {websites,ads,malware} no Linux"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/legacy/"&gt;#legacy&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/privacy/"&gt;#privacy&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>
<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev/rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Dev on ¬¨ just serendipity üçÄ</title><link>https://perrotta.dev/</link><description>Recent content in Dev on ¬¨ just serendipity üçÄ</description><generator>Hugo</generator><language>pt</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>¬© 2013 - 2026 Thiago Perrotta ¬∑
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) ¬∑
a fork of [hugo  ï‚Ä¢·¥•‚Ä¢ î bear](https://github.com/janraasch/hugo-bearblog/)</copyright><lastBuildDate>Mon, 16 Feb 2026 21:44:00 +0100</lastBuildDate><atom:link href="https://perrotta.dev/pt/tags/dev/index.xml" rel="self" type="application/rss+xml"/><item><title>Emissor NFE Sebrae v4.01 para emiss√£o de notas fiscais</title><link>https://perrotta.dev/pt/2025/01/emissor-nfe-sebrae-v4.01-para-emiss%C3%A3o-de-notas-fiscais/</link><pubDate>Wed, 08 Jan 2025 00:29:46 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/pt/2025/01/emissor-nfe-sebrae-v4.01-para-emiss%C3%A3o-de-notas-fiscais/</guid><description>&lt;p&gt;&lt;em&gt;To my English-speaking readers: this post contains Brazilian bureaucracy and
it&amp;rsquo;s in Portuguese, you may want to skip it.&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="instala√ß√£o"&gt;Instala√ß√£o&lt;/h2&gt;
&lt;p&gt;Baixe o arquivo JNLP (c√≥pia): &lt;a href="https://perrotta.dev/pt/2025/01/emissor-nfe-sebrae-v4.01-para-emiss%C3%A3o-de-notas-fiscais/emissorNfe-4_0_1.jnlp"&gt;emissorNfe-4_0_1.jnlp&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Ou direto da fonte: &lt;a href="https://storage.googleapis.com/nfe-sebrae-prd/nfe/v401/producao/emissorNFe-4_0_1.jnlp"&gt;GCS&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Execute-o com o Java Web Start (JWS) do Java 8. N√£o existe mais JWS a partir do
Java 11. Caso n√£o tenha um runtime (JRE), baixe-o diretamente do &lt;a href="https://www.java.com/pt-BR/download/manual.jsp"&gt;site da
Oracle&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Caso n√£o funcione, delete e reinstale o applet:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Abra o Menu Iniciar&lt;/li&gt;
&lt;li&gt;Procure &amp;ldquo;Configurar Java&amp;rdquo; no campo de busca&lt;/li&gt;
&lt;li&gt;Clique na Aba &amp;ldquo;Geral&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Em &amp;ldquo;Arquivos Tempor√°rios na Internet&amp;rdquo;, clique em &amp;ldquo;Exibir&amp;hellip;&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Clique no √≠cone do emissor, e depois no bot√£o &amp;lsquo;X&amp;rsquo; vermelho.&lt;/li&gt;
&lt;li&gt;Execute o arquivo JNLP novamente.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="notas"&gt;Notas&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://openwebstart.com/"&gt;OpenWebStart&lt;/a&gt; n√£o funcionou. Ele lan√ßa uma
exce√ß√£o.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Emissor NFE Sebrae v4.01 para emiss√£o de notas fiscais"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Matroshka</title><link>https://perrotta.dev/pt/2016/10/matroshka/</link><pubDate>Sun, 16 Oct 2016 15:49:01 -0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/pt/2016/10/matroshka/</guid><description>&lt;p&gt;Recentemente participei de uma
&lt;a href="https://ctf.tecland.com.br/Pwn2Win/game/scoreboard/"&gt;CTF&lt;/a&gt; promovida pelo
&lt;a href="https://ctf-br.org/elt"&gt;ELT&lt;/a&gt; (Epic Leet Team). Uma das &lt;em&gt;challs&lt;/em&gt; que consegui
resolver completamente foi a &lt;strong&gt;matroshka&lt;/strong&gt;, e aqui est√° um breve &lt;em&gt;write-up&lt;/em&gt;
sobre a mesma.&lt;/p&gt;
&lt;p&gt;Dado um arquivo &lt;code&gt;matroshka.tar.gz&lt;/code&gt;, precis√°vamos encontrar a &lt;em&gt;flag&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;N√£o era dif√≠cil desconfiar do que esse arquivo / &lt;em&gt;chall&lt;/em&gt; se tratava: matroshkas
s√£o aquelas bonecas russas que se encaixam umas dentro das outras. Ent√£o&amp;hellip;de
cara, logo j√° desconfiei: provavelmente existe um arquivo compactado dentro de
outro, dentro de outro, dentro de outro, e assim por diante&amp;hellip;&lt;/p&gt;
&lt;p&gt;Por experi√™ncia, n√£o valeria a pena tentar descompactar tudo manualmente, pois
sabe-se l√° quantos n√≠veis de compacta√ß√£o esse neg√≥cio iria ter (provavelmente
mais do que 100).&lt;/p&gt;
&lt;p&gt;De cara logo pensei em usar o &lt;a href="https://brettcsmith.org/2007/dtrx/"&gt;dtrx&lt;/a&gt;, que √©
um excelente programa (n√£o perco tempo e sempre rodo um &lt;code&gt;port install dtrx&lt;/code&gt;)
para extrair arquivos sem ter que ficar se lembrando das sintaxes individuais de
cada programa. Nesse caso, n√£o iria rolar: os arquivos eram renomeados de forma
a &lt;em&gt;trickear&lt;/em&gt; o dtrx, que funciona atrav√©s de heur√≠sticas, uma delas √© a
&amp;rsquo;extens√£o&amp;rsquo; do nome do arquivo. Por exemplo, v√°rios arquivos (ap√≥s
descompactados) eram renomeados na forma &lt;code&gt;*.elt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;A segunda alternativa foi (&lt;strong&gt;serendipidade&lt;/strong&gt;, n√£o conhecia essa ferramenta
antes) tentar utilizar o &lt;a href="http://www.nongnu.org/atool/"&gt;atool&lt;/a&gt;. Por motivos
similares ao &lt;code&gt;dtrx&lt;/code&gt;, n√£o rolou.&lt;/p&gt;
&lt;p&gt;Pois bem, ent√£o o jeito ia ser descompactar tudo na marra. Pensei em escrever um
programa que faria o seguinte:&lt;/p&gt;
&lt;div class="codeblock" data-lang="cpp"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;cpp&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-cpp"&gt;try {
	unzip &amp;lt;file&amp;gt;
}
catch {
	try {
		tar xf &amp;lt;file&amp;gt;
	}
	catch {
		// ...e assim por diante
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Obviamente eu utilizaria os programas diretamente, ent√£o a coisa poderia ficar
um pouco mais simples, utilizando os return codes dos mesmos para detectar se
descompactaram o arquivo com sucesso. Por exemplo, &lt;code&gt;tar xf &amp;lt;file&amp;gt;&lt;/code&gt; retorna &lt;code&gt;0&lt;/code&gt;
se rodou corretamente, do contr√°rio ele retorna algo diferente de zero. Isso se
mostrou v√°lido para todos os programas de descompacta√ß√£o que utilizei, exceto o
lha, que insistia em retornar &lt;code&gt;0&lt;/code&gt; de qualquer jeito, mesmo quando falhava.&lt;/p&gt;
&lt;p&gt;Para automatizar essa tarefa, resolvi utilizar &lt;code&gt;python2&lt;/code&gt;. &lt;code&gt;C/C++&lt;/code&gt; provavelmente
tamb√©m seriam bons candidatos, mas eu queria praticar o meu &lt;code&gt;python&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Ap√≥s algumas inspe√ß√µes, notei que cada arquivo continha um e somente um arquivo
dentro dele, ent√£o a ideia base seria:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;mantenha uma lista com todos os arquivos conhecidos at√© ent√£o (no come√ßo, s√≥
haveria um);&lt;/li&gt;
&lt;li&gt;descompacte esse arquivo;&lt;/li&gt;
&lt;li&gt;detecte qual arquivo acabou de ser descompactado&lt;/li&gt;
&lt;li&gt;continue fazendo isso at√© encontrar a &lt;code&gt;flag&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Meu c√≥digo ficou assim:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;#!/usr/bin/env python

import os
import subprocess

TARGET_DIR = &amp;#39;mat&amp;#39;

def uncompress_kgb(file):
 return subprocess.call([&amp;#34;kgb&amp;#34;, file])

def uncompress_gzip(file):
 return subprocess.call([&amp;#34;gunzip&amp;#34;, &amp;#34;-S&amp;#34;, &amp;#39;.&amp;#39; &amp;#43; file.split(&amp;#39;.&amp;#39;)[-1], file])

def uncompress_tar(file):
 return subprocess.call([&amp;#34;tar&amp;#34;, &amp;#34;xvf&amp;#34;, file])

def uncompress_rar(file):
 return subprocess.call([&amp;#34;unrar&amp;#34;, &amp;#34;x&amp;#34;, file])

def uncompress_lha(file):
 return subprocess.call([&amp;#34;lha&amp;#34;, &amp;#34;e&amp;#34;, file])

def uncompress_zip(file):
 return subprocess.call([&amp;#34;unzip&amp;#34;, file])

def uncompress_arj(file):
 subprocess.call([&amp;#34;cp&amp;#34;, file, file &amp;#43; &amp;#34;.arj&amp;#34;])
 err = subprocess.call([&amp;#34;arj&amp;#34;, &amp;#34;x&amp;#34;, file])
 subprocess.call([&amp;#34;rm&amp;#34;, file &amp;#43; &amp;#34;.arj&amp;#34;])
 return err

def uncompress_7z(file):
 subprocess.call([&amp;#34;7z&amp;#34;, &amp;#34;x&amp;#34;, file])

def colorprint(s):
 print &amp;#39;\033[93m&amp;#39; &amp;#43; repr(s) &amp;#43; &amp;#39;\033[0m&amp;#39;

os.chdir(TARGET_DIR)

base = set()

while True:
 newbase = set(os.listdir(&amp;#39;.&amp;#39;))

 diff = newbase - base
 colorprint(diff)

 if len(diff) &amp;gt; 1:
 raise Exception(&amp;#34;len(diff) &amp;gt; 1&amp;#34;)
 elif len(diff) == 0:
 print &amp;#34;len(diff) == 0&amp;#34;
 break

 for file in diff:
 err = uncompress_kgb(file)
 if err != 0:
 err = uncompress_gzip(file)
 if err != 0:
 err = uncompress_tar(file)
 if err != 0:
 err = uncompress_rar(file)
 if err != 0:
 err = uncompress_zip(file)
 if err != 0:
 err = uncompress_arj(file)
 if err != 0:
 err = uncompress_7z(file)
 if err != 0:
 err = uncompress_lha(file)
 if err != 0:
 print &amp;#34;lha fail&amp;#34;

 base = newbase&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Essa ideia funcionou bastante bem. A √∫nica coisa &lt;em&gt;overkill&lt;/em&gt; foi que eu n√£o
deletei arquivos anteriores; isso poderia ter simplificado significativamente o
problema (e os &lt;em&gt;sets&lt;/em&gt; no python).&lt;/p&gt;
&lt;p&gt;Ademais, uma das coisas chatas do &lt;code&gt;arj&lt;/code&gt; √© que ele s√≥ √© capaz de extrair arquivos
que terminam em &lt;code&gt;*.arj&lt;/code&gt;, ent√£o fui obrigado a renomear/copiar um arquivo antes
de tentar utiliz√°-lo para extrair seu conte√∫do.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Matroshka"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Asciinema</title><link>https://perrotta.dev/pt/2014/06/asciinema/</link><pubDate>Sun, 29 Jun 2014 20:01:00 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>legacy</category><guid>https://perrotta.dev/pt/2014/06/asciinema/</guid><description>&lt;p&gt;Descobri uma ferramenta bastante √∫til para gravar sess√µes de terminal:
asciinema. E, √© claro, ela √© open-source: cliente e website. Feita em python, e
bastante KISS. Aproveitei para gravar um screencast (asciicast?) de exemplo:
&lt;a href="https://asciinema.org/a/10546q"&gt;https://asciinema.org/a/10546q&lt;/a&gt;. Dispon√≠vel no AUR.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Asciinema"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/legacy/"&gt;#legacy&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Instalando o Gentoo a partir do Arch</title><link>https://perrotta.dev/pt/2014/05/instalando-o-gentoo-a-partir-do-arch/</link><pubDate>Thu, 01 May 2014 02:20:00 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/pt/2014/05/instalando-o-gentoo-a-partir-do-arch/</guid><description>&lt;p&gt;&lt;strong&gt;TL;DR&lt;/strong&gt;: pequena TODO list sobre como instalar o Gentoo. Voc√™ vai passar 90% do seu tempo olhando para &lt;strong&gt;texto&lt;/strong&gt; dando scroll na tela (processo demorado‚Ä¶).&lt;/p&gt;
&lt;p&gt;Esse √© o m√©todo mais tradicional poss√≠vel (e que me interessa) que pude constatar. Adapte-o para as suas pr√≥prias necessidades:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Boote em um ambiente com o Arch (na verdade, voc√™ pode fazer isso a partir de qualquer distro decente).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Crie uma parti√ß√£o &lt;code&gt;/&lt;/code&gt;, do tipo ext4, para acomodar a instala√ß√£o do Gentoo. De prefer√™ncia, coloque um label decente l√°. Sugest√µes de ferramentas para isso: &lt;code&gt;cfdisk&lt;/code&gt; ou &lt;code&gt;gparted&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Monte essa parti√ß√£o em &lt;code&gt;/mnt/gentoo&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Continue a partir do &lt;a href="http:www.gentoo.org/doc/en/handbook/handbook-amd64.xml?part=1&amp;amp;chap=4"&gt;handbook&lt;/a&gt; oficial do Gentoo ‚Äì nesse caso, para a arquitetura amd64. No entanto, &lt;strong&gt;aten√ß√£o&lt;/strong&gt;. Use &lt;a href="https:wiki.gentoo.org/wiki/Installation_alternatives"&gt;esse&lt;/a&gt; guia para perceber quais etapas de instala√ß√£o e configura√ß√£o s√£o diferentes (em rela√ß√£o a se estiv√©ssemos instalando pelo m√©todo oficial, a partir do live environment do gentoo), mais especificamente &lt;strong&gt;da parte 4 √† parte 6&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Baixe o &lt;code&gt;PKGBUILD&lt;/code&gt; &lt;code&gt;gentoo-mirrorselect&lt;/code&gt; do AUR.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Use &lt;code&gt;mirrorselect -i -o&lt;/code&gt; e ent√£o selecione interativamente os mirrors mais pr√≥ximos da sua localiza√ß√£o atual. Copie o valor da vari√°vel &lt;code&gt;GENTOO_MIRRORS&lt;/code&gt; para o final do seu &lt;code&gt;/mnt/gentoo/etc/portage/make.conf&lt;/code&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Copie o seu &lt;code&gt;/etc/resolv.conf&lt;/code&gt; para &lt;code&gt;/mnt/gentoo/etc/resolv.conf&lt;/code&gt;. Isso √© &lt;a href="https:bbs.archlinux.org/viewtopic.php?id=95865"&gt;importante&lt;/a&gt; para ter conectividade dentro do ambiente de chroot.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;CFLAGS&lt;/code&gt; que recomendo para o &lt;code&gt;/etc/portake/make.conf&lt;/code&gt; (&lt;a href="https:forums.gentoo.org/viewtopic-t-933456-start-0.html"&gt;helper&lt;/a&gt;):&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;-march=native -O2 -pipe&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A partir daqui, nada especial, apenas continue seguindo o handbook do gentoo, at√© a parte do bootloader.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Chegando na parte do bootloader, optei por deixar o Arch gerenci√°-lo. Nesse caso, basta rodar um t√≠pico &lt;code&gt;grub-mkconfig -o /boot/grub/grb.cfg&lt;/code&gt; que o Gentoo dever√° ser automaticamente detectado (supondo que o pacote &lt;code&gt;os-prober&lt;/code&gt; esteja instalado).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Configure a rede no Gentoo. Isso √© bastante espec√≠fico, mas o procedimento √© bem parecido com a configura√ß√£o da rede no Arch. A √∫nica quest√£o √© que, ao dar emerge no &lt;code&gt;wpa_supplicant&lt;/code&gt; (no caso de voc√™ utilizar Wi-fi), vai demorar bastante at√© todas as depend√™ncias serem instaladas (esse √© o ponto principal que me afastou do Gentoo at√© hoje. Sem pacotes bin√°rios, ter que compilar tudo localmente‚Ä¶ao menos, se no final a otimiza√ß√£o do sistema for maior, poderia ter valido mais a pena.)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Teste o Gentoo durante uma semana e diga o que voc√™ achou dele üòâ&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Decida se voc√™ gosta mais do Gentoo ou do Arch. Isso vale tanto para o sistema, tanto para a comunidade. N√£o tenho ideia de como seja a comunidade do Gentoo (a do Arch eu j√° tinha uma boa no√ß√£o de como era mesmo antes de ter o sistema instalado).&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Valeu pessoal. Como sou 100% newbie no Gentoo, apreciarei quaisquer dicas! (Enquanto as dicas n√£o aparecem, Wiki Pages e Forums Threads me esperam). Sabe, √© bom, de vez em quando, ser newbie em alguma coisa. Claro que ser expert / muito bom / hacker em algumas aplica√ß√µes √© √≥timo, mas eu acredito na import√¢ncia de possuir uma boa base de conhecimento em geral (n√£o necessariamente apenas para fins acad√™micos ou financeiros, mas tamb√©m para satisfazer a mente: desafios s√£o importantes!).&lt;/p&gt;
&lt;p&gt;Ah, mais dois coment√°rios:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Terminando de escrever esse post e de edit√°-lo, a compila√ß√£o dos (130) pacotes que o &lt;code&gt;wpa_supplicant&lt;/code&gt; puxou n√£o chegou nem na metade‚Ä¶ (eu teria instalado uns tr√™s ou quatro Archs automatizados nesse tempo ‚Äì t√° bom, n√£o vale comparar pacotes bin√°rios com c√≥digo-fonte, eu sei)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Esse √© o meu terceiro ou quarto post utilizando o &lt;code&gt;org2blog&lt;/code&gt; (do emacs). J√° ficou bastante claro para mim que vou passar a us√°-lo de maneira fixa. O √∫nico problema √© que eu ainda n√£o sei a sintaxe de formata√ß√£o dele direito, √© muita informa√ß√£o. N√£o √© nem que n√£o seja intuitiva, mas j√° tem LaTeX, BBCode, Markdown, a√≠ eu tenho que aprender mais uma markup language. Mas, provavelmente vou me submeter a isso, o &lt;strong&gt;orgmode&lt;/strong&gt; √© sensacional para &lt;em&gt;management&lt;/em&gt; em geral.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Instalando o Gentoo a partir do Arch"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Recovery t√≠pico via USB</title><link>https://perrotta.dev/pt/2014/04/recovery-t%C3%ADpico-via-usb/</link><pubDate>Fri, 18 Apr 2014 13:38:36 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>legacy</category><guid>https://perrotta.dev/pt/2014/04/recovery-t%C3%ADpico-via-usb/</guid><description>&lt;ol&gt;
&lt;li&gt;Meu computador n√£o boota! E agora? Poss√≠veis sintomas: tela preta congelada,
tela de splash congelada, systemd travado, upstart travado, corrup√ß√£o (fsck
n√£o ficou satisfeito), bootloader (grub,syslinux,EFI) mal configurado (ou n√£o
configurado)&lt;/li&gt;
&lt;li&gt;Obter uma distro de Linux e grav√°-la num USB Flash Drive (pendrive). Meu
gosto pessoal: System rescue cd, Parted magic, Slitaz ou Arch Linux.&lt;/li&gt;
&lt;li&gt;Bootar a distro e imediatamente abrir um console/emulador de terminal. Com
interface gr√°fica ou n√£o, a gosto.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;fdisk -l&lt;/code&gt; para detectar os discos do computador. Detectar o disco cujo
sistema est√° com problema. Geralmente o que cont√©m a parti√ß√£o /boot ou /.
Identificar as parti√ß√µes tamb√©m √© usualmente importante.&lt;/li&gt;
&lt;li&gt;Se voc√™ precisar formatar alguma parti√ß√£o, &lt;code&gt;cfdisk&lt;/code&gt; ou &lt;code&gt;parted&lt;/code&gt;. Exemplo:
&lt;code&gt;cfdisk /dev/sda1&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Se voc√™ precisar (re)criar algum &lt;em&gt;filesystem&lt;/em&gt; , &lt;code&gt;mkfs&lt;/code&gt; (por exemplo,
&lt;code&gt;mkfs.ext4 -L &amp;quot;archroot&amp;quot; /dev/sda1&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Para (re)montar o seu sistema de arquivos: (por exemplo) &lt;code&gt;mount /dev/sda1 /mnt&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;chroot no sistema que voc√™ acabou de montar: &lt;code&gt;chroot /mnt&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Para recuperar (na verdade, gerar novamente) o arquivo de configura√ß√£o do
grub dentro do chroot: &lt;code&gt;grub-mkconfig -o /boot/grub/grub.cfg&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Para reinstalar o grub (fora do chroot!), use &lt;code&gt;grub-install&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Explorar o diret√≥rio &lt;code&gt;/etc/systemd/system&lt;/code&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Usualmente um desses passos √© um caminho para resolver o problema. No final das
contas, as coisas s√£o bastante espec√≠ficas, dependem do contexto.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Recovery t√≠pico via USB"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/legacy/"&gt;#legacy&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Consertando caracteres estranhos em Markdown</title><link>https://perrotta.dev/pt/2014/02/consertando-caracteres-estranhos-em-markdown/</link><pubDate>Thu, 27 Feb 2014 12:32:17 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>legacy</category><guid>https://perrotta.dev/pt/2014/02/consertando-caracteres-estranhos-em-markdown/</guid><description>&lt;p&gt;Ao converter um documento para Markdown com a sua &lt;em&gt;engine&lt;/em&gt; preferida, se voc√™ se
deparar com caracteres estranhos, do tipo:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;hist√É¬≥ria de um programador e sua (poss√É¬≠vel) evolu√É¬ß√É¬£o √É¬© recomendado para
quem est√É¬° da computa√É¬ß√É¬£o&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;√â bastante f√°cil resolver isso: o problema √© em rela√ß√£o ao &lt;em&gt;encoding /&lt;/em&gt; √†
codifica√ß√£o do seu documento. Basta for√ßar o UTF-8, com a seguinte tag (pode
colocar no in√≠cio do seu documento, por exemplo):&lt;/p&gt;
&lt;div class="codeblock" data-lang="html"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;html&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-html"&gt;&amp;lt;meta http-equiv=&amp;#39;Content-Type&amp;#39; content=&amp;#39;text/html; charset=utf-8&amp;#39; /&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Originalmente extra√≠do do Stack Overflow (novidade&amp;hellip;). Durante muito tempo
fiquei com esse problema, deixando de usar Markdown por causa disso&amp;hellip;n√£o mais
=P&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Consertando caracteres estranhos em Markdown"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/legacy/"&gt;#legacy&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Testando uma ISO no Linux sem o VirtualBox</title><link>https://perrotta.dev/pt/2014/01/testando-uma-iso-no-linux-sem-o-virtualbox/</link><pubDate>Tue, 07 Jan 2014 16:22:01 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/pt/2014/01/testando-uma-iso-no-linux-sem-o-virtualbox/</guid><description>&lt;p&gt;N√£o imagino que seja incomum o seguinte cen√°rio:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;News: uma nova vers√£o da distro &lt;em&gt;Debisuse&lt;/em&gt; est√° dispon√≠vel.&lt;/li&gt;
&lt;li&gt;Usu√°rio: vou baixar a ISO,&lt;/li&gt;
&lt;li&gt;criar uma m√°quina virtual no &lt;em&gt;VirtualBox&lt;/em&gt; (ou no &lt;em&gt;VMWare&lt;/em&gt;, vai que),&lt;/li&gt;
&lt;li&gt;Bootar a ISO a partir dela.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Isso tudo √© muito mais pr√°tico do que gravar a ISO num Flash (Pen) Drive e ent√£o test√°-la com um novo &lt;em&gt;boot&lt;/em&gt;. No entanto, podemos ser mais pr√°ticos ainda se utilizarmos, para isso, &lt;strong&gt;um √∫nico comando&lt;/strong&gt;, com o &lt;code&gt;qemu&lt;/code&gt;! O comando t√≠pico √©:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;qemu-system-x86_64 --enable-kvm -m 512M -cdrom ~/Downloads/debisuse-latest.iso&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Se sua arquitetura for de 32 bits, voc√™ vai querer &lt;em&gt;qemu-system-i386&lt;/em&gt;. O par√¢metro &lt;em&gt;m&lt;/em&gt; regula a quantidade de mem√≥ria a ser alocada para a m√°quina virtual.&lt;/p&gt;
&lt;p&gt;Para utilizar o QEMU, voc√™ vai precisar encontrar o pacote adequado na sua distro.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;No Debian/Ubuntu e openSUSE: &lt;code&gt;qemu&lt;/code&gt; e &lt;code&gt;kvm&lt;/code&gt; (n√£o testei, mas tudo indica que s√£o esses)&lt;/li&gt;
&lt;li&gt;No Arch: &lt;code&gt;qemu&lt;/code&gt; (veja &lt;a href="https://wiki.archlinux.org/index.php/Kvm"&gt;https://wiki.archlinux.org/index.php/Kvm&lt;/a&gt; e &lt;a href="https://wiki.archlinux.org/index.php/QEMU"&gt;https://wiki.archlinux.org/index.php/QEMU&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OBS.: O &lt;em&gt;KVM&lt;/em&gt; √© para deixar a execu√ß√£o ainda mais r√°pida. Mas ele n√£o √© obrigat√≥rio, OK? Para poder us√°-lo existe uma s√©rie de peculiaridades, tais como habilitar as op√ß√µes de virtualiza√ß√£o na sua &lt;em&gt;BIOS&lt;/em&gt; (isso √© mais comum em laptops) e assegurar-se de que o m√≥dulo adequado do kernel foi carregado (geralmente &lt;code&gt;kvm\_intel&lt;/code&gt; ou &lt;code&gt;kvm\_amd&lt;/code&gt;). Voc√™ pode conferir isso com o comando:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;lsmod | grep kvm&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Se ver alguma sa√≠da, existem boas chances de o m√≥dulo correto do &lt;em&gt;KVM&lt;/em&gt; j√° ter sido carregado pelo seu kernel. Para fins de compara√ß√£o, essa √© a minha sa√≠da:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;kvm_intel 131191 3
kvm 388773 1 kvm_intel&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;em&gt;Happy hacking!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Testando uma ISO no Linux sem o VirtualBox"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Por que o Arch Linux?</title><link>https://perrotta.dev/pt/2014/01/por-que-o-arch-linux/</link><pubDate>Thu, 02 Jan 2014 18:19:55 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>legacy</category><guid>https://perrotta.dev/pt/2014/01/por-que-o-arch-linux/</guid><description>&lt;p&gt;Se algu√©m me perguntar quais s√£o as vantagens e/ou por que eu gosto tanto do
Arch Linux, que fiquem aqui essas duas refer√™ncias:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=IIk"&gt;https://www.youtube.com/watch?v=IIk&lt;/a&gt; Hpjhp Sy A : palestra do Allan McRae na XX
SINFO (√© um evento de uma universidade de Portugal que achei bastante
interessante);&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.youtube.com/watch?v=iyiai"&gt;https://www.youtube.com/watch?v=iyiai&lt;/a&gt; F_-A2M : conjunto de epis√≥dios do Linux
Action Show dedicados ao Arch.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;No fim das contas, √© tudo quest√£o de gosto mesmo.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Por que o Arch Linux?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/legacy/"&gt;#legacy&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>
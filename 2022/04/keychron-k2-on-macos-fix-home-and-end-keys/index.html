<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Keychron K2 on macOS: fix Home and End keys | not just serendipity</title><meta name=title content="Keychron K2 on macOS: fix Home and End keys">
<meta name=description content="Issue: For whatever reason, the Home and End keys on my Keychron K2 do not work as intended on macOS.
Expectations vs Reality
For example, when using a text editor such as TextMate or a web browser like Chrome, I&rsquo;d expect:

Home to position the text cursor in the beginning of the line (à la C-a in emacs)
End to position the text cursor in the end of the line (à la C-e in emacs)

The only way to provoke these effects out-of-the-box is by pressing, respectively, the Cmd + Left and Cmd + Right shortcuts, as you would normally do in a Macbook laptop native keyboard."><meta name=keywords content="macos,bestof,"><meta property="og:url" content="https://perrotta.dev/2022/04/keychron-k2-on-macos-fix-home-and-end-keys/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Keychron K2 on macOS: fix Home and End keys"><meta property="og:description" content="Issue: For whatever reason, the Home and End keys on my Keychron K2 do not work as intended on macOS.
Expectations vs Reality For example, when using a text editor such as TextMate or a web browser like Chrome, I’d expect:
Home to position the text cursor in the beginning of the line (à la C-a in emacs) End to position the text cursor in the end of the line (à la C-e in emacs) The only way to provoke these effects out-of-the-box is by pressing, respectively, the Cmd + Left and Cmd + Right shortcuts, as you would normally do in a Macbook laptop native keyboard."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-04-22T19:04:17-04:00"><meta property="article:modified_time" content="2022-04-22T19:04:17-04:00"><meta property="article:tag" content="Macos"><meta property="article:tag" content="Bestof"><meta name=twitter:card content="summary"><meta name=twitter:title content="Keychron K2 on macOS: fix Home and End keys"><meta name=twitter:description content="Issue: For whatever reason, the Home and End keys on my Keychron K2 do not work as intended on macOS.
Expectations vs Reality For example, when using a text editor such as TextMate or a web browser like Chrome, I’d expect:
Home to position the text cursor in the beginning of the line (à la C-a in emacs) End to position the text cursor in the end of the line (à la C-e in emacs) The only way to provoke these effects out-of-the-box is by pressing, respectively, the Cmd + Left and Cmd + Right shortcuts, as you would normally do in a Macbook laptop native keyboard."><meta itemprop=name content="Keychron K2 on macOS: fix Home and End keys"><meta itemprop=description content="Issue: For whatever reason, the Home and End keys on my Keychron K2 do not work as intended on macOS.
Expectations vs Reality For example, when using a text editor such as TextMate or a web browser like Chrome, I’d expect:
Home to position the text cursor in the beginning of the line (à la C-a in emacs) End to position the text cursor in the end of the line (à la C-e in emacs) The only way to provoke these effects out-of-the-box is by pressing, respectively, the Cmd + Left and Cmd + Right shortcuts, as you would normally do in a Macbook laptop native keyboard."><meta itemprop=datePublished content="2022-04-22T19:04:17-04:00"><meta itemprop=dateModified content="2022-04-22T19:04:17-04:00"><meta itemprop=wordCount content="653"><meta itemprop=keywords content="Macos,Bestof"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>:root{--color-gray:#888;--color-grayer:#666;--font-title:'Inter', 'Fira Sans', 'Lato', system-ui, -apple-system, BlinkMacSystemFont, 'Avenir Next', 'Avenir', 'Segoe UI', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, Cantarell, Arial, sans-serif;--font-body:'Crimson Pro', 'Vollkorn', 'Alegreya', 'Iowan Old Style', 'Apple Garamond', 'Baskerville', 'Times New Roman', 'Noto Serif', 'Droid Serif', 'Times', 'Source Serif Pro', serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';--font-code:'Fira Code', 'PT Mono', 'IBM Plex Mono', Menlo, Consolas, Monaco, 'Liberation Mono', 'Ubuntu Mono', 'Lucida Console', monospace}body{font-family:var(--font-body);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}.pubdate-list{color:var(--color-gray);font-style:italic}.pubdate-single{color:var(--color-grayer);font-style:italic}sup.gray{color:var(--color-grayer)}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1><span>★</span>
Keychron K2 on macOS: fix Home and End keys</h1><p><span class=pubdate-single><time datetime=2022-04-22 pubdate>22 Apr, 2022
</time>• 653 words
• 4 min</span></p><content><p><strong>Issue</strong>: For whatever reason, the <code>Home</code> and <code>End</code> keys on my <a href=https://perrotta.dev/2022/01/keychron-k2-review/>Keychron K2</a> do not work as intended on macOS.</p><h2 id=expectations-vs-reality>Expectations vs Reality</h2><p>For example, when using a text editor such as TextMate or a web browser like Chrome, I&rsquo;d expect:</p><ul><li><code>Home</code> to position the text cursor in the beginning of the line (à la <code>C-a</code> in emacs)</li><li><code>End</code> to position the text cursor in the end of the line (à la <code>C-e</code> in emacs)</li></ul><p>The only way to provoke these effects <em>out-of-the-box</em> is by pressing, respectively, the <code>Cmd + Left</code> and <code>Cmd + Right</code> shortcuts, as you would normally do in a Macbook laptop native keyboard.</p><p>This is very annoying because it only happens in macOS<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>: the <code>Home</code> and <code>End</code> keys work just fine in both Linux and Windows. <a href=https://www.reddit.com/r/Keychron/comments/ooice5/home_and_end_keys_not_working_on_monterrey/>A reddit user</a> reported the same issue in <code>/r/keychron</code>, but the existing thread has no proposed solutions.</p><h2 id=enter-karabiner-elements>Enter Karabiner Elements</h2><p>I&rsquo;ve always heard good things about <a href=http://karabiner-elements.pqrs.org>Karabiner Elements</a> as a praised one-size-fits-all application for keyboards and macros in macOS, thus decided to give it a try. <strong>Bonus points</strong>: it is <a href=https://github.com/pqrs-org/Karabiner-Elements>open source</a>, released into the public domain.</p><p>Upon installing it with <a href=https://formulae.brew.sh/cask/karabiner-elements>Homebrew Cask</a> (<code>brew install karabiner-elements</code>), I executed it. Then I needed to give a bunch of permissions to the application via <code>macOS Settings > Security & Privacy > Privacy > Input Monitoring</code>. The following apps were whitelisted accordingly:</p><ul><li><code>karabiner_grabber</code></li><li><code>karabiner_observer</code></li><li><code>Karabiner-EventViewer.app</code>: this one is optional, but useful for debugging</li></ul><p>The app is straightforward to use. It allows you to do all sorts of reactions to key codes input events.</p><p>I had a simple idea: I wanted to map <code>Home</code> to <code>Cmd + Left</code>, and <code>End</code> to <code>Cmd + Right</code>.</p><p>Unfortunately these are considered &ldquo;Complex modifications&rdquo; because they map one origin key to two destination keys. &ldquo;Simple modifications&rdquo; are <em>one-to-one</em> key mappings. Why is it unfortunate? Because it doesn&rsquo;t seem to be possible to do such mappings via the app UI. Apparently one needs to express those mappings in a <code>.json</code> file instead.</p><h2 id=ah-communities>Ah, communities</h2><p>Sure, no problem, I was about to do it but then I realized there&rsquo;s an <a href=https://ke-complex-modifications.pqrs.org>official website</a> for community-maintained mappings. The website is well organized and curated. Why create something fully from scratch when I could just reuse an existing one?</p><p>I found a &ldquo;Keychron K2&rdquo; category which made me instantly happy but it turned out not to be useful, as there were only two defined mappings therein:</p><blockquote><ul><li>Change Keychron K2 keyboard layout to more closely resemble an Apple keyboard</li><li>Remap some Keychrom K2(US) keys to make it less painful to switch from Macbook(RU) keyboard</li></ul></blockquote><p>None of these mattered to me. Then I searched for <code>home to cmd</code> which led me to <a href=https://ke-complex-modifications.pqrs.org/#HomeEnd>this entry</a>, which had exactly the mappings I wanted:</p><blockquote><p>Home and End</p><ul><li>Home to Command Left</li><li>End to Command Right</li></ul></blockquote><p><a href=https://ke-complex-modifications.pqrs.org/json/HomeEnd.json>Its resulting JSON</a> looks roughly like this (irrelevant bits stripped for the sake of brevity):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;title&#34;</span>: <span style=color:#e6db74>&#34;Home and End&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;rules&#34;</span>: [
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;Home to Command Left&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;manipulators&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;basic&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;from&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;home&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;to&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;left_arrow&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;modifiers&#34;</span>: <span style=color:#e6db74>&#34;command&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    },
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;description&#34;</span>: <span style=color:#e6db74>&#34;End to Command Right&#34;</span>,
</span></span><span style=display:flex><span>      <span style=color:#f92672>&#34;manipulators&#34;</span>: [
</span></span><span style=display:flex><span>        {
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;basic&#34;</span>,
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;from&#34;</span>: {
</span></span><span style=display:flex><span>              <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;end&#34;</span>
</span></span><span style=display:flex><span>            },
</span></span><span style=display:flex><span>          <span style=color:#f92672>&#34;to&#34;</span>: [
</span></span><span style=display:flex><span>            {
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;key_code&#34;</span>: <span style=color:#e6db74>&#34;right_arrow&#34;</span>,
</span></span><span style=display:flex><span>            <span style=color:#f92672>&#34;modifiers&#34;</span>: <span style=color:#e6db74>&#34;command&#34;</span>
</span></span><span style=display:flex><span>            }
</span></span><span style=display:flex><span>          ]
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>      ]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  ]
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>There&rsquo;s conveniently an <strong>Import</strong> button in the website though, which automatically opens the mappings in Karabiner Elements, so I didn&rsquo;t even need to copy and paste the JSON.</p><h2 id=verdict>Verdict</h2><p><strong>End Result</strong>: It worked flawlessly! The only caveat is that from now on I need to keep the Karabiner Elements application running as a daemon, but it is well justified. Plus, if I ever need<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> to map additional keys in the future, now I already have a workflow in place to do so.</p><p>Karabiner is like having <a href=https://qmk.fm>QMK</a> purely at the software layer, which works for any keyboard whatsoever.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>As of this writing: macOS Monterey: 12.3.1.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p><a href=https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it>https://en.wikipedia.org/wiki/You_aren%27t_gonna_need_it</a>&mldr;&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></content><p><a href=https://perrotta.dev/tags/macos/>#macos</a>
<a href=https://perrotta.dev/tags/bestof/>#bestof</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:notjustserendipity@perrotta.dev>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
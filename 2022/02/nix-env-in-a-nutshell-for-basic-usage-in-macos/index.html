<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>★ nix-env in a nutshell for basic usage in macOS | not just serendipity</title>
<meta name=keywords content="dev,linux,macos,bestof"><meta name=description content="I am currently evaluating Nix as a
replacement for Homebrew CLI apps in macOS1.
Others
have
previously written about this.
My goal is to keep a sane learning curve and learn things on-the-fly, only as
needed. Nix is a massive ecosystem and has so many batteries included and
components (NixOS, NixPkgs, NixOps, Nix programming language, nix-shell,
nix-env, nix-darwin, home-manager, &mldr;). The good news is that those components
are for the most part modular, there&rsquo;s no need to adopt them all in order to
reap the benefits that Nix provides.
For now, I am only adopting nix-env and nix-shell, with no *.nix config
files. This post covers nix-env."><meta name=author content="Thiago Perrotta"><link rel=canonical href=https://www.perrotta.dev/2022/02/nix-env-in-a-nutshell-for-basic-usage-in-macos/><link crossorigin=anonymous href=/assets/css/stylesheet.fc220c15db4aef0318bbf30adc45d33d4d7c88deff3238b23eb255afdc472ca6.css integrity="sha256-/CIMFdtK7wMYu/MK3EXTPU18iN7/MjiyPrJVr9xHLKY=" rel="preload stylesheet" as=style><link rel=icon href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://www.perrotta.dev/favicon.ico><link rel=apple-touch-icon href=https://www.perrotta.dev/apple-touch-icon.png><link rel=mask-icon href=https://www.perrotta.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.perrotta.dev/2022/02/nix-env-in-a-nutshell-for-basic-usage-in-macos/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}h1,h2,h3,h4,h5,h6,footer,nav,.toc,.post-meta{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}</style><meta property="og:title" content="★ nix-env in a nutshell for basic usage in macOS"><meta property="og:description" content="I am currently evaluating Nix as a
replacement for Homebrew CLI apps in macOS1.
Others
have
previously written about this.
My goal is to keep a sane learning curve and learn things on-the-fly, only as
needed. Nix is a massive ecosystem and has so many batteries included and
components (NixOS, NixPkgs, NixOps, Nix programming language, nix-shell,
nix-env, nix-darwin, home-manager, &mldr;). The good news is that those components
are for the most part modular, there&rsquo;s no need to adopt them all in order to
reap the benefits that Nix provides.
For now, I am only adopting nix-env and nix-shell, with no *.nix config
files. This post covers nix-env."><meta property="og:type" content="article"><meta property="og:url" content="https://www.perrotta.dev/2022/02/nix-env-in-a-nutshell-for-basic-usage-in-macos/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-02-16T20:48:02-05:00"><meta property="article:modified_time" content="2022-02-16T20:48:02-05:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="★ nix-env in a nutshell for basic usage in macOS"><meta name=twitter:description content="I am currently evaluating Nix as a
replacement for Homebrew CLI apps in macOS1.
Others
have
previously written about this.
My goal is to keep a sane learning curve and learn things on-the-fly, only as
needed. Nix is a massive ecosystem and has so many batteries included and
components (NixOS, NixPkgs, NixOps, Nix programming language, nix-shell,
nix-env, nix-darwin, home-manager, &mldr;). The good news is that those components
are for the most part modular, there&rsquo;s no need to adopt them all in order to
reap the benefits that Nix provides.
For now, I am only adopting nix-env and nix-shell, with no *.nix config
files. This post covers nix-env."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.perrotta.dev/posts/"},{"@type":"ListItem","position":2,"name":"★ nix-env in a nutshell for basic usage in macOS","item":"https://www.perrotta.dev/2022/02/nix-env-in-a-nutshell-for-basic-usage-in-macos/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"★ nix-env in a nutshell for basic usage in macOS","name":"★ nix-env in a nutshell for basic usage in macOS","description":"I am currently evaluating Nix as a replacement for Homebrew CLI apps in macOS1. Others have previously written about this.\nMy goal is to keep a sane learning curve and learn things on-the-fly, only as needed. Nix is a massive ecosystem and has so many batteries included and components (NixOS, NixPkgs, NixOps, Nix programming language, nix-shell, nix-env, nix-darwin, home-manager, \u0026hellip;). The good news is that those components are for the most part modular, there\u0026rsquo;s no need to adopt them all in order to reap the benefits that Nix provides.\nFor now, I am only adopting nix-env and nix-shell, with no *.nix config files. This post covers nix-env.\n","keywords":["dev","linux","macos","bestof"],"articleBody":"I am currently evaluating Nix as a replacement for Homebrew CLI apps in macOS1. Others have previously written about this.\nMy goal is to keep a sane learning curve and learn things on-the-fly, only as needed. Nix is a massive ecosystem and has so many batteries included and components (NixOS, NixPkgs, NixOps, Nix programming language, nix-shell, nix-env, nix-darwin, home-manager, …). The good news is that those components are for the most part modular, there’s no need to adopt them all in order to reap the benefits that Nix provides.\nFor now, I am only adopting nix-env and nix-shell, with no *.nix config files. This post covers nix-env.\nFor simplicity, think of nix-env as a package manager, akin to apk, pacman, brew, apt, pkg, etc.\nInstall a package $ nix-env -i moreutils installing 'moreutils-0.67' building '/nix/store/jsp0l5ny3kx8p9lx9w9r0x159i9jjnn6-user-environment.drv'... I see some guides using nix-env -iA but -i seems to suffice. We could optionally specify the nixpkgs. prefix:\n$ nix-env -i nixpkgs.moreutils error: selector 'nixpkgs.moreutils' matches no derivations Oh no! Maybe that’s what the -A is for?\n$ nix-env -iA nixpkgs.moreutils replacing old 'moreutils-0.67' installing 'moreutils-0.67' Indeed! Apparently that -A thing stands for attribute. The only thing I know is that there are both nixpkgs.* and nixos.*. But I don’t care about NixOS at this point. I’ll just ignore -A from now on, for the time being.\nList installed packages $ nix-env -q moreutils-0.67 Easy! This actually gets displayed in my less pager.\nUpgrade installed packages $ nix-env -u Easy! At this point, I am not super confident whether that works as intended though. We will find out in a few days when there’s some update to one of my installed CLI applications. I’ve heard there’s something called nix channel to control that. Leaving it for another day though.\nUpdate(2022-02-18): I learned that nix-env -u is akin to apt upgrade or apk upgrade. It upgrades installed packages to newer versions but only if it is aware there are newer versions. To actually refresh the repositories à la apt update or apk update, use nix-channel --update.\nNote: On macOS this needs to be sudo -i nix-channel --update. See issue.\nUninstall a package $ nix-env --uninstall moreutils uninstalling 'moreutils-0.67' building '/nix/store/5k8rsf4cxg4iz7cqnqirpww6r97bwnqr-user-environment.drv'... Easy!\nSearch for packages $ nix-env -qaP '.*moreutils.*' The .* seems to be needed. It works if I omit them, but only if I write the exact package name (apparently called ‘derivation’ in Nix):\n$ nix-env -qaP moreutils nixpkgs.moreutils moreutils-0.67 If I write the wrong package name, the following happens:\n$ nix-env -qaP moreutil error: selector 'moreutil' matches no derivations, maybe you meant: moreutils It was helpful in this case, but I wouldn’t always count on that. It is a bit annoying that there’s no nix search moreutils command, but it seems that nix-env is very heavily tailored to use short flags, just like pacman in Arch Linux. I got used to pacman, hopefully I can get used to the nix-env short flags at some point.\nActually I tried it out and there is a nix search command!\n$ nix search moreutils error: experimental Nix feature 'nix-command' is disabled; use '--extra-experimental-features nix-command' to override This isn’t very promising though. How come searching is experimental?! Anyway, I can live with the nix-env form for now.\nThese are the 5 basic package management operations that I needed to bootstrap my dev environment. Without putting much effort on it, my initial list of package looks like this:\n$ nix-env -q atool-0.39.0 bash-interactive-5.1-p12 coreutils-9.0 exa-0.10.1 fpp-0.9.2 fzf-0.29.0 git-2.34.1 htop-3.1.2 hugo-0.92.0 jq-1.6 less-600 moreutils-0.67 ncdu-1.16 perl5.34.0-ack-3.5.0 ranger-1.9.3 stow-2.3.1 tmux-3.2a tree-1.8.0 vim-8.2.4186 watch-procps-3.3.16 wget-1.21.2 zoxide-0.8.0 Those were very intuitive to find, with the exception of ack and bash-interactive:\nbash is a bit odd because Nix splits it into two packages: a non-interactive version and an interactive version. I have no idea why. My ~/.bashrc wrecked havoc with the non-interactive version. ack is very oddly named. Really. Also: nix-env -i ack doesn’t work, but nix-env -iA nixpkgs.ack does. I suspect it will be hard to ignore -A in the future. Strictly speaking there’s nothing special about macOS in this context. The same setup can also be used in Linux distributions, for example, Debian or Ubuntu. In fact, this is what I did at $DAYJOB, because relying solely on Debian for package management is a very big limitation. I find that Nix complements the Debian repositories very well, the same way that it does for macOS. ↩︎\n","wordCount":"733","inLanguage":"en","datePublished":"2022-02-16T20:48:02-05:00","dateModified":"2022-02-16T20:48:02-05:00","author":{"@type":"Person","name":"Thiago Perrotta"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.perrotta.dev/2022/02/nix-env-in-a-nutshell-for-basic-usage-in-macos/"},"publisher":{"@type":"Person","name":"not just serendipity","logo":{"@type":"ImageObject","url":"https://www.perrotta.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.perrotta.dev/ accesskey=h title="not just serendipity (Alt + H)"><img src=https://www.perrotta.dev/apple-touch-icon.png alt aria-label=logo height=32>not just serendipity</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.perrotta.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.perrotta.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://www.perrotta.dev/tags/bestof/ title=bestof><span>bestof</span></a></li><li><a href=https://www.perrotta.dev/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://www.perrotta.dev/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">★ nix-env in a nutshell for basic usage in macOS</h1><div class=post-meta><span title='2022-02-16 20:48:02 -0500 -0500'>February 16, 2022</span>&nbsp;·&nbsp;733 words&nbsp;·&nbsp;Thiago Perrotta</div></header><div class=post-content><p>I am currently evaluating <a href=https://nixos.org/download.html>Nix</a> as a
replacement for <a href=https://brew.sh>Homebrew</a> CLI apps in macOS<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.
<a href=https://wickedchicken.github.io/post/macos-nix-setup/>Others</a>
<a href=https://ianthehenry.com/posts/how-to-learn-nix/switching-from-homebrew-to-nix/>have</a>
<a href=https://ghedam.at/15490/so-tell-me-about-nix>previously</a> written about this.</p><p>My goal is to keep a sane learning curve and learn things on-the-fly, only as
needed. Nix is a massive ecosystem and has so many batteries included and
components (NixOS, NixPkgs, NixOps, Nix programming language, nix-shell,
nix-env, nix-darwin, home-manager, &mldr;). The good news is that those components
are for the most part modular, there&rsquo;s no need to adopt them all in order to
reap the benefits that Nix provides.</p><p>For now, I am only adopting <code>nix-env</code> and <code>nix-shell</code>, with no <code>*.nix</code> config
files. This post covers <code>nix-env</code>.</p><p>For simplicity, think of <code>nix-env</code> as a package manager, akin to <code>apk</code>,
<code>pacman</code>, <code>brew</code>, <code>apt</code>, <code>pkg</code>, etc.</p><h2 id=install-a-package>Install a package<a hidden class=anchor aria-hidden=true href=#install-a-package>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -i moreutils
</span></span><span style=display:flex><span>installing <span style=color:#e6db74>&#39;moreutils-0.67&#39;</span>
</span></span><span style=display:flex><span>building <span style=color:#e6db74>&#39;/nix/store/jsp0l5ny3kx8p9lx9w9r0x159i9jjnn6-user-environment.drv&#39;</span>...
</span></span></code></pre></div><p>I see some guides using <code>nix-env -iA</code> but <code>-i</code> seems to suffice. We could
optionally specify the <code>nixpkgs.</code> prefix:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -i nixpkgs.moreutils
</span></span><span style=display:flex><span>error: selector <span style=color:#e6db74>&#39;nixpkgs.moreutils&#39;</span> matches no derivations
</span></span></code></pre></div><p>Oh no! Maybe that&rsquo;s what the <code>-A</code> is for?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -iA nixpkgs.moreutils
</span></span><span style=display:flex><span>replacing old <span style=color:#e6db74>&#39;moreutils-0.67&#39;</span>
</span></span><span style=display:flex><span>installing <span style=color:#e6db74>&#39;moreutils-0.67&#39;</span>
</span></span></code></pre></div><p>Indeed! Apparently that <code>-A</code> thing stands for attribute. The only thing I know
is that there are both <code>nixpkgs.*</code> and <code>nixos.*</code>. But I don&rsquo;t care about NixOS
at this point. I&rsquo;ll just ignore <code>-A</code> from now on, for the time being.</p><h2 id=list-installed-packages>List installed packages<a hidden class=anchor aria-hidden=true href=#list-installed-packages>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -q
</span></span><span style=display:flex><span>moreutils-0.67
</span></span></code></pre></div><p>Easy! This actually gets displayed in my <code>less</code> pager.</p><h2 id=upgrade-installed-packages>Upgrade installed packages<a hidden class=anchor aria-hidden=true href=#upgrade-installed-packages>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -u
</span></span></code></pre></div><p>Easy! At this point, I am not super confident whether that works as intended
though. We will find out in a few days when there&rsquo;s some update to one of my
installed CLI applications. I&rsquo;ve heard there&rsquo;s something called nix channel to
control that. Leaving it for another day though.</p><p><strong>Update(2022-02-18)</strong>: I learned that <code>nix-env -u</code> is akin to <code>apt upgrade</code> or
<code>apk upgrade</code>. It upgrades installed packages to newer versions but only if it
is aware there are newer versions. To actually refresh the repositories à la
<code>apt update</code> or <code>apk update</code>, use <code>nix-channel --update</code>.</p><p><strong>Note</strong>: On macOS this needs to be <code>sudo -i nix-channel --update</code>. See
<a href=https://github.com/NixOS/nix/issues/3595>issue</a>.</p><h2 id=uninstall-a-package>Uninstall a package<a hidden class=anchor aria-hidden=true href=#uninstall-a-package>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env --uninstall moreutils
</span></span><span style=display:flex><span>uninstalling <span style=color:#e6db74>&#39;moreutils-0.67&#39;</span>
</span></span><span style=display:flex><span>building <span style=color:#e6db74>&#39;/nix/store/5k8rsf4cxg4iz7cqnqirpww6r97bwnqr-user-environment.drv&#39;</span>...
</span></span></code></pre></div><p>Easy!</p><h2 id=search-for-packages>Search for packages<a hidden class=anchor aria-hidden=true href=#search-for-packages>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -qaP <span style=color:#e6db74>&#39;.*moreutils.*&#39;</span>
</span></span></code></pre></div><p>The <code>.*</code> seems to be needed. It works if I omit them, but only if I write the exact package name (apparently called &lsquo;derivation&rsquo; in Nix):</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -qaP moreutils
</span></span><span style=display:flex><span>nixpkgs.moreutils  moreutils-0.67
</span></span></code></pre></div><p>If I write the wrong package name, the following happens:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -qaP moreutil
</span></span><span style=display:flex><span>error: selector <span style=color:#e6db74>&#39;moreutil&#39;</span> matches no derivations, maybe you meant:
</span></span><span style=display:flex><span>       moreutils
</span></span></code></pre></div><p>It was helpful in this case, but I wouldn&rsquo;t always count on that. It is a bit
annoying that there&rsquo;s no <code>nix search moreutils</code> command, but it seems that
<code>nix-env</code> is very heavily tailored to use short flags, just like <code>pacman</code> in
Arch Linux. I got used to <code>pacman</code>, hopefully I can get used to the <code>nix-env</code>
short flags at some point.</p><p>Actually I tried it out and there is a <code>nix search</code> command!</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix search moreutils
</span></span><span style=display:flex><span>error: experimental Nix feature <span style=color:#e6db74>&#39;nix-command&#39;</span> is disabled; use <span style=color:#e6db74>&#39;--extra-experimental-features nix-command&#39;</span> to override
</span></span></code></pre></div><p>This isn&rsquo;t very promising though. How come searching is experimental?! Anyway, I can live with the <code>nix-env</code> form for now.</p><p>These are the 5 basic package management operations that I needed to bootstrap
my dev environment. Without putting much effort on it, my initial list of package
looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ nix-env -q
</span></span><span style=display:flex><span>atool-0.39.0
</span></span><span style=display:flex><span>bash-interactive-5.1-p12
</span></span><span style=display:flex><span>coreutils-9.0
</span></span><span style=display:flex><span>exa-0.10.1
</span></span><span style=display:flex><span>fpp-0.9.2
</span></span><span style=display:flex><span>fzf-0.29.0
</span></span><span style=display:flex><span>git-2.34.1
</span></span><span style=display:flex><span>htop-3.1.2
</span></span><span style=display:flex><span>hugo-0.92.0
</span></span><span style=display:flex><span>jq-1.6
</span></span><span style=display:flex><span>less-600
</span></span><span style=display:flex><span>moreutils-0.67
</span></span><span style=display:flex><span>ncdu-1.16
</span></span><span style=display:flex><span>perl5.34.0-ack-3.5.0
</span></span><span style=display:flex><span>ranger-1.9.3
</span></span><span style=display:flex><span>stow-2.3.1
</span></span><span style=display:flex><span>tmux-3.2a
</span></span><span style=display:flex><span>tree-1.8.0
</span></span><span style=display:flex><span>vim-8.2.4186
</span></span><span style=display:flex><span>watch-procps-3.3.16
</span></span><span style=display:flex><span>wget-1.21.2
</span></span><span style=display:flex><span>zoxide-0.8.0
</span></span></code></pre></div><p>Those were very intuitive to find, with the exception of <code>ack</code> and <code>bash-interactive</code>:</p><ul><li><code>bash</code> is a bit odd because Nix splits it into two packages:
a non-interactive version and an interactive version. I have no idea why. My
<code>~/.bashrc</code> wrecked havoc with the non-interactive version.</li><li><code>ack</code> is very oddly named. Really. Also: <code>nix-env -i ack</code> doesn&rsquo;t work, but
<code>nix-env -iA nixpkgs.ack</code> does. I suspect it will be hard to ignore <code>-A</code> in
the future.</li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>Strictly speaking there&rsquo;s nothing special about macOS in this context.
The same setup can also be used in Linux distributions, for example, <a href=https://ariya.io/2020/05/nix-package-manager-on-ubuntu-or-debian>Debian
or Ubuntu</a>.
In fact, this is what I did at $DAYJOB, because relying solely on Debian for
package management is a very big limitation. I find that Nix complements the
Debian repositories very well, the same way that it does for macOS.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.perrotta.dev/tags/dev/>Dev</a></li><li><a href=https://www.perrotta.dev/tags/linux/>Linux</a></li><li><a href=https://www.perrotta.dev/tags/macos/>Macos</a></li><li><a href=https://www.perrotta.dev/tags/bestof/>Bestof</a></li></ul></footer><div style=text-align:center><a href="mailto:tbperrotta@gmail.com?subject=RE: not%20just%20serendipity comment for '%e2%98%85%20nix-env%20in%20a%20nutshell%20for%20basic%20usage%20in%20macOS'" target=_blank><button>Reply via email</button></a></div></article></main><footer class=footer><span>Copyright © 2021 - 2024 Thiago Perrotta • <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> • <a href=/index.xml>RSS</a> •</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Alpine Linux: apk command not found hook | not just serendipity</title><meta name=title content="Alpine Linux: apk command not found hook">
<meta name=description content="In this post we will learn how to define a command-not-found hook to the apk(8) package manager in Alpine Linux.
Sneak peek
Before:
$ podman
zsh: correct 'podman' to 'pod2man' [nyae]? n
zsh: command not found: podman
After:
$ podman
zsh: correct 'podman' to 'pod2man' [nyae]? n
podman may be found in the following packages:
  <cmd:podman> podman-3.4.4-r1 x86_64 {podman} (Apache-2.0)
Preamble
Whenever you type a command that is not in your $PATH, usually your shell
will yell at you that it wasn&rsquo;t found."><meta name=keywords content="linux,bestof★,"><meta property="og:url" content="https://perrotta.dev/2022/01/alpine-linux-apk-command-not-found-hook/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Alpine Linux: apk command not found hook"><meta property="og:description" content="In this post we will learn how to define a command-not-found hook to the apk(8) package manager in Alpine Linux.
Sneak peek Before:
$ podman zsh: correct 'podman' to 'pod2man' [nyae]? n zsh: command not found: podman After:
$ podman zsh: correct 'podman' to 'pod2man' [nyae]? n podman may be found in the following packages: <cmd:podman> podman-3.4.4-r1 x86_64 {podman} (Apache-2.0) Preamble Whenever you type a command that is not in your $PATH, usually your shell will yell at you that it wasn’t found."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-01-04T16:25:51-05:00"><meta property="article:modified_time" content="2022-01-04T16:25:51-05:00"><meta property="article:tag" content="Linux"><meta property="article:tag" content="Bestof★"><meta name=twitter:card content="summary"><meta name=twitter:title content="Alpine Linux: apk command not found hook"><meta name=twitter:description content="In this post we will learn how to define a command-not-found hook to the apk(8) package manager in Alpine Linux.
Sneak peek Before:
$ podman zsh: correct 'podman' to 'pod2man' [nyae]? n zsh: command not found: podman After:
$ podman zsh: correct 'podman' to 'pod2man' [nyae]? n podman may be found in the following packages: <cmd:podman> podman-3.4.4-r1 x86_64 {podman} (Apache-2.0) Preamble Whenever you type a command that is not in your $PATH, usually your shell will yell at you that it wasn’t found."><meta itemprop=name content="Alpine Linux: apk command not found hook"><meta itemprop=description content="In this post we will learn how to define a command-not-found hook to the apk(8) package manager in Alpine Linux.
Sneak peek Before:
$ podman zsh: correct 'podman' to 'pod2man' [nyae]? n zsh: command not found: podman After:
$ podman zsh: correct 'podman' to 'pod2man' [nyae]? n podman may be found in the following packages: <cmd:podman> podman-3.4.4-r1 x86_64 {podman} (Apache-2.0) Preamble Whenever you type a command that is not in your $PATH, usually your shell will yell at you that it wasn’t found."><meta itemprop=datePublished content="2022-01-04T16:25:51-05:00"><meta itemprop=dateModified content="2022-01-04T16:25:51-05:00"><meta itemprop=wordCount content="779"><meta itemprop=keywords content="Linux,Bestof★"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>body{font-family:crimson pro,vollkorn,alegreya,iowan old style,apple garamond,baskerville,times new roman,noto serif,droid serif,times,source serif pro,serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:inter,fira sans,lato,system-ui,-apple-system,BlinkMacSystemFont,avenir next,avenir,segoe ui,helvetica neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:fira code,pt mono,ibm plex mono,Menlo,Consolas,Monaco,liberation mono,ubuntu mono,lucida console,monospace}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1><span>★</span>
Alpine Linux: apk command not found hook</h1><p><i><time datetime=2022-01-04 pubdate>04 Jan, 2022
</time>• 779 words
• 4 min</i></p><content><p>In this post we will learn how to define a command-not-found hook to the <code>apk(8)</code> package manager in Alpine Linux.</p><h2 id=sneak-peek>Sneak peek</h2><p>Before:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ podman
</span></span><span style=display:flex><span>zsh: correct <span style=color:#e6db74>&#39;podman&#39;</span> to <span style=color:#e6db74>&#39;pod2man&#39;</span> <span style=color:#f92672>[</span>nyae<span style=color:#f92672>]</span>? n
</span></span><span style=display:flex><span>zsh: command not found: podman
</span></span></code></pre></div><p>After:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ podman
</span></span><span style=display:flex><span>zsh: correct <span style=color:#e6db74>&#39;podman&#39;</span> to <span style=color:#e6db74>&#39;pod2man&#39;</span> <span style=color:#f92672>[</span>nyae<span style=color:#f92672>]</span>? n
</span></span><span style=display:flex><span>podman may be found in the following packages:
</span></span><span style=display:flex><span>  &lt;cmd:podman&gt; podman-3.4.4-r1 x86_64 <span style=color:#f92672>{</span>podman<span style=color:#f92672>}</span> <span style=color:#f92672>(</span>Apache-2.0<span style=color:#f92672>)</span>
</span></span></code></pre></div><h2 id=preamble>Preamble</h2><p>Whenever you type a command that is not in your <code>$PATH</code>, usually your shell
will yell at you that it wasn&rsquo;t found.</p><p>The typical workflow in this scenario is to use the search functionality of your package manager in order to find which package provides the binary you&rsquo;re interested in.</p><p>In Alpine Linux, one would do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ apk search podman
</span></span><span style=display:flex><span>podman-doc-3.4.4-r1
</span></span><span style=display:flex><span>podman-remote-3.4.4-r1
</span></span><span style=display:flex><span>podman-docker-3.4.4-r1
</span></span><span style=display:flex><span>openscap-1.3.5-r3
</span></span><span style=display:flex><span>podman-3.4.4-r1
</span></span><span style=display:flex><span>podman-compose-0.1.5-r4
</span></span><span style=display:flex><span>podman-bash-completion-3.4.4-r1
</span></span><span style=display:flex><span>podman-zsh-completion-3.4.4-r1
</span></span><span style=display:flex><span>py3-podman-3.2.1-r1
</span></span><span style=display:flex><span>podman-docker-doc-3.4.4-r1
</span></span><span style=display:flex><span>podman-openrc-3.4.4-r1
</span></span><span style=display:flex><span>podman-fish-completion-3.4.4-r1
</span></span></code></pre></div><p>The output is a bit noisy, but with a bit of experience you could easily figure out the package you&rsquo;re looking for is simply called <code>podman</code>, given the output above.</p><p>Surely this was an easy example, what if we tried something less obvious?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ vidir
</span></span><span style=display:flex><span>zsh: correct <span style=color:#e6db74>&#39;vidir&#39;</span> to <span style=color:#e6db74>&#39;vdir&#39;</span> <span style=color:#f92672>[</span>nyae<span style=color:#f92672>]</span>? n
</span></span><span style=display:flex><span>zsh: command not found: vidir
</span></span></code></pre></div><p>There&rsquo;s no <code>vidir</code> binary, then surely there&rsquo;s a <code>vidir</code> package, right?</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ doas apk add vidir
</span></span><span style=display:flex><span>ERROR: unable to <span style=color:#66d9ef>select</span> packages:
</span></span><span style=display:flex><span>  vidir <span style=color:#f92672>(</span>no such package<span style=color:#f92672>)</span>:
</span></span><span style=display:flex><span>    required by: world<span style=color:#f92672>[</span>vidir<span style=color:#f92672>]</span>
</span></span></code></pre></div><p>Er, no. You&rsquo;ll need to use search again:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ apk search vidir
</span></span><span style=display:flex><span>moreutils-0.67-r0
</span></span></code></pre></div><p>There it is, <code>moreutils</code>. Great piece of software, by the way<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>What if we could automate this?</p><h2 id=automating-command-not-found-1st-try>Automating command-not-found: 1st try</h2><p>In bash, one can define a <code>command_not_found_handle</code> function. In zsh, one can define a <code>command_not_found_handler</code> function. I know, why can&rsquo;t it be the same function, right? Just one <code>r</code> in the way. Regardless of whichever shell you use, the point is that the function is invoked whenever you run a command that is not in the <code>$PATH</code> (or that isn&rsquo;t a shell built-in).</p><p>In principle, you could do:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>command_not_found_handle<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>  local cmd<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>  apk search <span style=color:#e6db74>&#34;</span>$cmd<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>It&rsquo;s a good first try, and it surely works as expected, but it can be a bit noisy sometimes. Look at the podman output above, it outputs several unrelated packages, none of which provide the <code>podman</code> binary other than its homonym.</p><h2 id=automating-command-not-found-2nd-try>Automating command-not-found: 2nd try</h2><p>In Alpine, we can do slightly better. <code>apk(8)</code> has the concept of providers:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ apk list -P | awk <span style=color:#e6db74>&#39;{print $1}&#39;</span> | egrep <span style=color:#e6db74>&#39;&lt;\w+:&#39;</span> | cut -f <span style=color:#ae81ff>1</span> -d <span style=color:#e6db74>&#39;:&#39;</span> | cut -c 2- | sort -u
</span></span><span style=display:flex><span>cmd
</span></span><span style=display:flex><span>dbus
</span></span><span style=display:flex><span>pc
</span></span><span style=display:flex><span>so
</span></span></code></pre></div><p><code>-P</code> above stands for <code>--providers</code>. This roughly means one can search for a package that provides a given shared library (<code>so</code>), or a package that provides a given binary (<code>cmd</code>), and so on. We&rsquo;re interested in the <code>cmd:</code> provider.</p><p>If we tried it with <code>podman</code>, we would get the following output:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ apk list -P -- <span style=color:#e6db74>&#34;cmd:podman&#34;</span>
</span></span><span style=display:flex><span>&lt;cmd:podman&gt; podman-3.4.4-r1 x86_64 <span style=color:#f92672>{</span>podman<span style=color:#f92672>}</span> <span style=color:#f92672>(</span>Apache-2.0<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>Look at how much shorter and direct it is, compared to the 1st approach!</p><p>Here&rsquo;s what it looks like if we try it with a binary provided by multiple packages:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ apk list -P -- <span style=color:#e6db74>&#34;cmd:docker&#34;</span>
</span></span><span style=display:flex><span>&lt;cmd:docker&gt; docker-cli-20.10.11-r0 x86_64 <span style=color:#f92672>{</span>docker<span style=color:#f92672>}</span> <span style=color:#f92672>(</span>Apache-2.0<span style=color:#f92672>)</span> <span style=color:#f92672>[</span>installed<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>&lt;cmd:docker&gt; podman-docker-3.4.4-r1 x86_64 <span style=color:#f92672>{</span>podman<span style=color:#f92672>}</span> <span style=color:#f92672>(</span>Apache-2.0<span style=color:#f92672>)</span>
</span></span></code></pre></div><p>It&rsquo;s very easy to see that both <code>docker-cli</code> and <code>podman-docker</code> provide <code>docker</code>. If you just did a simple search, you&rsquo;d get a lot of noise:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ apk search docker
</span></span><span style=display:flex><span>docker-bash-completion-20.10.11-r0
</span></span><span style=display:flex><span>docker-cli-20.10.11-r0
</span></span><span style=display:flex><span>docker-machine-driver-kvm2-1.24.0-r0
</span></span><span style=display:flex><span>x11docker-6.9.0-r2
</span></span><span style=display:flex><span>docker-volume-local-persist-1.3.0-r5
</span></span><span style=display:flex><span>podman-docker-3.4.4-r1
</span></span><span style=display:flex><span>openvswitch-2.12.3-r4
</span></span><span style=display:flex><span>docker-engine-20.10.11-r0
</span></span><span style=display:flex><span>docker-openrc-20.10.11-r0
</span></span><span style=display:flex><span>dockerize-0.6.1-r9
</span></span><span style=display:flex><span>docker-fish-completion-20.10.11-r0
</span></span><span style=display:flex><span>openscap-1.3.5-r3
</span></span><span style=display:flex><span>docker-py-5.0.3-r1
</span></span><span style=display:flex><span>openvswitch-ovn-2.12.3-r4
</span></span><span style=display:flex><span>docker-registry-openrc-2.7.1-r5
</span></span><span style=display:flex><span>docker-doc-20.10.11-r0
</span></span><span style=display:flex><span>rsyslog-imdocker-8.2108.0-r0
</span></span><span style=display:flex><span>lazydocker-0.12-r2
</span></span><span style=display:flex><span>docker-compose-bash-completion-1.29.2-r2
</span></span><span style=display:flex><span>docker-compose-1.29.2-r2
</span></span><span style=display:flex><span>py3-dockerpty-0.4.1-r4
</span></span><span style=display:flex><span>docker-compose-zsh-completion-1.29.2-r2
</span></span><span style=display:flex><span>docker-registry-2.7.1-r5
</span></span><span style=display:flex><span>docker-credential-ecr-login-0.5.0-r2
</span></span><span style=display:flex><span>dockerpy-creds-0.4.0-r3
</span></span><span style=display:flex><span>docker-cli-compose-2.1.1-r0
</span></span><span style=display:flex><span>docker-credential-ecr-login-doc-0.5.0-r2
</span></span><span style=display:flex><span>podman-docker-doc-3.4.4-r1
</span></span><span style=display:flex><span>docker-20.10.11-r0
</span></span><span style=display:flex><span>docker-compose-fish-completion-1.29.2-r2
</span></span><span style=display:flex><span>flannel-contrib-cni-0.15.1-r0
</span></span><span style=display:flex><span>docker-zsh-completion-20.10.11-r0
</span></span><span style=display:flex><span>docker-volume-local-persist-openrc-1.3.0-r5
</span></span><span style=display:flex><span>docker-cli-buildx-0.7.1-r0
</span></span></code></pre></div><h2 id=packagingpackaging-it-all-together>Packaging<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup> it all together</h2><p>I wrote the following scripts, which I source in my respective interactive shells, to achieve this behavior out-of-the-box:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat apk-command-not-found.bash
</span></span><span style=display:flex><span><span style=color:#75715e>#!/bin/bash</span>
</span></span><span style=display:flex><span><span style=color:#75715e># apk(8) from Alpine Linux command not found hook for bash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>command_not_found_handle <span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        local cmd<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> pkgs
</span></span><span style=display:flex><span>        mapfile -t pkgs &lt; &lt;<span style=color:#f92672>(</span>apk list -P -- <span style=color:#e6db74>&#34;cmd:</span>$cmd<span style=color:#e6db74>&#34;</span> 2&gt;/dev/null<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span> <span style=color:#e6db74>${#</span>pkgs[*]<span style=color:#e6db74>}</span> <span style=color:#f92672>))</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>                echo <span style=color:#e6db74>&#34;</span>$cmd<span style=color:#e6db74> may be found in the following packages:&#34;</span>
</span></span><span style=display:flex><span>                printf <span style=color:#e6db74>&#39;  %s\n&#39;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>pkgs[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                echo <span style=color:#e6db74>&#34;bash: command not found: </span>$cmd<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fi</span> 1&gt;&amp;<span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>127</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ cat apk-command-not-found.zsh
</span></span><span style=display:flex><span><span style=color:#75715e>#!/bin/zsh</span>
</span></span><span style=display:flex><span><span style=color:#75715e># apk(8) from Alpine Linux command not found hook for zsh</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>command_not_found_handler<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>        local cmd<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        local pkgs<span style=color:#f92672>=(</span><span style=color:#e6db74>${</span>(f)<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>apk list -P -- <span style=color:#e6db74>&#34;cmd:</span>$cmd<span style=color:#e6db74>&#34;</span> 2&gt;/dev/null<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>}</span><span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> -n <span style=color:#e6db74>&#34;</span>$pkgs<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
</span></span><span style=display:flex><span>                echo <span style=color:#e6db74>&#34;</span>$cmd<span style=color:#e6db74> may be found in the following packages:&#34;</span>
</span></span><span style=display:flex><span>                printf <span style=color:#e6db74>&#39;  %s\n&#39;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>pkgs[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>                echo <span style=color:#e6db74>&#34;zsh: command not found: </span>$cmd<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>fi</span> 1&gt;&amp;<span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>127</span>
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><p>The snippets above are snapshots intended for this post.
I keep up-to-date versions of these files in my dotfiles repository, <a href="https://github.com/thiagowfx/.dotfiles/search?q=filename%3Aapk-command-not-found&amp;type=code">try out this query</a> in case I ever move them elsewhere.</p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p><a href=https://joeyh.name/code/moreutils/>https://joeyh.name/code/moreutils/</a>: moreutils is a collection of the unix tools that nobody thought to write long ago when unix was young.&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>pun intended&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></content><p><a href=https://perrotta.dev/tags/linux/>#linux</a>
<a href=https://perrotta.dev/tags/bestof/>#bestof★</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:tbperrotta@gmail.com>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
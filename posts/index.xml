<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev//rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>¬¨ just serendipity üçÄ</title><link>https://perrotta.dev/</link><description>Recent content on ¬¨ just serendipity üçÄ</description><generator>Hugo</generator><language>en</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>¬© 2021 - 2026 Thiago Perrotta ¬∑
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) ¬∑
a fork of [hugo  ï‚Ä¢·¥•‚Ä¢ î bear](https://github.com/janraasch/hugo-bearblog/)</copyright><atom:link href="https://perrotta.dev/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Miniflux themes</title><link>https://perrotta.dev/2026/01/miniflux-themes/</link><pubDate>Fri, 30 Jan 2026 11:31:40 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/01/miniflux-themes/</guid><description>&lt;p&gt;I&amp;rsquo;ve been using &lt;a href="https://miniflux.app/"&gt;miniflux&lt;/a&gt; &lt;a href="https://perrotta.dev/2022/01/miniflux-rolling-my-own-rss-reader/"&gt;for ages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And yet I never bothered to customize it much. Its vanilla settings are great
out-of-the-box ‚Äì as it should be!&lt;/p&gt;
&lt;p&gt;That said, it&amp;rsquo;s quite straightforward to add custom CSS to miniflux.&lt;/p&gt;
&lt;p&gt;I found two themes that are visually appealing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/echoriiku/1fe309493a58e86c082d3f4c39c3e122"&gt;solarized&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/catppuccin/miniflux/blob/main/themes/catppuccin-latte.css#L8"&gt;catppuccin latte&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Copy the CSS snippet, go to Settings &amp;gt; Custom CSS in the miniflux UI, paste it
there and save the config. Enjoy.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Miniflux themes"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>starship: github PR prompt</title><link>https://perrotta.dev/2026/01/starship-github-pr-prompt/</link><pubDate>Fri, 30 Jan 2026 00:51:51 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/starship-github-pr-prompt/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/12/starship/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: add to &lt;a href="https://starship.rs/"&gt;starship&lt;/a&gt; the GitHub PR
associated with the current git branch.&lt;/p&gt;
&lt;p&gt;The following starship custom module does the trick:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[custom.github_pr]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;command = &amp;#34;bkt --ttl=10m --scope=\&amp;#34;$(git rev-parse --show-toplevel):$(git branch --show-current)\&amp;#34; -- gh pr view --json number --jq &amp;#39;\&amp;#34;#\&amp;#34; + (.number | tostring)&amp;#39; 2&amp;gt;/dev/null&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;format = &amp;#34; [$output](magenta)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ignore_timeout = true&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The module is activated only within git repositories (see the &lt;code&gt;when&lt;/code&gt; variable).&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;command&lt;/code&gt; consists of the &lt;code&gt;gh&lt;/code&gt; CLI, as you would expect. There&amp;rsquo;s one major
problem: it makes a network call on every prompt. This is super inefficient.
Can&amp;rsquo;t do.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s why we use &lt;a href="https://perrotta.dev/2024/12/bkt-cache-command-outputs/"&gt;&lt;code&gt;bkt&lt;/code&gt;&lt;/a&gt;:
it caches the PR info for a certain amount of time (10 minutes in the
aforementioned example), which makes this a feasible prompt.&lt;/p&gt;
&lt;p&gt;The full prompt (without colors) looks roughly like this:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;thiago.perrotta ~/.dotfiles git:master! ‚éá #466
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The full git commit that implements and uses it:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ git --no-pager show
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;commit d2a80f6b8edfa6a07204a1d97b278abacba57813 (HEAD -&amp;gt; master)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Date: Fri Jan 30 00:55:02 2026 +0100
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; starship: add github pr
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git starship/.config/starship.toml starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 2c5e78e..9fbf19b 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--- starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+++ starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -1,5 +1,5 @@
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; # Minimal starship config matching grml prompt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}$line_break$character&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}${custom.github_pr}$line_break$character&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; right_format = &amp;#34;$cmd_duration$jobs&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; add_newline = true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -52,3 +52,9 @@ command = &amp;#34;printf &amp;#39;‚éá&amp;#39;&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; when = &amp;#34;[ -f .git ]&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; format = &amp;#34; [$output]($style)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; style = &amp;#34;bold yellow&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+[custom.github_pr]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+command = &amp;#34;bkt --ttl=10m --scope=\&amp;#34;$(git rev-parse --show-toplevel):$(git branch --show-current)\&amp;#34; -- gh pr view --json number --jq &amp;#39;\&amp;#34;#\&amp;#34; + (.number | tostring)&amp;#39; 2&amp;gt;/dev/null&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+format = &amp;#34; [$output](magenta)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+ignore_timeout = true&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: starship: github PR prompt"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>GitHub: disable coding agent</title><link>https://perrotta.dev/2026/01/github-disable-coding-agent/</link><pubDate>Wed, 28 Jan 2026 15:15:14 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/github-disable-coding-agent/</guid><description>&lt;p&gt;If you don&amp;rsquo;t like the new &amp;ldquo;Agents&amp;rdquo; tab in GitHub (repo view), you can disable
it here: &lt;a href="https://github.com/settings/copilot/coding_agent"&gt;https://github.com/settings/copilot/coding_agent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Set it to &amp;ldquo;No repositories&amp;rdquo;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;If you don&amp;rsquo;t like the Copilot chat featires in GitHub, you can disable them
here: &lt;a href="https://github.com/settings/copilot/features"&gt;https://github.com/settings/copilot/features&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dashboard Entry Point
Allows instant chatting when landing on GitHub.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Set it to &amp;ldquo;Disabled&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: GitHub: disable coding agent"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ 500 days of Summer (2009)</title><link>https://perrotta.dev/2026/01/500-days-of-summer-2009/</link><pubDate>Tue, 27 Jan 2026 00:49:32 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>movies</category><category>serenity</category><guid>https://perrotta.dev/2026/01/500-days-of-summer-2009/</guid><description>&lt;p&gt;Recently I had to opportunity to watch &lt;a href="https://www.imdb.com/title/tt1022603/"&gt;this classic&lt;/a&gt; during a flight.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s such a great movie&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;!-- from IMDB --&gt;
&lt;p style="text-align: center"&gt;
 &lt;img src="https://m.media-amazon.com/images/M/MV5BMTk5MjM4OTU1OV5BMl5BanBnXkFtZTcwODkzNDIzMw@@._V1_FMjpg_UX400_.jpg" alt="cover"&gt;
&lt;/p&gt;
&lt;p&gt;It was the second time I watched it. The first one was during my teenage years,
probably around 15-16.&lt;/p&gt;
&lt;p&gt;Many years later, with a few bits of wisdom and experience by the means of
romances, heartbreaks, and situationships, it feels so natural (and perhaps
dangerously familiar) to empathize with both protagonists.&lt;/p&gt;
&lt;p&gt;In the old days I could only empathize with Tom (&lt;em&gt;Joseph Gordon-Levitt&lt;/em&gt;). I&amp;rsquo;d
get frustrated at Summer (&lt;em&gt;Zooey Deschanel&lt;/em&gt;). Like, why, just whyyyyy do you act
like this?&lt;/p&gt;
&lt;p&gt;Today, suddenly, Summer&amp;rsquo;s perspective totally resonates with me. Even though it
is seemingly irrational (&lt;em&gt;you don&amp;rsquo;t want a boyfriend, but then all of a sudden
you marry someone else right after breaking up with me? WTH?!&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;And the most interesting part, perhaps, is to reach the conclusion that there is
no ultimate right or wrong side. Moral is subjective. Each character is equally
beautiful in their own way, with their own desires and insecurities, with their
own definition of happiness, their own emotions and pragmatism, and their own
way of shielding out from unknowns.&lt;/p&gt;
&lt;p&gt;The soundtrack is relaxing and satisfying. It hasn&amp;rsquo;t aged at all. &lt;a href="https://www.youtube.com/watch?v=EErSKhC0CZs"&gt;&lt;em&gt;You make my
dreams come true&lt;/em&gt;&lt;/a&gt; üé∂. Each and
every day &amp;lt;3.&lt;/p&gt;
&lt;p&gt;Vivid experience makes you easily recognize &lt;a href="https://www.goodreads.com/book/show/9547888-attached"&gt;attachment
styles&lt;/a&gt; in each character.
The avoidant is afraid of closeness and love. The anxious is afraid of
rejection.&lt;/p&gt;
&lt;p&gt;Is it fair to always label the avoidant as the villain, or is that just another
perfectly acceptable way of l{o,i}ving? Is it fair to always label the anxious
as a (the) victim, to judge that they should know better?&lt;/p&gt;
&lt;p&gt;Aren&amp;rsquo;t we always picturing ourselves in the perfect scenario, constantly
juggling &lt;em&gt;expectations versus reality&lt;/em&gt;? The happy path user journey is often
just an illusion, a simplified model that doesn&amp;rsquo;t match reality in any universe
known to mankind, except in imaginary mathematical land. The real word is
beautifully complex&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;I love the direction of the movie. The narration. The flashbacks. &lt;em&gt;This
is not a love story&lt;/em&gt;&lt;sup id="fnref:3"&gt;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fn:3" class="footnote-ref" role="doc-noteref"&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Is is true? Do you like me?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Joseph-Gordon Levitt and Zooey Deschanel are peak charisma.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a masterpiece.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;7.6 / 10 ‚≠êÔ∏è on IMDB is underrated.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Which is sometimes annoying to us Engineers. But can&amp;rsquo;t complain, that
justifies the raison d&amp;rsquo;√™tre‚Ñ¢ of the profession.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;&amp;ldquo;You have been warned&amp;rdquo;, but who does
&lt;a href="https://en.wikipedia.org/wiki/RTFM"&gt;RTFM&lt;/a&gt;?&amp;#160;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fnref:3" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 500 days of Summer (2009)"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/movies/"&gt;#movies&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Em dashes</title><link>https://perrotta.dev/2026/01/em-dashes/</link><pubDate>Tue, 27 Jan 2026 00:24:45 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/em-dashes/</guid><description>&lt;p&gt;I use em dashes extensively (‚Äì).&lt;/p&gt;
&lt;p&gt;And, apparently, &lt;a href="https://folkertstijnman.com/blog/why-em-dashes-are-common-in-llm-outputs/"&gt;so&lt;/a&gt; &lt;a href="https://medium.com/@raj-srivastava/how-llms-turned-the-em-dash-into-a-villain-technical-nuances-b564857adc3b"&gt;do&lt;/a&gt; &lt;a href="https://www.seangoedecke.com/em-dashes/"&gt;LLMs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;These days I feel that I need to put in some &lt;em&gt;additional&lt;/em&gt; effort to make my sentences sound more natural / human, otherwise some people could erroneously assume that they&amp;rsquo;re LLM-generated.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;C&amp;rsquo;est la vie&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;On macOS, press &lt;code&gt;Option + -&lt;/code&gt; to insert an em-dash (‚Äì).&lt;/p&gt;
&lt;p&gt;Alternatively,
&lt;a href="https://vi.stackexchange.com/questions/2199/what-is-the-easiest-way-to-insert-en-dash-in-vim"&gt;instruct&lt;/a&gt;
&lt;code&gt;nvim&lt;/code&gt; to insert an em-dash when typing the sequence &lt;code&gt;--&amp;lt;space&amp;gt;&lt;/code&gt; (=two dashes
followed by a space) in markdown files by changing
&lt;code&gt;~/.config/nvim/after/ftplugin/markdown.lua&lt;/code&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="lua"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;lua&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Convert -- followed by space to em-dash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#39;i&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;--&amp;lt;Space&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;‚Äî&amp;#39;&lt;/span&gt;, { buffer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;, desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Em-dash&amp;#39;&lt;/span&gt; })&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Or in &lt;code&gt;vim&lt;/code&gt; (&lt;code&gt;~/.vim/after/ftplugin/markdown.vim&lt;/code&gt;):&lt;/p&gt;

&lt;div class="codeblock" data-lang="vimscript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;vimscript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre tabindex="0"&gt;&lt;code class="language-vimscript" data-lang="vimscript"&gt;inoremap &amp;lt;buffer&amp;gt; -- ‚Äî&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Em dashes"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>atuin: new machine setup</title><link>https://perrotta.dev/2026/01/atuin-new-machine-setup/</link><pubDate>Sat, 24 Jan 2026 18:46:02 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>selfhosted</category><guid>https://perrotta.dev/2026/01/atuin-new-machine-setup/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/11/atuin/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: you&amp;rsquo;re already using &lt;code&gt;atuin&lt;/code&gt;, and have sync configured.
You just got a new machine. Now, configure &lt;code&gt;atuin&lt;/code&gt; in it.&lt;/p&gt;
&lt;p&gt;If you self-host, configure your sync server first:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;$EDITOR ~/.config/atuin/config.toml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ---&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## address of the sync server&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# sync_address = &amp;#34;https://api.atuin.sh&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sync_address &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;https://{your-server-here}&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then log in to your server:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;atuin login --username &lt;span style="color:#f92672"&gt;{&lt;/span&gt;username&lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;type in password&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You can also provide the password with the &lt;code&gt;--password&lt;/code&gt; switch, but keep in mind
it will be logged to your shell history unless you take precautions.&lt;/p&gt;
&lt;p&gt;The next step is to import your current history into atuin. If this is a
fresh new machine then there&amp;rsquo;s no need to do so.&lt;/p&gt;
&lt;p&gt;If you had been using it for a while but didn&amp;rsquo;t set up &lt;code&gt;atuin&lt;/code&gt; from the
beginning, go on:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;atuin import auto&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Finally, sync it once:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;atuin sync&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Syncing happens automatically, but it&amp;rsquo;s sensible to manually kick-off the
initial sync upfront.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Fin&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: atuin: new machine setup"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/selfhosted/"&gt;#selfhosted&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>terraform import arrays</title><link>https://perrotta.dev/2026/01/terraform-import-arrays/</link><pubDate>Sat, 24 Jan 2026 17:00:07 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>terraform</category><guid>https://perrotta.dev/2026/01/terraform-import-arrays/</guid><description>&lt;p&gt;Given an existing resource
&lt;code&gt;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed[0]&lt;/code&gt;
to be imported into terraform state through an
&lt;a href="https://developer.hashicorp.com/terraform/language/v1.14.x/import/bulk?page=import&amp;amp;page=bulk"&gt;&lt;code&gt;imports.tf&lt;/code&gt;&lt;/a&gt;
file with &lt;a href="https://developer.hashicorp.com/terraform/language/import"&gt;&lt;code&gt;import&lt;/code&gt;&lt;/a&gt;
blocks, a targeted imported can be performed like this:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;terraform apply -target&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed[0]&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Nothing special here.
The &amp;ldquo;TIL&amp;rdquo; bit of the day is that the array suffix &lt;code&gt;[0]&lt;/code&gt; is not needed:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;terraform apply -target&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;works as well.&lt;/p&gt;
&lt;p&gt;It feels like a silly optimization to know about but, when you double-click the
resource name in most terminal emulators, only
&lt;code&gt;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed&lt;/code&gt;
gets selected by default, stopping right before &lt;code&gt;[&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: terraform import arrays"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/terraform/"&gt;#terraform&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>TV remote controller</title><link>https://perrotta.dev/2026/01/tv-remote-controller/</link><pubDate>Fri, 23 Jan 2026 15:15:31 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>serenity</category><guid>https://perrotta.dev/2026/01/tv-remote-controller/</guid><description>&lt;p&gt;I have an Android TV whose remote controller stopped working suddenly out of
nowhere. I replaced its AAA batteries to no avail.&lt;/p&gt;
&lt;p&gt;What is the alternative? I bought a cheap IR replacement at Amazon but it did
not work either. Apparently it only works on select TV models, and on Android TV
&lt;em&gt;boxes&lt;/em&gt;. Why does it work on Android TV boxes but not on Android TVs? Mistery.&lt;/p&gt;
&lt;p&gt;From here, my options were:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;buy another remote, paying great care to its advertised compatibility&lt;/li&gt;
&lt;li&gt;try to figure out what is wrong with the original remote&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;I exhausted #2. No more ideas. #1 seems to be the way to go.&lt;/p&gt;
&lt;p&gt;BUT: at the last minute I figured out it&amp;rsquo;s possible to control the TV with
my iPhone.&lt;/p&gt;
&lt;p&gt;The built-in remote app only works on Apple TVs, so it is ruled out.&lt;/p&gt;
&lt;p&gt;There are a couple of random TV remote apps in the App Store but I did not like
them. Some of them did not even work at all. They&amp;rsquo;re full of ads, and some of
them require weekly or yearly subscriptions. No, thank you.&lt;/p&gt;
&lt;p&gt;The light at the end of the tunnel: Google! Who is the developer of Android?
Google! Who must have an app to control Android TVs? Google!&lt;/p&gt;
&lt;p&gt;I am not a fan of installing another Google app on my phone, but this is a
natural choice, within the Android ecosystem. It is possible to control an
Android TV that is part of a Google Home setup with at least two apps:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Google Home&lt;/li&gt;
&lt;li&gt;Google TV&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I found Google TV to be better for this use case. Google Home is full of
irrelevant features for this specific flow.&lt;/p&gt;
&lt;p&gt;What is the new workflow?&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Turn the TV on, manually. It&amp;rsquo;s seemingly not possible to turn it on with the app. This is OK, no big deal.&lt;/li&gt;
&lt;li&gt;Use the Google TV app to open the remote controller interface.&lt;/li&gt;
&lt;li&gt;Have fun. In moderation.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;One caveat: it will be quite hard to sell that TV in the future, without a
working remote&amp;hellip;the Google TV app setup only works because the Android TV is
connected to my Google Home, and/or because it&amp;rsquo;s logged into my Google account.&lt;/p&gt;
&lt;p&gt;An (undesired?) side effect is that guests cannot easily control my TV.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: TV remote controller"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Airline Wi-Fi messaging services</title><link>https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/</link><pubDate>Tue, 20 Jan 2026 16:48:48 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/</guid><description>&lt;p&gt;Many airlines offer free Wi-Fi connectivity to their fellow passengers, up to a
certain amount of time ‚Äî for example, 30 minutes.&lt;/p&gt;
&lt;p&gt;The connectivity is severely limited though, being typically restricted to
messaging services only (think SMS, WhatsApp, Telegram, Signal, &amp;hellip;), and just
text (no GIFs, images, videos, etc.)&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. In this context, email is not
considered to be messaging.&lt;/p&gt;
&lt;p&gt;I recently realized that (cloud) ChatGPT-like LLMs are not considered messaging
services. Which is a bummer ‚Äî wouldn&amp;rsquo;t it be super convenient to be able to jot
down thoughts, plans and ideas to them whilst flying? And the medium is perfect
‚Äî texting back-and-forth is all you need. Responses don&amp;rsquo;t even have to be
streamed: split chunks would be perfectly acceptable.&lt;/p&gt;
&lt;p&gt;You heard of this million-dollar idea here first.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;An interesting observation in the Apple Mobile ecosystem, due to the
underlying architecture, is that you get to see push notifications from
services even other than messaging (for example, email). However, it&amp;rsquo;s not
possible to interact with them.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Airline Wi-Fi messaging services"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>'New' series: Raspberry Pi fun with DevOps, redux</title><link>https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/</link><pubDate>Sat, 17 Jan 2026 23:14:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>alpine-linux</category><category>dev</category><guid>https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/</guid><description>&lt;p&gt;Once upon a time, &lt;a href="https://www.youtube.com/watch?v=vNoKguSdy4Y"&gt;a few mistakes
ago&lt;/a&gt;, I wanted to start a blog
series about doing projects with my two Raspberry Pi units at home.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://perrotta.dev/2024/10/new-series-raspberry-pi-fun-with-devops/"&gt;initial post&lt;/a&gt; described my vision, but it was never followed upon. There was a mix of
reasons for that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lack of time and proper prioritization&lt;/li&gt;
&lt;li&gt;being overwhelmed by choice&lt;/li&gt;
&lt;li&gt;a desire to stay digitally disconnected&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;lack of structure in this blog&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Needless to say, my motivation is still well alive, and I have an itch to move
forward with this project this year. Let&amp;rsquo;s see how it will flow.&lt;/p&gt;
&lt;p&gt;I want to start by commenting on my ideas from 15 months ago. New Thiago reviews
old Thiago.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For a long time I&amp;rsquo;ve been wanting to do something useful with them, while
increasing my DevOps toolkit knowledge.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And trying out new tools and workflows that I am not able to try at work ‚Äì
either because they don&amp;rsquo;t make sense there, or due to lack of prioritization.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The roadblock to do so was the most classic excuse: lack of non-interrupted
time.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s plenty of motivation, and ideas. These will likely &lt;em&gt;never&lt;/em&gt; run out,
any time soon.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Still true! Hah!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There&amp;rsquo;s no guarantee I will follow up on all of these ideas but,&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I can foresee the future! üîÆ&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Guiding principles&lt;/p&gt;
&lt;p&gt;&lt;em&gt;a.k.a. rules of engagement&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My revised goals:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It must run unix ‚Üí &lt;strong&gt;unchanged&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;It must be vanilla / upstream ‚Üí &lt;strong&gt;unchanged&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Every software installation &lt;em&gt;must&lt;/em&gt; come from a package ‚Üí packages are still
OK, but I am opening up the possibility for container images as well (e.g.
via docker or podman). Ad-hoc installations are still explicitly ruled out,
UNLESS they are scripted in an idempotent manner e.g. via Ansible or pyinfra,
but only as a last resort.&lt;/li&gt;
&lt;li&gt;It must have no X11 nor Wayland nor a graphical system ‚Üí &lt;strong&gt;unchanged&lt;/strong&gt;. Web
server management interfaces are acceptable though.&lt;/li&gt;
&lt;li&gt;Software updates must happen with a single command ‚Üí &lt;strong&gt;unchanged&lt;/strong&gt;. These
days I have
&lt;a href="https://github.com/thiagowfx/pancake/tree/master/sd_world"&gt;sd_world&lt;/a&gt;. A
custom &lt;a href="https://just.systems/"&gt;Justfile&lt;/a&gt; recipe would also be acceptable:
&lt;code&gt;just update&lt;/code&gt; or &lt;code&gt;just upgrade&lt;/code&gt; or &lt;code&gt;just world&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;It should be reasonably popular and well-supported ‚Üí &lt;strong&gt;unchanged&lt;/strong&gt;. No
abandonware.&lt;/li&gt;
&lt;li&gt;It should support Raspberry Pi (the ARM architecture, for that matter) as a first-class citizen ‚Üí &lt;strong&gt;unchanged&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Revised distributions / operating systems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Debian
&lt;ul&gt;
&lt;li&gt;RaspberryPi OS&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Fedora&lt;/li&gt;
&lt;li&gt;Alpine Linux&lt;/li&gt;
&lt;li&gt;Arch Linux (Arch Linux ARM)&lt;/li&gt;
&lt;li&gt;Gentoo Linux&lt;/li&gt;
&lt;li&gt;NixOS&lt;/li&gt;
&lt;li&gt;FreeBSD&lt;/li&gt;
&lt;li&gt;OpenBSD&lt;/li&gt;
&lt;li&gt;&lt;del&gt;openSUSE&lt;/del&gt;: I decided that, if I invest in the &lt;code&gt;.rpm&lt;/code&gt; world, Fedora is the
way to go.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Ubuntu&lt;/del&gt;: I decided that, if I invest in the &lt;code&gt;.deb&lt;/code&gt; world, Debian is the way
to go. Ubuntu remains solid for commercial / enterprise usage, but this is a
personal project.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Void Linux&lt;/del&gt;: too niche, no enthusiasm for Void Linux in my circle these
days. If I ever tried it, I feel it would be used as a Desktop distro.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Slackware Linux&lt;/del&gt;: updated on 2025-09-11. Too niche, no enthusiasm for it in
my circle these days.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;This list is still quite large.
I will need to trim it down further in the following days. Stay tuned.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now it&amp;rsquo;s shorter: 4 less distros. Progress!&lt;/p&gt;
&lt;p&gt;One big question is whether I&amp;rsquo;ll treat my Raspberries &lt;a href="https://cloudscaling.com/blog/cloud-computing/the-history-of-pets-vs-cattle/0"&gt;as pets or as
cattle&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To be continued ‚ñ†&lt;sup id="fnref:3"&gt;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fn:3" class="footnote-ref" role="doc-noteref"&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://sive.rs/n"&gt;Life is short&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;More specifically: linking related posts to each other, and having an easy
way to go from the previous to the next post in a series.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;Wishful thinking.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fnref:3" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 'New' series: Raspberry Pi fun with DevOps, redux"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Random</title><link>https://perrotta.dev/2026/01/random/</link><pubDate>Fri, 16 Jan 2026 23:08:32 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/01/random/</guid><description>&lt;p&gt;I love to add little random features to this blog.&lt;/p&gt;
&lt;p&gt;‚Üí &lt;a href="https://perrotta.dev/random"&gt;https://perrotta.dev/random&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I am trying to keep the navigation bar lean&amp;hellip;therefore, a link to &lt;code&gt;/random&lt;/code&gt; was
added under the &amp;ldquo;Explore&amp;rdquo; item.&lt;/p&gt;
&lt;p&gt;The initial implementation was very simple:&lt;/p&gt;

&lt;div class="codeblock" data-lang="js"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;js&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;script&lt;/span&gt;&lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;const&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;posts&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {{&lt;span style="color:#f92672"&gt;-&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;range&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;$index&lt;/span&gt;, &lt;span style="color:#a6e22e"&gt;$page&lt;/span&gt; &lt;span style="color:#f92672"&gt;:=&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;where&lt;/span&gt; .&lt;span style="color:#a6e22e"&gt;Site&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;RegularPages&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Section&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;posts&amp;#34;&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {{&lt;span style="color:#f92672"&gt;-&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;$index&lt;/span&gt; }},{{ &lt;span style="color:#a6e22e"&gt;end&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;{{ $page.RelPermalink }}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {{&lt;span style="color:#f92672"&gt;-&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;end&lt;/span&gt; }}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ];
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; (&lt;span style="color:#a6e22e"&gt;posts&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;length&lt;/span&gt; &lt;span style="color:#f92672"&gt;&amp;gt;&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;const&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;randomPost&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;posts&lt;/span&gt;[Math.&lt;span style="color:#a6e22e"&gt;floor&lt;/span&gt;(Math.&lt;span style="color:#a6e22e"&gt;random&lt;/span&gt;() &lt;span style="color:#f92672"&gt;*&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;posts&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;length&lt;/span&gt;)];
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; window.&lt;span style="color:#a6e22e"&gt;location&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;replace&lt;/span&gt;(&lt;span style="color:#a6e22e"&gt;randomPost&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&amp;lt;&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;/script&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;later on it was updated to exclude &amp;ldquo;coding&amp;rdquo; posts.&lt;/p&gt;
&lt;p&gt;Randomness is often a great source of serendipity!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Random"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>PostgreSQL major version upgrade on Alpine Linux, redux</title><link>https://perrotta.dev/2026/01/postgresql-major-version-upgrade-on-alpine-linux-redux/</link><pubDate>Thu, 15 Jan 2026 22:25:09 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>alpine-linux</category><category>dev</category><guid>https://perrotta.dev/2026/01/postgresql-major-version-upgrade-on-alpine-linux-redux/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/05/postgresql-major-version-upgrade-on-alpine-linux/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="problem-statement"&gt;Problem statement&lt;/h2&gt;
&lt;p&gt;Given Alpine Linux 3.23 running PostgreSQL 17, upgrade to PostgreSQL 18. For
this specific example, consider a &lt;a href="https://miniflux.app/"&gt;miniflux&lt;/a&gt; database.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://perrotta.dev/2025/05/postgresql-major-version-upgrade-on-alpine-linux/"&gt;previous&lt;/a&gt; post still applies, with only one exception:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.credativ.de/en/blog/postgresql-en/postgresql-18-enables-datachecksums-by-default"&gt;PostgreSQL 18 enables data‚Äëchecksums by default&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Version 18 enables data‚Äëchecksums by default. In earlier versions, initdb
required the &lt;code&gt;--data‚Äëchecksums&lt;/code&gt; flag. The new release notes explicitly list
the change in the incompatibilities section: &amp;ldquo;Change initdb default to enable
data checksums‚Ä¶ Checksums can be disabled with the new &lt;code&gt;--no‚Äëdata‚Äëchecksums&lt;/code&gt;
option&amp;rdquo;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a better sensible default, but it breaks the normal upgrade flow:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;~/18/tmp $ pg_upgrade -b /usr/libexec/postgresql17/ -B /usr/libexec/postgresql18/ -d /var/lib/postgresql/17
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/olddata/ -D /var/lib/postgresql/18/data
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Performing Consistency Checks
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-----------------------------
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Checking cluster versions ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;old cluster does not use data checksums but the new one does
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Failure, exiting&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The stable upgrade path is to initialize the new cluster database (v18) with
&lt;code&gt;--no-data-checksums&lt;/code&gt;:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;~/18/tmp $ initdb --no-data-checksums -D /var/lib/postgresql/18/data --locale=en_US.UTF-8 --encoding=UTF8
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;The files belonging to this database system will be owned by user &amp;#34;postgres&amp;#34;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;This user must also own the server process.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;The database cluster will be initialized with locale &amp;#34;en_US.UTF-8&amp;#34;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;The default text search configuration will be set to &amp;#34;english&amp;#34;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Data page checksums are disabled.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;fixing permissions on existing directory /var/lib/postgresql/18/data ... ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;creating subdirectories ... ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;selecting dynamic shared memory implementation ... posix
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;selecting default &amp;#34;max_connections&amp;#34; ... 100
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;selecting default &amp;#34;shared_buffers&amp;#34; ... 128MB
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;selecting default time zone ... America/Toronto
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;creating configuration files ... ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;running bootstrap script ... ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;performing post-bootstrap initialization ... ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;syncing data to disk ... ok
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;initdb: warning: enabling &amp;#34;trust&amp;#34; authentication for local connections
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Success.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then perform the migration as usual. Once the migration is complete, for the
sake of improving the reliability of the database, enable checksums:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;~/18/tmp $ pg_checksums --enable -D /var/lib/postgresql/18/data
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Checksum operation completed
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Files scanned: 1380
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Blocks scanned: 89609
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Files written: 1151
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Blocks written: 89605
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pg_checksums: syncing data directory
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pg_checksums: updating control file
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Checksums enabled in cluster&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You must run &lt;code&gt;pg_checksums&lt;/code&gt; while the cluster is off-line, otherwise:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;~/18/tmp $ pg_checksums --enable -D /var/lib/postgresql/18/data
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pg_checksums: error: cluster must be shut down&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Remember to delete the previous package once the upgrade is fully complete:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/var/lib/postgresql # doas apk del postgresql17
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;(1/3) Purging postgresql17-openrc (17.7-r1)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;(2/3) Purging postgresql17 (17.7-r1)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Executing postgresql17-17.7-r1.pre-deinstall
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;(3/3) Purging postgresql17-client (17.7-r1)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Executing busybox-1.37.0-r31.trigger
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Executing postgresql-common-1.3-r0.trigger
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;OK: 1271.3 MiB in 577 packages&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;That&amp;rsquo;s all!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: PostgreSQL major version upgrade on Alpine Linux, redux"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Gemini on YouTube</title><link>https://perrotta.dev/2026/01/gemini-on-youtube/</link><pubDate>Thu, 15 Jan 2026 00:02:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/gemini-on-youtube/</guid><description>&lt;p&gt;It&amp;rsquo;s now possible to ask questions to / chat with Gen AI about YouTube
videos, directly on YouTube.&lt;/p&gt;
&lt;p&gt;Top #1 use case: &amp;ldquo;summarize this video&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;This will save &lt;em&gt;hours&lt;/em&gt; of time (per&amp;hellip;day? week? month?).&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s much more effective than watching the video at 2x speed and/or skimming
through it.&lt;/p&gt;
&lt;p&gt;Think of the likes of &amp;ldquo;10 reasons to do foo&amp;rdquo; or &amp;ldquo;Top 10 videogames / books of
2025&amp;rdquo; or &amp;ldquo;20 best travel destinations this Summer&amp;rdquo; or &amp;ldquo;How to make perfect
sourdough bread in 5 easy steps&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Now there&amp;rsquo;s no need to watch the video whatsoever, hunting for each individual
piece of information.&lt;/p&gt;
&lt;p&gt;I honestly have no idea how this helps the monetization strategy of the company.
If anything, this will make me spend &lt;em&gt;even less&lt;/em&gt; time browsing random videos.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Gemini on YouTube"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>git aicommit</title><link>https://perrotta.dev/2026/01/git-aicommit/</link><pubDate>Tue, 13 Jan 2026 15:58:48 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-aicommit/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: auto-generate a commit message for &lt;code&gt;git&lt;/code&gt; from the
command-line. The solution should be vendor agnostic.&lt;/p&gt;
&lt;p&gt;Given a &lt;code&gt;git-foo.sh&lt;/code&gt; in &lt;code&gt;$PATH&lt;/code&gt;, it can be invoked as &lt;code&gt;git foo&lt;/code&gt;, as if it
were a built-in &lt;code&gt;git&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;This is helpful to enable seamless integration with &lt;code&gt;git&lt;/code&gt;. I chose to call the
subcommand &lt;code&gt;aicommit&lt;/code&gt;. I suppose &lt;code&gt;commit-ai&lt;/code&gt; would also be sensible.&lt;/p&gt;
&lt;p&gt;The goal is to create &lt;code&gt;git-aicommit.sh&lt;/code&gt; in &lt;code&gt;~/.bin&lt;/code&gt; (which is in my &lt;code&gt;$PATH&lt;/code&gt; via
my &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/018c50ebd86b70b30578d4a1393054fd04bd4553/profile/.profilerc#L42"&gt;.dotfiles&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;This initial draft worked well:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# git-aicommit - Create a commit with an AI-generated title based on staged changes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set -e
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check if we&amp;#39;re inside a git repository&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;true&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: Not in a git repository&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check if there are staged changes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; git diff --cached --quiet; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: No staged changes to commit&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Select AI agent (default: claude)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;agent&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;${&lt;/span&gt;GIT_AI_AGENT&lt;span style="color:#66d9ef"&gt;:-&lt;/span&gt;claude&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;case&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$agent&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; in
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# keep-sorted start&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; amp|ampcode&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ai_prompt&lt;span style="color:#f92672"&gt;()&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt; amp -x &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$1&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; claude&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ai_prompt&lt;span style="color:#f92672"&gt;()&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt; claude -p &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$1&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# keep-sorted end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; *&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: Unknown AI agent: &lt;/span&gt;$agent&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;esac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;prompt&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;Look at the staged git changes and create a summarizing git commit title. Only respond with the title and no affirmation.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Generate commit message and commit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;Generating commit message with &lt;/span&gt;$agent&lt;span style="color:#e6db74"&gt;...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git commit -m &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;ai_prompt &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$prompt&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$@&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;AI commit created successfully&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Refer to &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/git/.bin/git-aicommit-quick"&gt;this
source&lt;/a&gt;
for an up-to-date version as it evolves.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s break it down:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://perrotta.dev/2026/01/oneshot-prompting/"&gt;Previously&lt;/a&gt;: we employ an
oneshot command to call an LLM agent, so that there&amp;rsquo;s no need to do it
interactively. Initially I added only Claude Code and Amp because they are the
agents I use the most; perhaps this list will be expanded later on but it is
not intended to be exhaustive&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;li&gt;The command is intended to run in O(seconds). If it takes too long, then it
should be simplified (via a better prompt).&lt;/li&gt;
&lt;li&gt;By default it uses Claude. To use another agent, call it like:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;GIT_AI_AGENT&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;amp&amp;#34;&lt;/span&gt; git aicommit&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This preference could be trivially made persistent on a per-repo basis by using
&lt;a href="https://perrotta.dev/2022/01/direnv-automate-your-environment-variables/"&gt;direnv&lt;/a&gt;.
For example, use Claude at work and Amp in personal git repositories&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Later on I split the command into two: &lt;code&gt;git aicommit&lt;/code&gt; and &lt;code&gt;git aicommit-quick&lt;/code&gt;.
&amp;ldquo;Quick&amp;rdquo; populates the commit message title only (think &lt;code&gt;git commit -m &amp;quot;foo&amp;quot;&lt;/code&gt;),
whereas the non-quick version populates the body as well, accounting for &lt;a href="https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository"&gt;GitHub
PR
templates&lt;/a&gt;
when they exist. Time will tell whether I need this distinction.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;This gives me the idea to create a separate script for &amp;ldquo;oneshotting&amp;rdquo; LLMs
in &lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/news/opus-4.5"&gt;It&amp;rsquo;s all Claude anyway&lt;/a&gt;, this
distinction is mostly for the sake of discretionary billing.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git aicommit"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>2026</title><link>https://perrotta.dev/2026/01/2026/</link><pubDate>Mon, 12 Jan 2026 17:15:37 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>posse</category><category>serenity</category><guid>https://perrotta.dev/2026/01/2026/</guid><description>&lt;p&gt;Tech. Geopolitics. 2026 is terrifying. 2026 is exciting. Both can be
simultaneously true. You can both like and dislike the current state of affairs
(yes, this includes LLMs), but your individual stance won&amp;rsquo;t change the pace in
which the world evolves.&lt;/p&gt;
&lt;p&gt;After spending most of 2024 significantly avoiding LLMs for coding, and after
spending most of 2025 carefully and skeptically observing, and eventually
(gradually) taming them, I&amp;rsquo;m kickstarting 2026 by fully embracing them.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s no panacea; and it doesn&amp;rsquo;t need to be hype (arguably, hype is terrible).
Treat the LLM selection and driving process as you would when picking an
operating system, a text editor, a package manager, a smartphone, or an ETF.
Pick one, embrace it, ignore the (noise of the) rest, and then life moves on.&lt;/p&gt;
&lt;p&gt;As such, I am announcing two new initiatives.&lt;/p&gt;
&lt;p&gt;One: I am coining an AI&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/2026/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; tag in my blog: &lt;a href="https://perrotta.dev/tags/ai/"&gt;https://perrotta.dev/tags/ai/&lt;/a&gt;. I tend
to write concise posts, primarily about workflows, with occasional tips (tips,
not &lt;em&gt;advice&lt;/em&gt;. There&amp;rsquo;s already way too much advice out there.). No &amp;ldquo;hot takes&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Two: I am introducing a public blogroll: &lt;a href="https://perrotta.dev/blogroll/"&gt;https://perrotta.dev/blogroll/&lt;/a&gt;. This
contains a subset of blogs I follow in a grassroots and organic manner (hello,
RSS!), and makes it very frictionless for you to do the same (there&amp;rsquo;s an OPML
file there that can be easily imported in a news reader of your choice). In my
esteemed opinion, the democratization of knowledge is important. I try to shy
away from politics, and learn from all sides: I believe you can follow &lt;em&gt;both&lt;/em&gt;
DHH and Drew DeVault alike; there&amp;rsquo;s no need to &amp;ldquo;pick&amp;rdquo; any one side.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;I am also introducing a &lt;a href="https://indieweb.org/POSSE"&gt;&amp;ldquo;posse&amp;rdquo;&lt;/a&gt; tag. This
post was cross-posted to my LinkedIn.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/2026/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 2026"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>ghostty: keybindings</title><link>https://perrotta.dev/2026/01/ghostty-keybindings/</link><pubDate>Sun, 11 Jan 2026 10:05:08 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>ghostty</category><category>macos</category><guid>https://perrotta.dev/2026/01/ghostty-keybindings/</guid><description>&lt;p&gt;&lt;strong&gt;TIL&lt;/strong&gt;: A few keybindings from &lt;a href="https://ghostty.org/"&gt;Ghostty&lt;/a&gt;. Assuming macOS.
This list contains the keyboard shortcuts I tend to use weekly (or daily). No
point in including an exhaustive list.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Cmd + d&lt;/code&gt;: split right&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + Shift + d&lt;/code&gt;: split down&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + Shift + p&lt;/code&gt;: command palette&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/ghostty-keybindings/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + Shift + Enter&lt;/code&gt;: toggle (split) zoom (comparable &lt;a href="https://superuser.com/questions/238702/maximizing-a-pane-in-tmux"&gt;to&lt;/a&gt; &lt;code&gt;prefix + z&lt;/code&gt; in &lt;code&gt;tmux&lt;/code&gt; a.k.a. &lt;code&gt;resize-pane&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + Enter&lt;/code&gt;: toggle fullscreen (at the system window manager level)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + 1&lt;/code&gt;, &lt;code&gt;Cmd + 2&lt;/code&gt;, etc: switch terminal tabs&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + Shift + {&lt;/code&gt; / &lt;code&gt;Cmd + Shift + }&lt;/code&gt;: cycle through tabs backwards / forward&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + Shift + [&lt;/code&gt; / &lt;code&gt;Cmd + Shift + ]&lt;/code&gt;: cycle through splits backwards /
forward&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + .&lt;/code&gt;: open Ghostty config&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + t&lt;/code&gt;: open new tab&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + w&lt;/code&gt;: close current tab&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Cmd + n&lt;/code&gt;: open new window&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I found these defaults to be quite sensible.&lt;/p&gt;
&lt;p&gt;The only added customization that I really occasionally use is this:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;keybind = global:cmd+;=toggle_quick_terminal
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;keybind = global:cmd+shift+;=toggle_quick_terminal&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;to toggle the quick terminal (&lt;a href="https://perrotta.dev/2025/11/ghostty-quick-terminal/"&gt;previously&lt;/a&gt;).&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;After 1y using Ghostty, only now have I figured it out it has a command
palette!&amp;#160;&lt;a href="https://perrotta.dev/2026/01/ghostty-keybindings/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ghostty: keybindings"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/ghostty/"&gt;#ghostty&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ ADRs and LLMs</title><link>https://perrotta.dev/2026/01/adrs-and-llms/</link><pubDate>Sun, 11 Jan 2026 09:07:46 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/adrs-and-llms/</guid><description>&lt;p&gt;The first time I heard about &lt;a href="https://adr.github.io/"&gt;Architectural Decision
Records&lt;/a&gt; (ADRs) was with &lt;a href="https://www.georgefairbanks.com/"&gt;George
Fairbanks&lt;/a&gt; (GHF) and &lt;a href="https://www.linkedin.com/in/tituswinters"&gt;Titus
Winters&lt;/a&gt; in an internal training for
software engineers at Google Canada.&lt;/p&gt;
&lt;p&gt;The concept has resonated with me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An Architectural Decision (AD) is a justified design choice that addresses a
functional or non-functional requirement that is architecturally significant.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;An Architectural Decision Record (ADR) captures a single AD and its rationale;
Put it simply, ADR can help you understand the reasons for a chosen
architectural decision, along with its trade-offs and consequences.&lt;/p&gt;
&lt;p&gt;The collection of ADRs created and maintained in a project constitute its
decision log. All these are within the topic of Architectural Knowledge
Management (AKM), but ADR usage can be extended to design and other decisions
(&amp;ldquo;any decision record&amp;rdquo;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Some people liken these to
&lt;a href="https://en.wikipedia.org/wiki/Request_for_Comments"&gt;RFCs&lt;/a&gt;, although they are
not quite the same concept. RFCs tend to be much more formal and go through
rigorous review/approval before it becomes a standard.&lt;/p&gt;
&lt;p&gt;ADRs, on the other hand, tend to be lightweight and objective. An archetypical
ADR captures a single decision about architecture in document form, alongside
its &lt;strong&gt;rationale&lt;/strong&gt;, context and alternatives considered. &lt;strong&gt;Rationale&lt;/strong&gt; is the
keyword here.&lt;/p&gt;
&lt;p&gt;Rephrasing, in simpler terms: ADRs are a collection of rationales about a
project (software repository, if you will). They are incremental, long-living,
ever-evolving guidelines / rules of engagement for a given software realm.&lt;/p&gt;
&lt;p&gt;ADRs (and RFCs as well, for that matter) are typically stored alongside source
code in a version‚Äëcontrolled repository (&lt;em&gt;cof&lt;/em&gt; git &lt;em&gt;cof&lt;/em&gt;):&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% tree
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îî‚îÄ‚îÄ adrs
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îú‚îÄ‚îÄ 0001-foo.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îú‚îÄ‚îÄ 0002-bar.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî‚îÄ‚îÄ 0003-baz.md&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;They are usually numbered, though there&amp;rsquo;s no hard rule saying that you have to
do so with monotonically increasing numbers. You could use calendar versioning
(&lt;code&gt;2025-11-11-foo.md&lt;/code&gt;), or any other numbering scheme if desired.&lt;/p&gt;
&lt;p&gt;GHF has an introductory
&lt;a href="https://www.georgefairbanks.com/blog/comparch-wicsa-2011-panel-discussion-and-haiku-tutorial/"&gt;article&lt;/a&gt;
about them. At the time (2011!), the coined term was &amp;ldquo;Architecture Haiku&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can&amp;rsquo;t say anything in one page ‚Äî or can you? An Architecture Haiku is a
one-page, quick-to-build, √ºber-terse design description. No project wants
&amp;ldquo;shelfware&amp;rdquo; documentation, but many must communicate their design to others.
Brevity is hard ‚Äî what would you say in one page? With no page limit, experts
suggest documenting everything but the kitchen sink. The one-page limit forces
you to convey the essence of your design using compact language and concepts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Enough introduction, here is my hot take.&lt;/p&gt;
&lt;p&gt;I would like to argue that codebases that continually evolve with heavy usage of
LLM coding agents will strongly benefit from ADRs now, and especially in the
future.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://agents.md/"&gt;AGENTS.md&lt;/a&gt; format is a starting point, but it&amp;rsquo;s a far
cry from disciplined ADR enactment. Bootstrapping your git repository with
scattered &lt;code&gt;AGENTS.md&lt;/code&gt; / &lt;code&gt;CLAUDE.md&lt;/code&gt; all over the place is a good initial
practice to tell the agent what to do and/or how to behave, but it does not
capture &lt;em&gt;decision records&lt;/em&gt; effectively.&lt;/p&gt;
&lt;p&gt;The workflow I am starting to adopt in important repositories wherein I work
with teammates resembles this:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ tree docs/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;docs/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îú‚îÄ‚îÄ adrs
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îú‚îÄ‚îÄ 0001-aws-secrets-manager-migration.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îú‚îÄ‚îÄ 0002-cluster-infrastructure-architecture.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îú‚îÄ‚îÄ 0003-slack-drift-notifications.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îî‚îÄ‚îÄ README.md&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A top-level &lt;code&gt;docs/&lt;/code&gt; directory is the entrypoint for all &lt;code&gt;.md&lt;/code&gt; files docs. Inside
it, we store our ADRs.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;README.md&lt;/code&gt; describes how to define an ADR:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Architecture Decision Records&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;This directory contains Architecture Decision Records &lt;span style="color:#f92672"&gt;(&lt;/span&gt;ADRs&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; significant
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;technical decisions in the Terraform infrastructure.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## ADRs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- markdownlint-disable MD013 --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&amp;gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;| Number | Title | Status | Date |&amp;#34;&lt;/span&gt;; echo &lt;span style="color:#e6db74"&gt;&amp;#34;|--------|-------|--------|------|&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; f in 0*.md; &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt; num&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;basename &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; .md | cut -d- -f1&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; title&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;head -1 &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | sed &lt;span style="color:#e6db74"&gt;&amp;#39;s/^# ADR-[0-9]*: //&amp;#39;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; status&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;awk &lt;span style="color:#e6db74"&gt;&amp;#39;/^## Status/{getline;getline;print}&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; date&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;awk &lt;span style="color:#e6db74"&gt;&amp;#39;/^## Date/{getline;getline;print}&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; echo &lt;span style="color:#e6db74"&gt;&amp;#34;| [&lt;/span&gt;$num&lt;span style="color:#e6db74"&gt;](&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;) | &lt;/span&gt;$title&lt;span style="color:#e6db74"&gt; | &lt;/span&gt;$status&lt;span style="color:#e6db74"&gt; | &lt;/span&gt;$date&lt;span style="color:#e6db74"&gt; |&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- BEGIN mdsh --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Number | Title | Status | Date |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;|--------|-------|--------|------|
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| &lt;span style="color:#f92672"&gt;[&lt;/span&gt;0001&lt;span style="color:#f92672"&gt;](&lt;/span&gt;0001-aws-secrets-manager-migration.md&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | AWS Secrets Manager Migration | Proposed &lt;span style="color:#f92672"&gt;(&lt;/span&gt;Not Yet Implemented&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | 2025-11-22 |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| &lt;span style="color:#f92672"&gt;[&lt;/span&gt;0002&lt;span style="color:#f92672"&gt;](&lt;/span&gt;0002-cluster-infrastructure-architecture.md&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | Cluster Infrastructure Architecture | Accepted | 2025-12-01 |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| &lt;span style="color:#f92672"&gt;[&lt;/span&gt;0003&lt;span style="color:#f92672"&gt;](&lt;/span&gt;0003-slack-drift-notifications.md&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | Slack Drift Notifications | Accepted | 2024-12-01 |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- END mdsh --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- markdownlint-enable MD013 --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Adding New ADRs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;1. Create a new file: &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;NNNN-short-title.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;increment the number&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;2. Use this template:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;```&lt;/span&gt;markdown
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ADR-NNNN: Title&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Status&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Proposed | Accepted | Deprecated | Superseded
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Date&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;YYYY-MM-DD
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Context&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;What is the issue that we&lt;span style="color:#e6db74"&gt;&amp;#39;re seeing that is motivating this decision?
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;## Decision
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;What is the change that we&amp;#39;&lt;/span&gt;re proposing and/or doing?
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Include its rationale.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Include alternatives considered where applicable.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Consequences&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;What becomes easier or more difficult to &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt; because of this change?&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Whenever a new significant direction is adopted in the repository, or whenever
something (a tool, a dependency, a process) &lt;em&gt;quasi&lt;/em&gt;-disrupting is introduced, it
probably deserves its own ADR.&lt;/p&gt;
&lt;p&gt;It used to be tedious to write them by hand, but nowadays your LLM agent can
draft ADRs for you. Arguably, a plan&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; file maps naturally to an ADR. All you
have to do is to add &lt;em&gt;some&lt;/em&gt; structure to them&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;See also&lt;/strong&gt;: &lt;a href="https://en.wikipedia.org/wiki/Architectural_decision"&gt;https://en.wikipedia.org/wiki/Architectural_decision&lt;/a&gt;&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;em&gt;Plan&lt;/em&gt; in the context of &amp;ldquo;planning mode&amp;rdquo; that various agents have these
days e.g. &lt;a href="https://code.claude.com/docs/en/model-config"&gt;Claude Code&lt;/a&gt;,
&lt;a href="https://opencode.ai/docs/modes/#plan"&gt;OpenCode&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;But &lt;a href="https://danielmiessler.com/blog/personal-ai-infrastructure"&gt;don&amp;rsquo;t&lt;/a&gt;
&lt;a href="https://github.com/steveyegge/beads"&gt;&lt;em&gt;overdo&lt;/em&gt;&lt;/a&gt; it.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ADRs and LLMs"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>new script: uwatch</title><link>https://perrotta.dev/2026/01/new-script-uwatch/</link><pubDate>Sat, 10 Jan 2026 22:39:53 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/new-script-uwatch/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: &lt;code&gt;watch -- git diff&lt;/code&gt; / &lt;code&gt;watch -- git status&lt;/code&gt; should emit
colors. Yet it doesn&amp;rsquo;t.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://man.archlinux.org/man/watch.1"&gt;watch(1)&lt;/a&gt;:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;NAME
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watch - execute a program periodically, showing output fullscreen
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;SYNOPSIS
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watch [option ...] command
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;DESCRIPTION
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watch runs command repeatedly, displaying its output and errors (the first screenful). This allows you to watch the program output change over time. By default, command is run every 2 seconds and watch will run until interrupted. A header informs of the start and running time of command as well as its exit code.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You typically address this with &lt;code&gt;watch -c&lt;/code&gt;:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-c, --color
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Interpret ANSI color and style sequences.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And yet, &lt;code&gt;watch -c -- git status&lt;/code&gt; still won&amp;rsquo;t emit colors. This is because &lt;code&gt;git&lt;/code&gt;
&amp;ldquo;knows&amp;rdquo; the output is going through a TTY (&lt;code&gt;watch&lt;/code&gt;), and thus defensively
disables colors. Some programs control this behavior with a &lt;code&gt;--color=always&lt;/code&gt;
switch (the default is typically &lt;code&gt;auto&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Without diving deep into what&amp;rsquo;s happening underneath (terminal ANSI escape
colors, TTY output detection), the magical solution is to use
&lt;a href="https://man.archlinux.org/man/unbuffer.1"&gt;&lt;code&gt;unbuffer(1)&lt;/code&gt;&lt;/a&gt;, which was
&lt;a href="https://perrotta.dev/2024/12/unbuffer/"&gt;previously&lt;/a&gt; covered. &lt;code&gt;unbuffer&lt;/code&gt; is
agnostic of the underlying program; it doesn&amp;rsquo;t matter whether it uses &lt;code&gt;--color&lt;/code&gt;,
or &lt;code&gt;CLICOLOR&lt;/code&gt;, or another mechanism.&lt;/p&gt;
&lt;p&gt;Thus we achieve this form:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% watch -c -- unbuffer git status&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;But it&amp;rsquo;s super tedious to remember and to type out the &lt;code&gt;-c -- unbuffer&lt;/code&gt; bits.&lt;/p&gt;
&lt;p&gt;To resolve this, I created a wrapper:
&lt;a href="https://github.com/thiagowfx/pancake/tree/master/uwatch"&gt;&lt;code&gt;uwatch(1)&lt;/code&gt;&lt;/a&gt;. The &lt;code&gt;u&lt;/code&gt;
alludes to &amp;ldquo;unbuffer&amp;rdquo;:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Run a command repeatedly using watch, preserving colored output.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Uses unbuffer to maintain color codes through watch&amp;#39;s output. Useful for monitoring git status, test output, or any command with color formatting.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Usage:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;uwatch &lt;span style="color:#f92672"&gt;[&lt;/span&gt;--&lt;span style="color:#f92672"&gt;]&lt;/span&gt; git status&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;--&lt;/code&gt; separator is optional.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: new script: uwatch"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>claude --teleport</title><link>https://perrotta.dev/2026/01/claude--teleport/</link><pubDate>Sat, 10 Jan 2026 22:26:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude--teleport/</guid><description>&lt;p&gt;After starting a coding session on the web with &lt;a href="https://code.claude.com/docs/en/claude-code-on-the-web"&gt;Claude Code on
Web&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/claude--teleport/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;, you can &lt;a href="https://code.claude.com/docs/en/claude-code-on-the-web#from-web-to-terminal"&gt;resume it
in the
terminal&lt;/a&gt;
with the traditional Claude Code CLI app by running &lt;code&gt;claude --teleport&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Without arguments, it prompts you to interactively choose an existing session to
resume:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Select a session to resume:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Updated Session Title
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚ùØ 1. 52m ago Migrate secrets from Gringotts to AWS Secrets Manager
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. 53m ago Plan Hoth integration with dual provider OIDC
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. 54m ago Add Strangereal terraform state bucket standalone project
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 4. 2w ago Write a CLAUDE.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 5. 1mo ago Address review comments on pull request 42123&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;With a provided session ID argument, the session is immediately resumed.&lt;/p&gt;
&lt;p&gt;The docs mention the existence of the &lt;code&gt;/teleport&lt;/code&gt; command within Claude Code but I
could not find it in my instance (version v2.1.4).&lt;/p&gt;
&lt;p&gt;This &lt;a href="https://xcancel.com/bcherny/status/2007179832300581177"&gt;workflow&lt;/a&gt; (&amp;ldquo;start
on your phone, resume later on your computer afterwards&amp;rdquo;) is starting to become
popularized.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://claude.ai/code"&gt;https://claude.ai/code&lt;/a&gt;&amp;#160;&lt;a href="https://perrotta.dev/2026/01/claude--teleport/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude --teleport"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>git: shell prompt: worktrees</title><link>https://perrotta.dev/2026/01/git-shell-prompt-worktrees/</link><pubDate>Sat, 10 Jan 2026 15:15:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-shell-prompt-worktrees/</guid><description>&lt;p&gt;My shell prompt displays the git branch my repository has
currently checked out:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;thiago.perrotta perrotta.dev git:master?
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: augment that prompt to signal whether we&amp;rsquo;re inside a
checked out &lt;a href="https://git-scm.com/docs/git-worktree"&gt;git worktree&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is helpful because lately multiple repository worktrees have been
popularized thanks to LLM coding agents.&lt;/p&gt;
&lt;p&gt;The following change to &lt;a href="https://perrotta.dev/2025/12/starship/"&gt;starship&lt;/a&gt; does the
trick:&lt;/p&gt;

&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-diff" data-lang="diff"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;commit b7de6881c0fb57c840def52189502985442842e1
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Date: Fri Jan 9 21:18:09 2026 -0300
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; starship: add worktree symbol
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git starship/.config/starship.toml starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 87df9ff..ea7acc8 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;--- starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+++ starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;@@ -1,5 +1,5 @@
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; # Minimal starship config matching grml prompt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;-format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status$line_break$character&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}$line_break$character&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt; right_format = &amp;#34;$cmd_duration$jobs&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; add_newline = true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;@@ -24,13 +24,13 @@ format = &amp;#34; [$path](bold) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [git_branch]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; symbol = &amp;#34;git:&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;-format = &amp;#34;[$symbol$branch](bold cyan) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34;[$symbol$branch](bold cyan)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [git_state]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; format = &amp;#34;|[$state]()&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [git_status]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;-format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [cmd_duration]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; min_time = 2000
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;@@ -46,3 +46,9 @@ format = &amp;#34;[üßô](red) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; [character]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; success_symbol = &amp;#34;[‚ùØ](green)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; error_symbol = &amp;#34;[x](red)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+[custom.git_worktree]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+command = &amp;#34;printf &amp;#39;‚éá&amp;#39;&amp;#34; # or üå≤, but I find the emoji too distracting in this context
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null &amp;amp;&amp;amp; [ -f $(git rev-parse --git-dir)/commondir ]&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34; [$output]($style)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+style = &amp;#34;bold yellow&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You don&amp;rsquo;t need to use starship to adopt it. The core logic is:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git rev-parse --is-inside-work-tree &amp;amp;&amp;gt;/dev/null &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; -f &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;git rev-parse --git-dir&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/commondir&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt; &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; printf &lt;span style="color:#e6db74"&gt;&amp;#39;‚éá&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The result:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;thiago.perrotta perrotta.dev git:thiagowfx/my-custom-branch ‚éá
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It is subtle yet informative.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git: shell prompt: worktrees"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>ghostty: splits</title><link>https://perrotta.dev/2026/01/ghostty-splits/</link><pubDate>Thu, 08 Jan 2026 12:28:27 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>ghostty</category><category>macos</category><guid>https://perrotta.dev/2026/01/ghostty-splits/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/07/ghostty-migrating-config-to-dotfiles/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The best quality-of-life improvement for Ghostty I added in 2025&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/ghostty-splits/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;: add the
following keybindings to your Ghostty config:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# native: Cmd + Shift + d
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;keybind = cmd+shift+-=new_split:down
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# native: Cmd + d
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;keybind = cmd+shift+|=new_split:right&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now you can split your terminal to the right and to the bottom with keyboard
shortcuts.&lt;/p&gt;
&lt;p&gt;Previously I was using the mouse to do so (right click + split).&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Unless you count &lt;a href="https://perrotta.dev/2025/11/ghostty-shaders/"&gt;eye-candy&lt;/a&gt; as
a QoL improvement :)&amp;#160;&lt;a href="https://perrotta.dev/2026/01/ghostty-splits/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ghostty: splits"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/ghostty/"&gt;#ghostty&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Claude Code: release notes RSS feed</title><link>https://perrotta.dev/2026/01/claude-code-release-notes-rss-feed/</link><pubDate>Mon, 05 Jan 2026 15:31:45 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude-code-release-notes-rss-feed/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2026/01/claude-code-tips/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Stay up-to-date with the &lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;
&lt;a href="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"&gt;CHANGELOG&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Did you know &lt;a href="https://stackoverflow.com/questions/21986561/rss-to-a-github-file"&gt;it&amp;rsquo;s
possible&lt;/a&gt; to
obtain a RSS feed straight from a github repo?&lt;/p&gt;
&lt;p&gt;The Claude Code github repository: &lt;a href="https://github.com/anthropics/claude-code/releases"&gt;https://github.com/anthropics/claude-code/releases&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Its feed: &lt;a href="https://github.com/anthropics/claude-code/releases.atom"&gt;https://github.com/anthropics/claude-code/releases.atom&lt;/a&gt; ‚Äì just append
&lt;code&gt;.atom&lt;/code&gt; to the repo releases URL.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t have a favorite RSS reader yet, I recommendd &lt;a href="https://perrotta.dev/2022/01/miniflux-rolling-my-own-rss-reader/"&gt;Miniflux&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: release notes RSS feed"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Claude Code tips</title><link>https://perrotta.dev/2026/01/claude-code-tips/</link><pubDate>Mon, 05 Jan 2026 15:18:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude-code-tips/</guid><description>&lt;p&gt;These are great collections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ykdojo/claude-code-tips"&gt;https://github.com/ykdojo/claude-code-tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adocomplete.com/advent-of-claude-2025/"&gt;https://adocomplete.com/advent-of-claude-2025/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;New tips to me:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/rename&lt;/code&gt; to set a session name, like you would with a tmux window. Later
on, resume the session with &lt;code&gt;/resume {name}&lt;/code&gt; or &lt;code&gt;claude --resume {name}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Since
&lt;a href="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md#2074"&gt;v2.0.74&lt;/a&gt;
LSP became a first-class citizen, comparable to OpenCode:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Added LSP (Language Server Protocol) tool for code intelligence features like
go-to-definition, find references, and hover documentation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code tips"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>git: diff untracked</title><link>https://perrotta.dev/2026/01/git-diff-untracked/</link><pubDate>Sun, 04 Jan 2026 04:29:01 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-diff-untracked/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/12/git-stash-untracked-files/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;If we can stash untracked files (&lt;code&gt;git stash -u&lt;/code&gt;), should we be able to &lt;code&gt;git diff&lt;/code&gt; untracked files?&lt;/p&gt;
&lt;p&gt;Naturally, diffing an untracked file would output the entire file contents.
Still, this can be desirable sometimes.&lt;/p&gt;
&lt;p&gt;When reviewing multiple files, some of which are modified, and some of which
are brand new, you may want to review the entire list at once.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s try it out:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% cdtmp
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/var/folders/yr/6sw3yylx6gjcy5jr38d6j6000000gn/T/thiago.perrotta-2026-01-04-l8Co7f
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git init
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Initialized empty Git repository in /private/var/folders/yr/6sw3yylx6gjcy5jr38d6j6000000gn/T/thiago.perrotta-2026-01-04-l8Co7f/.git/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% echo world &amp;gt; hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git status
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## No commits yet on master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;?? hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git diff
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git diff -u&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Err, no luck. In fact, from &lt;a href="https://man.archlinux.org/man/git-diff.1"&gt;&lt;code&gt;git-diff(1)&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;-p, -u, &amp;ndash;patch&lt;/p&gt;
&lt;p&gt;Generate patch (see the section called &amp;ldquo;GENERATING PATCH TEXT WITH -P&amp;rdquo;).
This is the default.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Ouch. That&amp;rsquo;s not the &lt;code&gt;-u&lt;/code&gt; we&amp;rsquo;re looking for!&lt;/p&gt;
&lt;p&gt;We can attempt a similar test with &lt;code&gt;git add -p&lt;/code&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% cdtmp
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/var/folders/yr/6sw3yylx6gjcy5jr38d6j6000000gn/T/thiago.perrotta-2026-01-04-l8Co7f
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git init
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Initialized empty Git repository in /private/var/folders/yr/6sw3yylx6gjcy5jr38d6j6000000gn/T/thiago.perrotta-2026-01-04-l8Co7f/.git/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% echo world &amp;gt; hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git status
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## No commits yet on master&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;?? hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git add -p
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;No changes.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;No luck either.&lt;/p&gt;
&lt;p&gt;Not all hope is lost though.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href="https://man.archlinux.org/man/git-add.1#:~:text=ignored%20removed%20files.-,%2DN%2C%20%2D%2Dintent%2Dto%2Dadd,-Record%20only%20the"&gt;&lt;code&gt;git add -N&lt;/code&gt; (&lt;code&gt;--intent-to-add&lt;/code&gt;)&lt;/a&gt;:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; -N, --intent-to-add
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; Record only the fact that the path will be added later. An entry for the
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; path is placed in the index with no content. This is useful for, among other
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; things, showing the unstaged content of such files with git diff and
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; committing them with git commit -a.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;If we do &lt;code&gt;git add -N hello.md&lt;/code&gt;, the following happens:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git add -N hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git --no-pager diff
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git hello.md hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;new file mode &lt;span style="color:#ae81ff"&gt;100644&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 0000000..cc628cc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--- /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+++ hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -0,0 +1 @@
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+world&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Yes! There&amp;rsquo;s our diff. Now &lt;code&gt;git add -p&lt;/code&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git add -N hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git add -p
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git a/hello.md b/hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;new file mode &lt;span style="color:#ae81ff"&gt;100644&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 0000000..cc628cc
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--- /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+++ b/hello.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -0,0 +1 @@
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+world
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;1/1&lt;span style="color:#f92672"&gt;)&lt;/span&gt; Stage addition &lt;span style="color:#f92672"&gt;[&lt;/span&gt;y,n,q,a,d,e,p,P,?&lt;span style="color:#f92672"&gt;]&lt;/span&gt;?&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It works too!&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git reset --hard&lt;/code&gt; picks it up as well.&lt;/p&gt;
&lt;p&gt;In order to make this workflow ergonomic, run &lt;code&gt;git add -AN&lt;/code&gt; (&lt;code&gt;-A&lt;/code&gt; = &lt;code&gt;--all&lt;/code&gt;)
prior to &lt;code&gt;git diff&lt;/code&gt; or &lt;code&gt;git add -p&lt;/code&gt;, so that all new files are accounted for.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://stackoverflow.com/questions/855767/can-i-use-git-diff-on-untracked-files"&gt;See also&lt;/a&gt;, &lt;a href="https://perrotta.dev/2025/11/git-diff-interactively/"&gt;git diff interactively&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git: diff untracked"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>LogSeq: slowness on macOS</title><link>https://perrotta.dev/2026/01/logseq-slowness-on-macos/</link><pubDate>Sat, 03 Jan 2026 23:53:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>macos</category><category>pkm</category><guid>https://perrotta.dev/2026/01/logseq-slowness-on-macos/</guid><description>&lt;p&gt;Last week LogSeq was super slow on my Mac, it was pretty much unusable. I had to
manually kill its process multiple times as it kept freezing.&lt;/p&gt;
&lt;p&gt;Eventually I figured out &lt;a href="https://discuss.logseq.com/t/my-logseq-become-too-slow-recently/31985/4"&gt;the issue&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Then iCloud is the cause for the slowness. This is a known issue and is the
reason why the developers have built Logseq Sync. Other options for syncing
that don&amp;rsquo;t impact performance are Git and SyncThing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I would like to keep using iCloud at this time as it&amp;rsquo;s (i) free and (ii)
convenient to access from iOS.&lt;/p&gt;
&lt;p&gt;The following mitigation seemed to work:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Locate the LogSeq directory in iCloud (&lt;code&gt;~/Library/Mobile Documents/iCloud~com~logseq~logseq/Documents&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Right click the directory in Finder&lt;/li&gt;
&lt;li&gt;Click &lt;a href="https://discussions.apple.com/thread/256113094?sortBy=rank"&gt;&amp;lsquo;Keep Downloaded&amp;rsquo;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Keep Downloaded means the file stays on the device, and even if space is
needed the file will not be removed [&amp;hellip;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LogSeq: slowness on macOS"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/pkm/"&gt;#pkm&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Anything else you may have missed?</title><link>https://perrotta.dev/2026/01/anything-else-you-may-have-missed/</link><pubDate>Sat, 03 Jan 2026 19:30:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/anything-else-you-may-have-missed/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/09/hello/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Whenever the LLM is too confident after performing some work:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &lt;em&gt;Anything else you may have missed?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Repeat a few times in a row.&lt;/p&gt;
&lt;p&gt;It is non-deterministic, it&amp;rsquo;s not idempotent.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Anything else you may have missed?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ Oneshot prompting</title><link>https://perrotta.dev/2026/01/oneshot-prompting/</link><pubDate>Sat, 03 Jan 2026 16:35:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/oneshot-prompting/</guid><description>&lt;p&gt;I just wrote &lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/"&gt;this post&lt;/a&gt; about &lt;code&gt;neovim&lt;/code&gt; and &lt;code&gt;git&lt;/code&gt; hunks.&lt;/p&gt;
&lt;p&gt;In it I mentioned various git repositories, but did not link to them whilst
writing the post. Ah, these lazy engineers.&lt;/p&gt;
&lt;p&gt;Why not ask the LLM to link to them for me, especially because they are popular
projects? Then I had the idea to try to do it without opening an interactive
coding agent as I&amp;rsquo;m used to (think of Claude Code, OpenAI Codex, Amp Code, Open
Code).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% amp -x &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Error: Insufficient credit balance.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% amp --mode free -x &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Error: Execute mode is not permitted with --mode &lt;span style="color:#e6db74"&gt;&amp;#39;free&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Oh. Okay.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/badlogic/pi-mono"&gt;Pi&lt;/a&gt; + Gemini 3 Pro Preview:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% pi -p &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;I have added the requested GitHub repository links &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; the Git TUIs &lt;span style="color:#f92672"&gt;(&lt;/span&gt;gitui, tig, lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt; in the blog post &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Here are the changes made:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;gitui&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; -&amp;gt; &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;gitui&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/extrawurst/gitui&lt;span style="color:#f92672"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;tig&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; -&amp;gt; &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;tig&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jonas/tig&lt;span style="color:#f92672"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;lazygit&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; -&amp;gt; &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;lazygit&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jesseduffield/lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Great job! Let&amp;rsquo;s &lt;code&gt;git stash&lt;/code&gt; it and try again with other agents I use, for the
sake of completeness. I&amp;rsquo;ll use the same prompt.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; + Sonnet 4.5:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude -p &lt;span style="color:#e6db74"&gt;&amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;I need your permission to edit the file &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; to add GitHub repository links to the git TUIs &lt;span style="color:#f92672"&gt;(&lt;/span&gt;gitui, tig, and lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;claude --dangerously-skip-permissions -p &lt;span style="color:#e6db74"&gt;&amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Perfect! I&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;ve added GitHub repository links to all three git TUIs mentioned in the post:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;1. **gitui** ‚Üí https://github.com/extrawurst/gitui
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;2. **tig** ‚Üí https://github.com/jonas/tig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;3. **lazygit** ‚Üí https://github.com/jesseduffield/lazygit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;The links are now properly formatted as Markdown links in the post at &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md:52-54&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://openai.com/codex/"&gt;OpenAI Codex&lt;/a&gt; + GPT 5.1 Codex Max:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% codex exec &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;...lots of output...&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- **gitui**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- tig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- lazygit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- **&lt;span style="color:#f92672"&gt;[&lt;/span&gt;gitui&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/extrawurst/gitui&lt;span style="color:#f92672"&gt;)&lt;/span&gt;**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;tig&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jonas/tig&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;lazygit&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jesseduffield/lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ...or graphically with IDEs with as VSCode.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tokens used
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;7,432
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- Added GitHub repository links &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; gitui, tig, and lazygit in &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; so readers can jump to each TUI.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- No tests run &lt;span style="color:#f92672"&gt;(&lt;/span&gt;doc-only change&lt;span style="color:#f92672"&gt;)&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://opencode.ai/"&gt;Open Code&lt;/a&gt; + GLM 4.7 Free:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% opencode --model opencode/glm-4.7-free run &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Read content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Search Web search: tig git tui github repository
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Search Web search: gitui github repository
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Search Web search: lazygit github repository
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Edit content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Done. Added GitHub links &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; gitui, tig, and lazygit to the post.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git --no-pager diff
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git content/posts/2026-01-03-neovim--inline-git-hunk-control.md content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 1a6465f3b..3324a71c7 &lt;span style="color:#ae81ff"&gt;100644&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--- content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+++ content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -49,9 +49,9 @@ What now&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; It&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;s also possible to manage hunks via git TUIs &lt;span style="color:#f92672"&gt;(=&lt;/span&gt;from the terminal&lt;span style="color:#f92672"&gt;)&lt;/span&gt; such as:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- **gitui**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- tig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- lazygit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- **&lt;span style="color:#f92672"&gt;[&lt;/span&gt;gitui&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/gitui-org/gitui&lt;span style="color:#f92672"&gt;)&lt;/span&gt;**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;tig&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jonas/tig&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;lazygit&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jesseduffield/lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ...or graphically with IDEs with as VSCode.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Guess which one is my favorite for simple tasks?&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Oneshot prompting"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ neovim: inline git hunk control</title><link>https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/</link><pubDate>Sat, 03 Jan 2026 15:41:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>git</category><category>vim</category><guid>https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/</guid><description>&lt;p&gt;What is a
&lt;a href="https://stackoverflow.com/questions/37620729/in-the-context-of-git-and-diff-what-is-a-hunk"&gt;hunk&lt;/a&gt;?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When comparing two files, diff finds sequences of lines common to both files,
interspersed with groups of differing lines called hunks&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are various ways to treat git hunks as first-class citizens, manipulating
them one at a time ‚Äì staging, unstaging, or reverting them.&lt;/p&gt;
&lt;p&gt;The classic one is &lt;a href="https://millerb.co.uk/2021/11/16/git-add-patch.html"&gt;&lt;code&gt;git add [-p | --patch]&lt;/code&gt;&lt;/a&gt;. Hit yes or no
for each hunk, one by one:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git add -p
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git a/Justfile b/Justfile
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index bbb3779a9..70840a008 &lt;span style="color:#ae81ff"&gt;100755&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--- a/Justfile
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+++ b/Justfile
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -175,3 +175,6 @@ update-pre-commit:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# Update JSON schemas&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; update-json-schemas:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; pre-commit run -a update-json-schemas --hook-stage manual
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+hello:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+ echo world
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;(&lt;/span&gt;1/1&lt;span style="color:#f92672"&gt;)&lt;/span&gt; Stage this hunk &lt;span style="color:#f92672"&gt;[&lt;/span&gt;y,n,q,a,d,e,p,P,?&lt;span style="color:#f92672"&gt;]&lt;/span&gt;?&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;There&amp;rsquo;s also &lt;a href="https://nuclearsquid.com/writings/git-add/"&gt;&lt;code&gt;git add [-i | --interactive]&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git add -i
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;*** Commands ***
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 1: status 2: update 3: revert 4: add untracked
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 5: patch 6: diff 7: quit 8: help
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;What now&amp;gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It&amp;rsquo;s also possible to manage hunks via git TUIs (=from the terminal) such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://github.com/gitui-org/gitui"&gt;gitui&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jonas/tig"&gt;tig&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jesseduffield/lazygit"&gt;lazygit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip;or graphically with IDEs with as VSCode.&lt;/p&gt;
&lt;p&gt;An honorable mention also goes to
&lt;a href="https://github.com/andrewshadura/git-crecord"&gt;&lt;code&gt;git-crecord&lt;/code&gt;&lt;/a&gt;, which I
originally discovered by looking for an open source alternative to Google&amp;rsquo;s
Fig&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; interactive commit and split commands.&lt;/p&gt;
&lt;p&gt;Now that you see how my mind is overloaded with many possibilities to manipulate
git hunks, the natural follow-up question is: how to do so right from within our
favorite text editor (&lt;code&gt;vim&lt;/code&gt;)?&lt;/p&gt;
&lt;p&gt;With classic &lt;code&gt;vim&lt;/code&gt;, Tim Pope&amp;rsquo;s
&lt;a href="https://github.com/tpope/vim-fugitive"&gt;&lt;code&gt;vim-fugitive&lt;/code&gt;&lt;/a&gt; is often touted as
best-in-class (paired with
&lt;a href="https://github.com/airblade/vim-gitgutter"&gt;&lt;code&gt;vim-gitgutter&lt;/code&gt;&lt;/a&gt;). I use it
occasionally. The workflow is as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;From an open file with modifications, run &lt;code&gt;:GDiff&lt;/code&gt; (&lt;code&gt;:GDiffsplit&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Proceed as you normally would in &lt;code&gt;vimdiff&lt;/code&gt;. Use &lt;code&gt;:diffget&lt;/code&gt; (&lt;code&gt;do&lt;/code&gt;) and
&lt;code&gt;:diffput&lt;/code&gt; (&lt;code&gt;dp&lt;/code&gt;) for each hunk. Use &lt;code&gt;[c&lt;/code&gt; and &lt;code&gt;]c&lt;/code&gt; to navigate to the previous
/ next hunk.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finally, we get to the meat of the post. Is there any workflow
improvement in &lt;code&gt;neovim&lt;/code&gt;, which I have recently &lt;a href="https://perrotta.dev/2025/12/vim-nvim/"&gt;switched to&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;First of all, the familiar vim-fugitive workflow still works there.&lt;/p&gt;
&lt;p&gt;Its evolution is &lt;a href="https://github.com/lewis6991/gitsigns.nvim"&gt;gitsigns.nvim&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Git integration for buffers&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Given the config below, the following becomes possible:&lt;/p&gt;

&lt;div class="codeblock" data-lang="lua"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;lua&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Git integration&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;lewis6991/gitsigns.nvim&amp;#39;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;config &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; require(&lt;span style="color:#e6db74"&gt;&amp;#39;gitsigns&amp;#39;&lt;/span&gt;).setup({
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; on_attach &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;(bufnr)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;local&lt;/span&gt; gs &lt;span style="color:#f92672"&gt;=&lt;/span&gt; require(&lt;span style="color:#e6db74"&gt;&amp;#39;gitsigns&amp;#39;&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- ]c / [c: next/prev hunk (falls back to default in diff mode)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;-- like git-gutter in vim&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#39;n&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;]c&amp;#39;&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; vim.wo.diff &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;]c&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.schedule(&lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;() gs.nav_hunk(&lt;span style="color:#e6db74"&gt;&amp;#39;next&amp;#39;&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;&amp;lt;Ignore&amp;gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;, { expr &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;, buffer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; bufnr, desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Next hunk&amp;#39;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#39;n&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;[c&amp;#39;&lt;/span&gt;, &lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; vim.wo.diff &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;[c&amp;#39;&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.schedule(&lt;span style="color:#66d9ef"&gt;function&lt;/span&gt;() gs.nav_hunk(&lt;span style="color:#e6db74"&gt;&amp;#39;prev&amp;#39;&lt;/span&gt;) &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;return&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;&amp;lt;Ignore&amp;gt;&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;, { expr &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;, buffer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; bufnr, desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Prev hunk&amp;#39;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#39;n&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;&amp;lt;leader&amp;gt;s&amp;#39;&lt;/span&gt;, gs.stage_hunk, { buffer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; bufnr, desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Stage hunk&amp;#39;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#39;n&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;&amp;lt;leader&amp;gt;u&amp;#39;&lt;/span&gt;, gs.reset_hunk, { buffer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; bufnr, desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Reset hunk&amp;#39;&lt;/span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; })
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;end&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;},
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#39;tpope/vim-fugitive&amp;#39;&lt;/span&gt;,&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Use &lt;code&gt;]c&lt;/code&gt; and &lt;code&gt;[c&lt;/code&gt; to navigate hunks (compatible with vim-gitgutter)&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;&amp;lt;leader&amp;gt;s&lt;/code&gt; (comma + s in my setup) to toggle staging/unstaging hunks.&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;&amp;lt;leader&amp;gt;u&lt;/code&gt; to do the equivalent of &lt;code&gt;git checkout -- file&lt;/code&gt; for a single
hunk.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The last two shortcuts are wherein the magic lives.&lt;/p&gt;
&lt;p&gt;It is VERY convenient to choose what to stage/unstage/revert right from the
&lt;code&gt;nvim&lt;/code&gt; buffer I am currently editing. For fine-grained control, I can always use
&lt;code&gt;:Gdiff&lt;/code&gt; to perform hunk microsurgery.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Not to confound with &lt;em&gt;hook&lt;/em&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Internal mercurial VCS porcelain on top of Piper / google3.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: neovim: inline git hunk control"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/vim/"&gt;#vim&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Amp Code: queue/unqueue messages</title><link>https://perrotta.dev/2026/01/amp-code-queue/unqueue-messages/</link><pubDate>Thu, 01 Jan 2026 17:03:12 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/2026/01/amp-code-queue/unqueue-messages/</guid><description>&lt;p&gt;When using &lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt; (a CLI coding agent), sending two
messages in a row results in the second message interrupting the first.&lt;/p&gt;
&lt;p&gt;Most other agents (e.g. Claude Code, OpenAI Codex, Google Gemini) support
message queueing by default, wherein the second message &amp;ldquo;waits&amp;rdquo; until the first
prompt is complete.&lt;/p&gt;
&lt;p&gt;To achieve the same behavior in &lt;code&gt;amp&lt;/code&gt;, use &lt;code&gt;/queue&lt;/code&gt;. There&amp;rsquo;s also &lt;code&gt;/dequeue&lt;/code&gt; to
undo it.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Amp Code: queue/unqueue messages"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>.txt posts</title><link>https://perrotta.dev/2026/01/.txt-posts/</link><pubDate>Thu, 01 Jan 2026 01:23:50 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>meta</category><guid>https://perrotta.dev/2026/01/.txt-posts/</guid><description>&lt;p&gt;&lt;a href="https://shkspr.mobi/blog/2025/12/a-small-collection-of-text-only-websites/"&gt;Terence Eden&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A couple of years ago, I started serving my blog posts as plain text. Add .txt
to the end of any URl and get a deliciously lo-fi, UTF-8, mono[chrome|space]
alternative.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I like the idea! Using &lt;a href="https://gohugo.io/"&gt;Hugo&lt;/a&gt; it&amp;rsquo;s quite
straightforward to do so&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/.txt-posts/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-diff" data-lang="diff"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git --no-pager show 590bb2751
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[...]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git config/_default/config.yml config/_default/config.yml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index c0ab59364..9b9e61d0e 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;--- config/_default/config.yml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+++ config/_default/config.yml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;@@ -65,15 +65,19 @@ disableKinds:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; # llms.txt BEGIN
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; # layouts/_default/home.llms.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; mediaTypes:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; application/opml:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; suffixes:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - opml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ text/plain:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ suffixes:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ - txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt; outputFormats:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ PlainText:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ mediaType: text/plain
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ baseName: index
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ isPlainText: true
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt; OPML:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;@@ -92,4 +96,5 @@ outputs:
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; - OPML
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; page:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - HTML
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ - PlainText
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt; # llms.txt END
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git layouts/_default/baseof.html layouts/_default/baseof.html
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index b164a9921..e806f53fa 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;--- layouts/_default/baseof.html
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+++ layouts/_default/baseof.html
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;@@ -20,6 +20,10 @@
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;lt;link rel=&amp;#34;canonical&amp;#34; href=&amp;#34;{{ .Permalink }}&amp;#34; /&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ {{- with .OutputFormats.Get &amp;#34;PlainText&amp;#34; -}}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ &amp;lt;link rel=&amp;#34;alternate&amp;#34; type=&amp;#34;text/plain&amp;#34; href=&amp;#34;{{ .Permalink }}&amp;#34; title=&amp;#34;{{ $.Title }}&amp;#34;&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ {{- end -}}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt; {{- partial &amp;#34;style.html&amp;#34; . -}}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {{- with .Site.Params.appleTouchIcon }}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git layouts/_default/single.plaintext.txt layouts/_default/single.plaintext.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;new file mode 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 000000000..3b2f6453c
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;--- /dev/null
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+++ layouts/_default/single.plaintext.txt
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;@@ -0,0 +1 @@
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+{{ .RawContent }}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://perrotta.dev/2024/12/sourcegraph/index.txt"&gt;Example post&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Append &lt;code&gt;/index.txt&lt;/code&gt; to any existing post to fetch its plain-text version.&lt;/p&gt;
&lt;p&gt;While we&amp;rsquo;re here, &lt;a href="https://perrotta.dev/2024/12/sourcegraph/index.md"&gt;&lt;code&gt;/index.md&lt;/code&gt;&lt;/a&gt; also works.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;strong&gt;Update(2026-01-03)&lt;/strong&gt;: I removed .txt support. Only .md is left. Which is the
most logical course of action, if you think about it. The Markdown format is
more useful since it preserves the post structure.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;The original diff was slightly tweaked for readability.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/.txt-posts/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: .txt posts"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ Blog discovery</title><link>https://perrotta.dev/2025/12/blog-discovery/</link><pubDate>Wed, 31 Dec 2025 17:27:05 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>serenity</category><guid>https://perrotta.dev/2025/12/blog-discovery/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/05/blog-directories/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: I ran out of blog posts to read! Now what?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Option #1&lt;/strong&gt;: Take a deep breath, leave the computer, put your phone away.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;re not here for that though, are you?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Option #2&lt;/strong&gt;: &lt;a href="https://en.wikipedia.org/wiki/StumbleUpon"&gt;Stumble upon&lt;/a&gt;‚Ñ¢
delightful blog networks. I like:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://bearblog.dev/discover/"&gt;Bear Blog Discover&lt;/a&gt; (see also: &lt;a href="https://bearblog.dev/discover/?newest=true"&gt;most recent&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://powrss.com/"&gt;PowRSS&lt;/a&gt; (see also: &lt;a href="https://powrss.com/shuffle"&gt;shuffle&lt;/a&gt;, &lt;a href="https://powrss.com/random"&gt;random&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kagi.com/smallweb"&gt;Kagi Small Web&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://diff.blog/"&gt;Diff Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It&amp;rsquo;s better than social media and short videos, I think.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Blog discovery"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ Who watches the watchmen?</title><link>https://perrotta.dev/2025/12/who-watches-the-watchmen/</link><pubDate>Tue, 30 Dec 2025 11:02:51 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/who-watches-the-watchmen/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2022/01/watch-files-and-react-to-changes-during-development/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been in love with &lt;a href="https://github.com/watchexec/watchexec"&gt;&lt;code&gt;watchexec&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Recursively monitors the current directory for changes, executing the command
when a filesystem change is detected (among other event sources). By default,
watchexec uses efficient kernel-level mechanisms to watch for changes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s a modern version of &lt;a href="https://jvns.ca/blog/2020/06/28/entr/"&gt;&lt;code&gt;entr&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Its usage is very simple and easy to remember:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watchexec &lt;span style="color:#f92672"&gt;[&lt;/span&gt;--clear&lt;span style="color:#f92672"&gt;]&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt;--&lt;span style="color:#f92672"&gt;]&lt;/span&gt; python main.py&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;will re-run &lt;code&gt;python main.py&lt;/code&gt; whenever it changes on disk.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--clear&lt;/code&gt; will &lt;code&gt;clear&lt;/code&gt; the screen between successive runs.&lt;/p&gt;
&lt;p&gt;Other useful invocations:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watchexec make
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watchexec just
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watchexec -e html,css,js make &lt;span style="color:#75715e"&gt;# watch the given extensions for changes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;watchexec -w src make &lt;span style="color:#75715e"&gt;# watch the given directory&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;There are various other useful command-line switches, its &lt;a href="https://man.archlinux.org/man/watchexec.1"&gt;man
page&lt;/a&gt; is very descriptive.&lt;/p&gt;
&lt;p&gt;Here is a practical example when iterating on &lt;a href="https://perrotta.dev/2025/12/stack/"&gt;&lt;code&gt;stack.py&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% watchexec --clear -- python stack.py
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;Running: python stack.py&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;Command was successful&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% watchexec --clear -- ty check
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;Running: ty check&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;Command was successful&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Alternative: &lt;a href="https://github.com/emcrisostomo/fswatch"&gt;fswatch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Who watches the watchmen?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Kagi: Add LeetCode !bang</title><link>https://perrotta.dev/2025/12/kagi-add-leetcode-bang/</link><pubDate>Tue, 30 Dec 2025 10:56:00 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2025/12/kagi-add-leetcode-bang/</guid><description>&lt;p&gt;&lt;a href="https://kagi.com/"&gt;Kagi&lt;/a&gt;, a paid search engine, allows adding &lt;a href="https://duckduckgo.com/bangs"&gt;custom&lt;/a&gt; &lt;a href="https://help.kagi.com/kagi/features/bangs.html"&gt;bangs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Today we&amp;rsquo;ll add a custom bang for &lt;a href="https://leetcode.com/"&gt;LeetCode&lt;/a&gt;.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Navigate to &lt;a href="https://kagi.com/settings/custom_bangs"&gt;https://kagi.com/settings/custom_bangs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Click &amp;lsquo;Add Bang&amp;rsquo;&lt;/li&gt;
&lt;li&gt;Input:
&lt;ul&gt;
&lt;li&gt;Bang name: LeetCode&lt;/li&gt;
&lt;li&gt;Bang shortcut: leetcode&lt;/li&gt;
&lt;li&gt;URL template: &lt;a href="https://leetcode.com/search/?q=%25s"&gt;https://leetcode.com/search/?q=%s&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; Shortcut Menu (&amp;ldquo;Show this custom bang in the More search menu&amp;rdquo;)&lt;/li&gt;
&lt;li&gt;&lt;input checked="" disabled="" type="checkbox"&gt; Open Base Path (&amp;ldquo;When using this bang without a query, navigate to the
base path of the URL instead&amp;rdquo;)&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Save&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;To trigger the bang, search for e.g. &lt;code&gt;!leetcode Remove Duplicates from Sorted Array&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;You could also add this URL to your &lt;a href="https://support.google.com/chrome/answer/95426?hl=en&amp;amp;co=GENIE.Platform%3DDesktop"&gt;browser search engine
settings&lt;/a&gt;, just set the shortcut starting with an exclamation mark / bang (&lt;code&gt;!&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;When to choose which?
Kagi settings will work seamlessly on mobile.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Kagi: Add LeetCode !bang"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Finicky</title><link>https://perrotta.dev/2025/12/finicky/</link><pubDate>Sun, 28 Dec 2025 02:14:14 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>macos</category><guid>https://perrotta.dev/2025/12/finicky/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: I have one web browser for work, and another web browser
for personal use. These are two distinct web browsers, not two distinct profiles
in the same browser. Route work-related links to the work web browser, and
vice-versa. This is on macOS.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/johnste/finicky"&gt;Finicky&lt;/a&gt; addresses it very well:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A macOS app for customizing which browser to start&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is an app. Install it via homebrew: &lt;code&gt;brew install finicky&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Create a config file (&lt;code&gt;~/.config/finicky/finicky.js&lt;/code&gt;) for it:&lt;/p&gt;

&lt;div class="codeblock" data-lang="js"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;js&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-js" data-lang="js"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;// Finicky configuration
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;// https://github.com/johnste/finicky
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;module&lt;/span&gt;.&lt;span style="color:#a6e22e"&gt;exports&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#a6e22e"&gt;defaultBrowser&lt;/span&gt;&lt;span style="color:#f92672"&gt;:&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Brave Browser&amp;#34;&lt;/span&gt;, &lt;span style="color:#75715e"&gt;// pick your poison
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;handlers&lt;/span&gt;&lt;span style="color:#f92672"&gt;:&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;// Open Azure, GitHub, Atlassian and company-related domains in Chrome
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; &lt;span style="color:#a6e22e"&gt;match&lt;/span&gt;&lt;span style="color:#f92672"&gt;:&lt;/span&gt; [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;*.atlassian.net/*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;*.{company_intranet}/*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;*.{company}.com/*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;*{company}*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;github.com/{company_org}*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;portal.azure.com/*&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#a6e22e"&gt;browser&lt;/span&gt;&lt;span style="color:#f92672"&gt;:&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Google Chrome&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ],
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;};&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now make Finicky your default system browser.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s it. Now links will open be properly routed, automagically, upon clicking.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Finicky"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Flameshot</title><link>https://perrotta.dev/2025/12/flameshot/</link><pubDate>Sat, 27 Dec 2025 17:42:44 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>macos</category><guid>https://perrotta.dev/2025/12/flameshot/</guid><description>&lt;p&gt;Install Flameshot.app on macOS:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;brew install flameshot
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sudo xattr -rd com.apple.quarantine /Applications/flameshot.app
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;open -a Flameshot&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;xattr&lt;/code&gt; is &lt;a href="https://github.com/flameshot-org/flameshot/issues/3572"&gt;necessary&lt;/a&gt; or else:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;flameshot&amp;rdquo; cannot be opened because the developer cannot be verified&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Flameshot"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ Starship</title><link>https://perrotta.dev/2025/12/starship/</link><pubDate>Sat, 27 Dec 2025 02:34:32 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/starship/</guid><description>&lt;p&gt;After years using the default prompt from
&lt;a href="https://grml.org/zsh/"&gt;&lt;code&gt;grml-zsh-config&lt;/code&gt;&lt;/a&gt; (with minor modifications), I adopted
&lt;a href="https://starship.rs/"&gt;starship&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The minimal, blazing-fast, and infinitely customizable prompt for any shell!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/starship/.config/starship.toml"&gt;&lt;code&gt;~/.config/starship.toml&lt;/code&gt;&lt;/a&gt; is meant to resemble the zsh prompt I&amp;rsquo;ve been using,
with minor tweaks and improvements:&lt;/p&gt;

&lt;div class="codeblock" data-lang="toml"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;toml&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-toml" data-lang="toml"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Minimal starship config matching grml prompt&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status$line_break$character&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;right_format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;$cmd_duration$jobs&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;add_newline&lt;/span&gt; = &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;status&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;disabled&lt;/span&gt; = &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[$status ]($style)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;style&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;bold red&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;username&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;show_always&lt;/span&gt; = &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[$user](bold green)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;hostname&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;ssh_only&lt;/span&gt; = &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;trim_at&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;@$hostname&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;directory&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;truncation_length&lt;/span&gt; = &lt;span style="color:#ae81ff"&gt;40&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;truncate_to_repo&lt;/span&gt; = &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34; [$path](bold) &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;git_branch&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;symbol&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[$symbol$branch]() &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;git_state&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;|[$state]()&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;git_status&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red) &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;cmd_duration&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;min_time&lt;/span&gt; = &lt;span style="color:#ae81ff"&gt;2000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[$duration](yellow) &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;jobs&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[$number](cyan) &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;sudo&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;disabled&lt;/span&gt; = &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;format&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[üîì](red) &amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[&lt;span style="color:#a6e22e"&gt;character&lt;/span&gt;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;success_symbol&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[‚ùØ](green)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;error_symbol&lt;/span&gt; = &lt;span style="color:#e6db74"&gt;&amp;#34;[‚ùØ](red)&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;My prompt:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;thiago.perrotta .dotfiles master
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Details you cannot easily tell from above:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;display the exit code if it is non-zero, and make the ‚ùØ symbol red&lt;/li&gt;
&lt;li&gt;omit the hostname when not in SSH (no need to see &lt;code&gt;thiagoperrotta-MacBook-Pro&lt;/code&gt; all the time)&lt;/li&gt;
&lt;li&gt;display the command duration when a command took too long (&amp;gt;2s) to complete
(right side)&lt;/li&gt;
&lt;li&gt;display the number of background jobs if any (right side)&lt;/li&gt;
&lt;li&gt;display a couple of git markers (e.g. pending pull, pending push, pending changes)&lt;/li&gt;
&lt;li&gt;display an icon when &lt;code&gt;sudo&lt;/code&gt; / &lt;code&gt;doas&lt;/code&gt; is cached&lt;/li&gt;
&lt;li&gt;separate prompts with a blank line (breathe!)&lt;/li&gt;
&lt;li&gt;colors!&lt;/li&gt;
&lt;li&gt;truncate the full directory path when inside a VCS repo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My &lt;code&gt;.zshrc&lt;/code&gt; looks like this:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Use starship prompt if available, otherwise customize grml prompt.&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; command -v starship &amp;amp;&amp;gt; /dev/null; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; prompt off
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; eval &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;starship init zsh&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;else&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# Customize grml prompt: two lines, user in bold green&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; zstyle &lt;span style="color:#e6db74"&gt;&amp;#39;:prompt:grml:left:items:user&amp;#39;&lt;/span&gt; pre &lt;span style="color:#e6db74"&gt;&amp;#39;%B%F{green}&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; zstyle &lt;span style="color:#e6db74"&gt;&amp;#39;:prompt:grml:left:setup&amp;#39;&lt;/span&gt; items rc change-root user at host path vcs newline percent
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;gracefully degrade when &lt;code&gt;starship&lt;/code&gt; is not installed, using my original
grml-derived zsh prompt.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Side effect&lt;/strong&gt;: now &lt;code&gt;bash&lt;/code&gt; has a similar prompt to &lt;code&gt;zsh&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Starship"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>‚òÖ UptimeKuma</title><link>https://perrotta.dev/2025/12/uptimekuma/</link><pubDate>Sat, 27 Dec 2025 01:53:05 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>meta</category><guid>https://perrotta.dev/2025/12/uptimekuma/</guid><description>&lt;p&gt;This site is now monitored via self-hosted &lt;a href="https://uptime.perrotta.dev/status/serendipity"&gt;uptime infrastructure&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;How did I do it?&lt;/p&gt;
&lt;p&gt;Software: &lt;a href="https://github.com/louislam/uptime-kuma"&gt;UptimeKuma&lt;/a&gt;. Open-source,
self-hosted, simple &amp;amp; easy, has a docker image for deployment, sensible
defaults, lots of customization possibilities. Modern, solid, well-maintained,
popular (80k+ stars on GitHub). A no-brainer choice, really.&lt;/p&gt;
&lt;p&gt;I deployed it via Docker on Alpine Linux.&lt;/p&gt;
&lt;p&gt;Install docker and docker-compose:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% doas apk add docker docker-compose&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Update the docker storage driver from the &lt;code&gt;overlay2&lt;/code&gt; default as it was failing
for some reason:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% doasedit /etc/docker/daemon.json
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;	 &lt;span style="color:#e6db74"&gt;&amp;#34;storage-driver&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;vfs&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Start docker, now and on startup:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% doas service docker start
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% doas rc-update add docker&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;equivalently to &lt;code&gt;systemctl enable --now docker&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Create a &lt;code&gt;docker-compose.yml&lt;/code&gt; file for the service:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% cat docker/docker-compose.yml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;services:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; uptime-kuma:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; image: louislam/uptime-kuma:latest
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; container_name: uptime-kuma
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; restart: unless-stopped
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ports:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - &lt;span style="color:#e6db74"&gt;&amp;#34;127.0.0.1:3001:3001&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; volumes:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - /opt/uptime-kuma:/app/data&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;ensure to bind it to localhost only (&lt;code&gt;127.0.0.1&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Start it:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% docker-compose up -d&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;-d&lt;/code&gt; to start it in the background.&lt;/p&gt;
&lt;p&gt;From here we access the service and configure it (out of scope of this post):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;create an admin user, set a secure password&lt;/li&gt;
&lt;li&gt;enable 2FA (TOTP)&lt;/li&gt;
&lt;li&gt;add the first monitor (&lt;code&gt;https://perrotta.dev&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To access the service securely for the first time, there are various
possibilities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;expose it under a reverse proxy with HTTP basic auth&lt;/li&gt;
&lt;li&gt;employ a VPN (e.g. Tailscale, Wireguard)&lt;/li&gt;
&lt;li&gt;use SSH port forwarding from your VPS to your laptop&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip;just &lt;em&gt;do not&lt;/em&gt; expose the service to &lt;code&gt;0.0.0.0&lt;/code&gt; without credentials.&lt;/p&gt;
&lt;p&gt;Next, expose the service via a user-friendly URL, with the creation of a DNS
record. As you can see, I chose uptime.perrotta.dev.&lt;/p&gt;
&lt;p&gt;Configure your reverse proxy (&lt;a href="https://perrotta.dev/2025/12/nginx-caddy/"&gt;Caddy&lt;/a&gt; in
this case):&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;uptime.perrotta.dev {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;	log {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;		output file /var/log/caddy/uptime.log
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;	reverse_proxy * {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;		to 127.0.0.1:3001
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;		header_up Host {host}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;	}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then:&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% doas service caddy reload&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And now sit back and enjoy free uptime monitoring!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: UptimeKuma"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>ctop</title><link>https://perrotta.dev/2025/12/ctop/</link><pubDate>Fri, 26 Dec 2025 18:08:52 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/2025/12/ctop/</guid><description>&lt;p&gt;Too many tops:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;top&lt;/code&gt;: vanilla, classic&lt;/li&gt;
&lt;li&gt;&lt;code&gt;htop&lt;/code&gt;: alternative&lt;/li&gt;
&lt;li&gt;&lt;code&gt;btop&lt;/code&gt;: modern&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now I found out: &lt;a href="https://github.com/bcicen/ctop"&gt;&lt;code&gt;ctop&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Top-like interface for container metrics&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip;it&amp;rsquo;s &lt;code&gt;top&lt;/code&gt; for (Docker) containers!&lt;/p&gt;
&lt;p&gt;&lt;img src="https://github.com/bcicen/ctop/raw/master/_docs/img/grid.gif" alt="ctop demo"&gt;&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ctop"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>Openring</title><link>https://perrotta.dev/2025/12/openring/</link><pubDate>Fri, 26 Dec 2025 00:00:00 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2025/12/openring/</guid><description>&lt;p&gt;I just added &lt;a href="https://git.sr.ht/~sircmpwn/openring"&gt;Openring&lt;/a&gt; to my
&lt;a href="https://perrotta.dev/blogroll/"&gt;blogroll&lt;/a&gt; page:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is a tool for generating a webring from RSS feeds, so you can link to
other blogs you like on your own blog. It&amp;rsquo;s designed to be fairly simple and
integrate with any static site generator. [&amp;hellip;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Granted, this is a static website.&lt;/p&gt;
&lt;p&gt;As such, &lt;code&gt;openring&lt;/code&gt; displays 3 random recent articles from blogs in my blogroll
each time the site is deployed.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Openring"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item><item><title>ranger ‚Üí lf</title><link>https://perrotta.dev/2025/12/ranger-lf/</link><pubDate>Thu, 25 Dec 2025 15:37:03 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/2025/12/ranger-lf/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: replace &lt;code&gt;ranger&lt;/code&gt; with &lt;code&gt;lf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/ranger/ranger"&gt;Ranger&lt;/a&gt; config (&lt;code&gt;~/.config/ranger/rc.conf&lt;/code&gt;):&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# List all keybindings: &amp;#39;? k&amp;#39;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# Generate config: &amp;#39;ranger --copy-config=rc&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# Delete selection / files.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;alias remove delete
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# Draw borders around columns? (separators, outline, both, or none)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set draw_borders separators
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# Show hidden files. Shortcut: &amp;#39;zh&amp;#39;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set show_hidden true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;# Edit file: Set &amp;#39;e&amp;#39; in addition to &amp;#39;E&amp;#39;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;map e edit_file&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://github.com/gokcehan/lf"&gt;Lf&lt;/a&gt; config (&lt;code&gt;~/.config/lf/lfrc&lt;/code&gt;):&lt;/p&gt;

&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# lf configuration&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# See `lf -doc` for documentation&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Delete selection / files&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;cmd remove delete
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Show hidden files by default&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set hidden true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Edit file: &amp;#39;e&amp;#39; (mapped out-of-the-box)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Toggle hidden files: &amp;#39;zh&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Their feature sets are very similar.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lf&lt;/code&gt; is a single binary written in go. &lt;code&gt;ranger&lt;/code&gt; is written in Python.&lt;/p&gt;
&lt;p&gt;The motivation to do this, other than performance, was quite silly:&lt;/p&gt;

&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% doas ranger
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ranger version: ranger 1.9.4
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Python version: 3.12.12 (main, Oct 11 2025, 01:16:26) [GCC 15.2.0]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Locale: C.UTF-8
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Traceback (most recent call last):
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/site-packages/ranger/core/main.py&amp;#34;, line 171, in main
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; fm.initialize()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/site-packages/ranger/core/fm.py&amp;#34;, line 132, in initialize
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self.ui.initialize()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/site-packages/ranger/gui/ui.py&amp;#34;, line 127, in initialize
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self.handle_multiplexer()
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/site-packages/ranger/gui/ui.py&amp;#34;, line 503, in handle_multiplexer
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self._screen_title = check_output(
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ^^^^^^^^^^^^^
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/site-packages/ranger/ext/spawn.py&amp;#34;, line 35, in check_output
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; process = Popen(popenargs, stderr=fd_devnull, **kwargs)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/subprocess.py&amp;#34;, line 1026, in __init__
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; self._execute_child(args, executable, preexec_fn, close_fds,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; File &amp;#34;/usr/lib/python3.12/subprocess.py&amp;#34;, line 1955, in _execute_child
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; raise child_exception_type(errno_num, err_msg, err_filename)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;FileNotFoundError: [Errno 2] No such file or directory: &amp;#39;screen&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ranger crashed. Please report this traceback at:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;https://github.com/ranger/ranger/issues&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;&lt;code&gt;ranger&lt;/code&gt; crashes on my Alpine Linux VPS when running as root because
&lt;code&gt;screen&lt;/code&gt; is not installed there. This is with the stock config. It&amp;rsquo;s not a
great experience.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;lf&lt;/code&gt; does not crash.&lt;/p&gt;
&lt;p&gt;Installing &lt;code&gt;screen&lt;/code&gt; addresses the error above but it is the wrong remedy.&lt;/p&gt;
&lt;p&gt;I could update the &lt;code&gt;ranger&lt;/code&gt; config for the root user but that is beside the
point. I do not want to customize the root user because I&amp;rsquo;m not supposed to
use the root user routinely in the first place.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ranger ‚Üí lf"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;</description></item></channel></rss>
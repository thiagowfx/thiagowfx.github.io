<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev/rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ai on ¬¨ just serendipity üçÄ</title><link>https://perrotta.dev/</link><description>Recent content in Ai on ¬¨ just serendipity üçÄ</description><generator>Hugo</generator><language>en</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>¬© 2021 - 2026 Thiago Perrotta ¬∑
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) ¬∑
a fork of [hugo  ï‚Ä¢·¥•‚Ä¢ î bear](https://github.com/janraasch/hugo-bearblog/)</copyright><lastBuildDate>Sat, 07 Feb 2026 12:43:18 +0100</lastBuildDate><atom:link href="https://perrotta.dev/tags/ai/index.xml" rel="self" type="application/rss+xml"/><item><title>‚òÖ Open Source security in spite of AI</title><link>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</link><pubDate>Sat, 07 Feb 2026 11:12:24 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>posse</category><category>security</category><category>serenity</category><guid>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</guid><description>&lt;p&gt;&lt;a href="https://daniel.haxx.se/blog/2026/02/03/open-source-security-in-spite-of-ai/"&gt;Open Source security in spite of
AI&lt;/a&gt;
by &lt;a href="https://daniel.haxx.se/blog/"&gt;Daniel Stenberg&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; (of &lt;em&gt;curl&lt;/em&gt; fame):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The title of my ending keynote at FOSDEM February 1, 2026.&lt;/p&gt;
&lt;p&gt;As the last talk of the conference, at 17:00 on the Sunday lots of people had
already left, and presumably a lot of the remaining people were quite tired
and ready to call it a day.&lt;/p&gt;
&lt;p&gt;Still, the 1500 seats in Janson got occupied and there was even a group of
more people outside wanting to get in that had to be refused entry.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They say: &lt;a href="https://en.wiktionary.org/wiki/never_meet_your_heroes"&gt;&amp;ldquo;never meet your
heroes&amp;rdquo;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is unwise to seek personal acquaintance with people whom one has regarded
with high esteem, as they often fail to fulfill one&amp;rsquo;s expectations, resulting
in disappointment&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I had the opportunity to meet Daniel in person and I&amp;rsquo;m glad to state that I am
not disappointed.&lt;/p&gt;
&lt;p&gt;I was the volunteer who held the Q&amp;amp;A at the end for his talk, and that was a
pleasure.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/open-source-security-in-spite-of-ai-daniel-stenberg.webp" alt="Open Source security in spite of AI - Daniel Stenberg"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=6wYSwZ20NJU"&gt;Recording&lt;/a&gt;.
&lt;a href="https://daniel.haxx.se/media/FOSDEM%202026%20OSS%20security%20in%20spite%20of%20AI.pdf"&gt;Slides&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Open Source security in spite of AI"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>macOS: enable dictation</title><link>https://perrotta.dev/2026/02/macos-enable-dictation/</link><pubDate>Fri, 06 Feb 2026 15:57:18 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>macos</category><guid>https://perrotta.dev/2026/02/macos-enable-dictation/</guid><description>&lt;p&gt;&lt;a href="https://support.apple.com/guide/mac-help/use-dictation-mh40584/mac"&gt;Dictate messages and documents on Mac&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With Dictation, you can speak to enter text anywhere you can type it.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Turn Dictation on or off&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;On your Mac, choose Apple menu &amp;gt; System Settings, then click Keyboard in the
sidebar. (You may need to scroll down.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is possible to set it to the microphone key (F5 key in Macbooks) or to a
double-press of the Globe (Fn) key.&lt;/p&gt;
&lt;p&gt;This is a good starting point to try out dictating prompts to LLMs.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: macOS: enable dictation"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;</description></item><item><title>GitHub: disable coding agent</title><link>https://perrotta.dev/2026/01/github-disable-coding-agent/</link><pubDate>Wed, 28 Jan 2026 15:15:14 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/github-disable-coding-agent/</guid><description>&lt;p&gt;If you don&amp;rsquo;t like the new &amp;ldquo;Agents&amp;rdquo; tab in GitHub (repo view), you can disable
it here: &lt;a href="https://github.com/settings/copilot/coding_agent"&gt;https://github.com/settings/copilot/coding_agent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Set it to &amp;ldquo;No repositories&amp;rdquo;.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;If you don&amp;rsquo;t like the Copilot chat featires in GitHub, you can disable them
here: &lt;a href="https://github.com/settings/copilot/features"&gt;https://github.com/settings/copilot/features&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dashboard Entry Point
Allows instant chatting when landing on GitHub.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Set it to &amp;ldquo;Disabled&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: GitHub: disable coding agent"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Em‚Äìdashes</title><link>https://perrotta.dev/2026/01/emdashes/</link><pubDate>Tue, 27 Jan 2026 00:24:45 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/emdashes/</guid><description>&lt;p&gt;I use em dashes extensively (‚Äì).&lt;/p&gt;
&lt;p&gt;And, apparently, &lt;a href="https://folkertstijnman.com/blog/why-em-dashes-are-common-in-llm-outputs/"&gt;so&lt;/a&gt; &lt;a href="https://medium.com/@raj-srivastava/how-llms-turned-the-em-dash-into-a-villain-technical-nuances-b564857adc3b"&gt;do&lt;/a&gt; &lt;a href="https://www.seangoedecke.com/em-dashes/"&gt;LLMs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;These days I feel that I need to put in some &lt;em&gt;additional&lt;/em&gt; effort to make my sentences sound more natural / human, otherwise some people could erroneously assume that they&amp;rsquo;re LLM-generated.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;C&amp;rsquo;est la vie&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;On macOS, press &lt;code&gt;Option + -&lt;/code&gt; to insert an em-dash (‚Äì).&lt;/p&gt;
&lt;p&gt;Alternatively,
&lt;a href="https://vi.stackexchange.com/questions/2199/what-is-the-easiest-way-to-insert-en-dash-in-vim"&gt;instruct&lt;/a&gt;
&lt;code&gt;nvim&lt;/code&gt; to insert an em-dash when typing the sequence &lt;code&gt;--&amp;lt;space&amp;gt;&lt;/code&gt; (=two dashes
followed by a space) in markdown files by changing
&lt;code&gt;~/.config/nvim/after/ftplugin/markdown.lua&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="lua"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;lua&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-lua" data-lang="lua"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;-- Convert -- followed by space to em-dash&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;vim.keymap.set(&lt;span style="color:#e6db74"&gt;&amp;#39;i&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;--&amp;lt;Space&amp;gt;&amp;#39;&lt;/span&gt;, &lt;span style="color:#e6db74"&gt;&amp;#39;‚Äî&amp;#39;&lt;/span&gt;, { buffer &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;, desc &lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#39;Em-dash&amp;#39;&lt;/span&gt; })&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Or in &lt;code&gt;vim&lt;/code&gt; (&lt;code&gt;~/.vim/after/ftplugin/markdown.vim&lt;/code&gt;):&lt;/p&gt;
&lt;div class="codeblock" data-lang="vimscript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;vimscript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre tabindex="0"&gt;&lt;code class="language-vimscript" data-lang="vimscript"&gt;inoremap &amp;lt;buffer&amp;gt; -- ‚Äî&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Update(2026-02-04)&lt;/strong&gt;: a reader has kindly pointed out that there&amp;rsquo;s a mistake
in my nomenclature, wherein this post is actually referring to en-dashes instead
of em-dashes. I am sure he is absolutely right!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Em‚Äìdashes"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Airline Wi-Fi messaging services</title><link>https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/</link><pubDate>Tue, 20 Jan 2026 16:48:48 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/</guid><description>&lt;p&gt;Many airlines offer free Wi-Fi connectivity to their fellow passengers, up to a
certain amount of time ‚Äî for example, 30 minutes.&lt;/p&gt;
&lt;p&gt;The connectivity is severely limited though, being typically restricted to
messaging services only (think SMS, WhatsApp, Telegram, Signal, &amp;hellip;), and just
text (no GIFs, images, videos, etc.)&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. In this context, email is not
considered to be messaging.&lt;/p&gt;
&lt;p&gt;I recently realized that (cloud) ChatGPT-like LLMs are not considered messaging
services. Which is a bummer ‚Äî wouldn&amp;rsquo;t it be super convenient to be able to jot
down thoughts, plans and ideas to them whilst flying? And the medium is perfect
‚Äî texting back-and-forth is all you need. Responses don&amp;rsquo;t even have to be
streamed: split chunks would be perfectly acceptable.&lt;/p&gt;
&lt;p&gt;You heard of this million-dollar idea here first.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;An interesting observation in the Apple Mobile ecosystem, due to the
underlying architecture, is that you get to see push notifications from
services even other than messaging (for example, email). However, it&amp;rsquo;s not
possible to interact with them.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Airline Wi-Fi messaging services"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Gemini on YouTube</title><link>https://perrotta.dev/2026/01/gemini-on-youtube/</link><pubDate>Thu, 15 Jan 2026 00:02:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/gemini-on-youtube/</guid><description>&lt;p&gt;It&amp;rsquo;s now possible to ask questions to / chat with Gen AI about YouTube
videos, directly on YouTube.&lt;/p&gt;
&lt;p&gt;Top #1 use case: &amp;ldquo;summarize this video&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;This will save &lt;em&gt;hours&lt;/em&gt; of time (per&amp;hellip;day? week? month?).&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s much more effective than watching the video at 2x speed and/or skimming
through it.&lt;/p&gt;
&lt;p&gt;Think of the likes of &amp;ldquo;10 reasons to do foo&amp;rdquo; or &amp;ldquo;Top 10 videogames / books of
2025&amp;rdquo; or &amp;ldquo;20 best travel destinations this Summer&amp;rdquo; or &amp;ldquo;How to make perfect
sourdough bread in 5 easy steps&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Now there&amp;rsquo;s no need to watch the video whatsoever, hunting for each individual
piece of information.&lt;/p&gt;
&lt;p&gt;I honestly have no idea how this helps the monetization strategy of the company.
If anything, this will make me spend &lt;em&gt;even less&lt;/em&gt; time browsing random videos.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Gemini on YouTube"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>git aicommit</title><link>https://perrotta.dev/2026/01/git-aicommit/</link><pubDate>Tue, 13 Jan 2026 15:58:48 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-aicommit/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: auto-generate a commit message for &lt;code&gt;git&lt;/code&gt; from the
command-line. The solution should be vendor agnostic.&lt;/p&gt;
&lt;p&gt;Given a &lt;code&gt;git-foo.sh&lt;/code&gt; in &lt;code&gt;$PATH&lt;/code&gt;, it can be invoked as &lt;code&gt;git foo&lt;/code&gt;, as if it
were a built-in &lt;code&gt;git&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;This is helpful to enable seamless integration with &lt;code&gt;git&lt;/code&gt;. I chose to call the
subcommand &lt;code&gt;aicommit&lt;/code&gt;. I suppose &lt;code&gt;commit-ai&lt;/code&gt; would also be sensible.&lt;/p&gt;
&lt;p&gt;The goal is to create &lt;code&gt;git-aicommit.sh&lt;/code&gt; in &lt;code&gt;~/.bin&lt;/code&gt; (which is in my &lt;code&gt;$PATH&lt;/code&gt; via
my &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/018c50ebd86b70b30578d4a1393054fd04bd4553/profile/.profilerc#L42"&gt;.dotfiles&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;This initial draft worked well:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;#&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# git-aicommit - Create a commit with an AI-generated title based on staged changes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;set -e
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check if we&amp;#39;re inside a git repository&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;true&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: Not in a git repository&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check if there are staged changes&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; git diff --cached --quiet; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: No staged changes to commit&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Select AI agent (default: claude)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;agent&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;${&lt;/span&gt;GIT_AI_AGENT&lt;span style="color:#66d9ef"&gt;:-&lt;/span&gt;claude&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;case&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$agent&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; in
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# keep-sorted start&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; amp|ampcode&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ai_prompt&lt;span style="color:#f92672"&gt;()&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt; amp -x &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$1&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; claude&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ai_prompt&lt;span style="color:#f92672"&gt;()&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt; claude -p &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$1&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# keep-sorted end&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; *&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;Error: Unknown AI agent: &lt;/span&gt;$agent&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ;;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;esac&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;prompt&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;Look at the staged git changes and create a summarizing git commit title. Only respond with the title and no affirmation.&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Generate commit message and commit&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;Generating commit message with &lt;/span&gt;$agent&lt;span style="color:#e6db74"&gt;...&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git commit -m &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;ai_prompt &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$prompt&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$@&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;AI commit created successfully&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Refer to &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/git/.bin/git-aicommit-quick"&gt;this
source&lt;/a&gt;
for an up-to-date version as it evolves.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s break it down:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://perrotta.dev/2026/01/oneshot-prompting/"&gt;Previously&lt;/a&gt;: we employ an
oneshot command to call an LLM agent, so that there&amp;rsquo;s no need to do it
interactively. Initially I added only Claude Code and Amp because they are the
agents I use the most; perhaps this list will be expanded later on but it is
not intended to be exhaustive&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;li&gt;The command is intended to run in O(seconds). If it takes too long, then it
should be simplified (via a better prompt).&lt;/li&gt;
&lt;li&gt;By default it uses Claude. To use another agent, call it like:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;GIT_AI_AGENT&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;amp&amp;#34;&lt;/span&gt; git aicommit&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This preference could be trivially made persistent on a per-repo basis by using
&lt;a href="https://perrotta.dev/2022/01/direnv-automate-your-environment-variables/"&gt;direnv&lt;/a&gt;.
For example, use Claude at work and Amp in personal git repositories&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Later on I split the command into two: &lt;code&gt;git aicommit&lt;/code&gt; and &lt;code&gt;git aicommit-quick&lt;/code&gt;.
&amp;ldquo;Quick&amp;rdquo; populates the commit message title only (think &lt;code&gt;git commit -m &amp;quot;foo&amp;quot;&lt;/code&gt;),
whereas the non-quick version populates the body as well, accounting for &lt;a href="https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository"&gt;GitHub
PR
templates&lt;/a&gt;
when they exist. Time will tell whether I need this distinction.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;This gives me the idea to create a separate script for &amp;ldquo;oneshotting&amp;rdquo; LLMs
in &lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/news/opus-4.5"&gt;It&amp;rsquo;s all Claude anyway&lt;/a&gt;, this
distinction is mostly for the sake of discretionary billing.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git aicommit"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>2026</title><link>https://perrotta.dev/2026/01/2026/</link><pubDate>Mon, 12 Jan 2026 17:15:37 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>posse</category><category>serenity</category><guid>https://perrotta.dev/2026/01/2026/</guid><description>&lt;p&gt;Tech. Geopolitics. 2026 is terrifying. 2026 is exciting. Both can be
simultaneously true. You can both like and dislike the current state of affairs
(yes, this includes LLMs), but your individual stance won&amp;rsquo;t change the pace in
which the world evolves.&lt;/p&gt;
&lt;p&gt;After spending most of 2024 significantly avoiding LLMs for coding, and after
spending most of 2025 carefully and skeptically observing, and eventually
(gradually) taming them, I&amp;rsquo;m kickstarting 2026 by fully embracing them.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s no panacea; and it doesn&amp;rsquo;t need to be hype (arguably, hype is terrible).
Treat the LLM selection and driving process as you would when picking an
operating system, a text editor, a package manager, a smartphone, or an ETF.
Pick one, embrace it, ignore the (noise of the) rest, and then life moves on.&lt;/p&gt;
&lt;p&gt;As such, I am announcing two new initiatives.&lt;/p&gt;
&lt;p&gt;One: I am coining an AI&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/2026/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; tag in my blog: &lt;a href="https://perrotta.dev/tags/ai/"&gt;https://perrotta.dev/tags/ai/&lt;/a&gt;. I tend
to write concise posts, primarily about workflows, with occasional tips (tips,
not &lt;em&gt;advice&lt;/em&gt;. There&amp;rsquo;s already way too much advice out there.). No &amp;ldquo;hot takes&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Two: I am introducing a public blogroll: &lt;a href="https://perrotta.dev/blogroll/"&gt;https://perrotta.dev/blogroll/&lt;/a&gt;. This
contains a subset of blogs I follow in a grassroots and organic manner (hello,
RSS!), and makes it very frictionless for you to do the same (there&amp;rsquo;s an OPML
file there that can be easily imported in a news reader of your choice). In my
esteemed opinion, the democratization of knowledge is important. I try to shy
away from politics, and learn from all sides: I believe you can follow &lt;em&gt;both&lt;/em&gt;
DHH and Drew DeVault alike; there&amp;rsquo;s no need to &amp;ldquo;pick&amp;rdquo; any one side.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;I am also introducing a &lt;a href="https://indieweb.org/POSSE"&gt;&amp;ldquo;posse&amp;rdquo;&lt;/a&gt; tag. This
post was cross-posted to my LinkedIn.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/2026/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 2026"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ ADRs and LLMs</title><link>https://perrotta.dev/2026/01/adrs-and-llms/</link><pubDate>Sun, 11 Jan 2026 09:07:46 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/adrs-and-llms/</guid><description>&lt;p&gt;The first time I heard about &lt;a href="https://adr.github.io/"&gt;Architectural Decision
Records&lt;/a&gt; (ADRs) was with &lt;a href="https://www.georgefairbanks.com/"&gt;George
Fairbanks&lt;/a&gt; (GHF) and &lt;a href="https://www.linkedin.com/in/tituswinters"&gt;Titus
Winters&lt;/a&gt; in an internal training for
software engineers at Google Canada.&lt;/p&gt;
&lt;p&gt;The concept has resonated with me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An Architectural Decision (AD) is a justified design choice that addresses a
functional or non-functional requirement that is architecturally significant.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;An Architectural Decision Record (ADR) captures a single AD and its rationale;
Put it simply, ADR can help you understand the reasons for a chosen
architectural decision, along with its trade-offs and consequences.&lt;/p&gt;
&lt;p&gt;The collection of ADRs created and maintained in a project constitute its
decision log. All these are within the topic of Architectural Knowledge
Management (AKM), but ADR usage can be extended to design and other decisions
(&amp;ldquo;any decision record&amp;rdquo;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Some people liken these to
&lt;a href="https://en.wikipedia.org/wiki/Request_for_Comments"&gt;RFCs&lt;/a&gt;, although they are
not quite the same concept. RFCs tend to be much more formal and go through
rigorous review/approval before it becomes a standard.&lt;/p&gt;
&lt;p&gt;ADRs, on the other hand, tend to be lightweight and objective. An archetypical
ADR captures a single decision about architecture in document form, alongside
its &lt;strong&gt;rationale&lt;/strong&gt;, context and alternatives considered. &lt;strong&gt;Rationale&lt;/strong&gt; is the
keyword here.&lt;/p&gt;
&lt;p&gt;Rephrasing, in simpler terms: ADRs are a collection of rationales about a
project (software repository, if you will). They are incremental, long-living,
ever-evolving guidelines / rules of engagement for a given software realm.&lt;/p&gt;
&lt;p&gt;ADRs (and RFCs as well, for that matter) are typically stored alongside source
code in a version‚Äëcontrolled repository (&lt;em&gt;cof&lt;/em&gt; git &lt;em&gt;cof&lt;/em&gt;):&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% tree
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îî‚îÄ‚îÄ adrs
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îú‚îÄ‚îÄ 0001-foo.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îú‚îÄ‚îÄ 0002-bar.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî‚îÄ‚îÄ 0003-baz.md&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;They are usually numbered, though there&amp;rsquo;s no hard rule saying that you have to
do so with monotonically increasing numbers. You could use calendar versioning
(&lt;code&gt;2025-11-11-foo.md&lt;/code&gt;), or any other numbering scheme if desired.&lt;/p&gt;
&lt;p&gt;GHF has an introductory
&lt;a href="https://www.georgefairbanks.com/blog/comparch-wicsa-2011-panel-discussion-and-haiku-tutorial/"&gt;article&lt;/a&gt;
about them. At the time (2011!), the coined term was &amp;ldquo;Architecture Haiku&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can&amp;rsquo;t say anything in one page ‚Äî or can you? An Architecture Haiku is a
one-page, quick-to-build, √ºber-terse design description. No project wants
&amp;ldquo;shelfware&amp;rdquo; documentation, but many must communicate their design to others.
Brevity is hard ‚Äî what would you say in one page? With no page limit, experts
suggest documenting everything but the kitchen sink. The one-page limit forces
you to convey the essence of your design using compact language and concepts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Enough introduction, here is my hot take.&lt;/p&gt;
&lt;p&gt;I would like to argue that codebases that continually evolve with heavy usage of
LLM coding agents will strongly benefit from ADRs now, and especially in the
future.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://agents.md/"&gt;AGENTS.md&lt;/a&gt; format is a starting point, but it&amp;rsquo;s a far
cry from disciplined ADR enactment. Bootstrapping your git repository with
scattered &lt;code&gt;AGENTS.md&lt;/code&gt; / &lt;code&gt;CLAUDE.md&lt;/code&gt; all over the place is a good initial
practice to tell the agent what to do and/or how to behave, but it does not
capture &lt;em&gt;decision records&lt;/em&gt; effectively.&lt;/p&gt;
&lt;p&gt;The workflow I am starting to adopt in important repositories wherein I work
with teammates resembles this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% tree docs/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;docs/
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îú‚îÄ‚îÄ adrs
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îú‚îÄ‚îÄ 0001-aws-secrets-manager-migration.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îú‚îÄ‚îÄ 0002-cluster-infrastructure-architecture.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îú‚îÄ‚îÄ 0003-slack-drift-notifications.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ ‚îî‚îÄ‚îÄ README.md&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;A top-level &lt;code&gt;docs/&lt;/code&gt; directory is the entrypoint for all &lt;code&gt;.md&lt;/code&gt; files docs. Inside
it, we store our ADRs.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;README.md&lt;/code&gt; describes how to define an ADR:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Architecture Decision Records&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;This directory contains Architecture Decision Records &lt;span style="color:#f92672"&gt;(&lt;/span&gt;ADRs&lt;span style="color:#f92672"&gt;)&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; significant
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;technical decisions in the Terraform infrastructure.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## ADRs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- markdownlint-disable MD013 --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&amp;gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;| Number | Title | Status | Date |&amp;#34;&lt;/span&gt;; echo &lt;span style="color:#e6db74"&gt;&amp;#34;|--------|-------|--------|------|&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; f in 0*.md; &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt; num&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;basename &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; .md | cut -d- -f1&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; title&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;head -1 &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | sed &lt;span style="color:#e6db74"&gt;&amp;#39;s/^# ADR-[0-9]*: //&amp;#39;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; status&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;awk &lt;span style="color:#e6db74"&gt;&amp;#39;/^## Status/{getline;getline;print}&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; date&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;awk &lt;span style="color:#e6db74"&gt;&amp;#39;/^## Date/{getline;getline;print}&amp;#39;&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;; echo &lt;span style="color:#e6db74"&gt;&amp;#34;| [&lt;/span&gt;$num&lt;span style="color:#e6db74"&gt;](&lt;/span&gt;$f&lt;span style="color:#e6db74"&gt;) | &lt;/span&gt;$title&lt;span style="color:#e6db74"&gt; | &lt;/span&gt;$status&lt;span style="color:#e6db74"&gt; | &lt;/span&gt;$date&lt;span style="color:#e6db74"&gt; |&amp;#34;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- BEGIN mdsh --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Number | Title | Status | Date |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;|--------|-------|--------|------|
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| &lt;span style="color:#f92672"&gt;[&lt;/span&gt;0001&lt;span style="color:#f92672"&gt;](&lt;/span&gt;0001-aws-secrets-manager-migration.md&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | AWS Secrets Manager Migration | Proposed &lt;span style="color:#f92672"&gt;(&lt;/span&gt;Not Yet Implemented&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | 2025-11-22 |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| &lt;span style="color:#f92672"&gt;[&lt;/span&gt;0002&lt;span style="color:#f92672"&gt;](&lt;/span&gt;0002-cluster-infrastructure-architecture.md&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | Cluster Infrastructure Architecture | Accepted | 2025-12-01 |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| &lt;span style="color:#f92672"&gt;[&lt;/span&gt;0003&lt;span style="color:#f92672"&gt;](&lt;/span&gt;0003-slack-drift-notifications.md&lt;span style="color:#f92672"&gt;)&lt;/span&gt; | Slack Drift Notifications | Accepted | 2024-12-01 |
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- END mdsh --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;lt;!-- markdownlint-enable MD013 --&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Adding New ADRs&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;1. Create a new file: &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;NNNN-short-title.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; &lt;span style="color:#f92672"&gt;(&lt;/span&gt;increment the number&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;2. Use this template:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;```&lt;/span&gt;markdown
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# ADR-NNNN: Title&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Status&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Proposed | Accepted | Deprecated | Superseded
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Date&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;YYYY-MM-DD
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Context&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;What is the issue that we&lt;span style="color:#e6db74"&gt;&amp;#39;re seeing that is motivating this decision?
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;## Decision
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;What is the change that we&amp;#39;&lt;/span&gt;re proposing and/or doing?
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Include its rationale.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Include alternatives considered where applicable.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;## Consequences&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;What becomes easier or more difficult to &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt; because of this change?&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Whenever a new significant direction is adopted in the repository, or whenever
something (a tool, a dependency, a process) &lt;em&gt;quasi&lt;/em&gt;-disrupting is introduced, it
probably deserves its own ADR.&lt;/p&gt;
&lt;p&gt;It used to be tedious to write them by hand, but nowadays your LLM agent can
draft ADRs for you. Arguably, a plan&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; file maps naturally to an ADR. All you
have to do is to add &lt;em&gt;some&lt;/em&gt; structure to them&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;See also&lt;/strong&gt;: &lt;a href="https://en.wikipedia.org/wiki/Architectural_decision"&gt;https://en.wikipedia.org/wiki/Architectural_decision&lt;/a&gt;&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;em&gt;Plan&lt;/em&gt; in the context of &amp;ldquo;planning mode&amp;rdquo; that various agents have these
days e.g. &lt;a href="https://code.claude.com/docs/en/model-config"&gt;Claude Code&lt;/a&gt;,
&lt;a href="https://opencode.ai/docs/modes/#plan"&gt;OpenCode&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;But &lt;a href="https://danielmiessler.com/blog/personal-ai-infrastructure"&gt;don&amp;rsquo;t&lt;/a&gt;
&lt;a href="https://github.com/steveyegge/beads"&gt;&lt;em&gt;overdo&lt;/em&gt;&lt;/a&gt; it.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ADRs and LLMs"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude --teleport</title><link>https://perrotta.dev/2026/01/claude--teleport/</link><pubDate>Sat, 10 Jan 2026 22:26:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude--teleport/</guid><description>&lt;p&gt;After starting a coding session on the web with &lt;a href="https://code.claude.com/docs/en/claude-code-on-the-web"&gt;Claude Code on
Web&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/claude--teleport/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;, you can &lt;a href="https://code.claude.com/docs/en/claude-code-on-the-web#from-web-to-terminal"&gt;resume it
in the
terminal&lt;/a&gt;
with the traditional Claude Code CLI app by running &lt;code&gt;claude --teleport&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Without arguments, it prompts you to interactively choose an existing session to
resume:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Select a session to resume:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Updated Session Title
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚ùØ 1. 52m ago Migrate secrets from Gringotts to AWS Secrets Manager
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. 53m ago Plan Hoth integration with dual provider OIDC
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. 54m ago Add Strangereal terraform state bucket standalone project
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 4. 2w ago Write a CLAUDE.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 5. 1mo ago Address review comments on pull request 42123&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;With a provided session ID argument, the session is immediately resumed.&lt;/p&gt;
&lt;p&gt;The docs mention the existence of the &lt;code&gt;/teleport&lt;/code&gt; command within Claude Code but I
could not find it in my instance (version v2.1.4).&lt;/p&gt;
&lt;p&gt;This &lt;a href="https://xcancel.com/bcherny/status/2007179832300581177"&gt;workflow&lt;/a&gt; (&amp;ldquo;start
on your phone, resume later on your computer afterwards&amp;rdquo;) is starting to become
popularized.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://claude.ai/code"&gt;https://claude.ai/code&lt;/a&gt;&amp;#160;&lt;a href="https://perrotta.dev/2026/01/claude--teleport/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude --teleport"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>git: shell prompt: worktrees</title><link>https://perrotta.dev/2026/01/git-shell-prompt-worktrees/</link><pubDate>Sat, 10 Jan 2026 15:15:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-shell-prompt-worktrees/</guid><description>&lt;p&gt;My shell prompt displays the git branch my repository has
currently checked out:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;thiago.perrotta perrotta.dev git:master?
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: augment that prompt to signal whether we&amp;rsquo;re inside a
checked out &lt;a href="https://git-scm.com/docs/git-worktree"&gt;git worktree&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is helpful because lately multiple repository worktrees have been
popularized thanks to LLM coding agents.&lt;/p&gt;
&lt;p&gt;The following change to &lt;a href="https://perrotta.dev/2025/12/starship/"&gt;starship&lt;/a&gt; does the
trick:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-diff" data-lang="diff"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;commit b7de6881c0fb57c840def52189502985442842e1
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Date: Fri Jan 9 21:18:09 2026 -0300
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; starship: add worktree symbol
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git starship/.config/starship.toml starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 87df9ff..ea7acc8 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;--- starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+++ starship/.config/starship.toml
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;@@ -1,5 +1,5 @@
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; # Minimal starship config matching grml prompt
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;-format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status$line_break$character&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}$line_break$character&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt; right_format = &amp;#34;$cmd_duration$jobs&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; add_newline = true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;@@ -24,13 +24,13 @@ format = &amp;#34; [$path](bold) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [git_branch]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; symbol = &amp;#34;git:&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;-format = &amp;#34;[$symbol$branch](bold cyan) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34;[$symbol$branch](bold cyan)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [git_state]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; format = &amp;#34;|[$state]()&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [git_status]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;-format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; [cmd_duration]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; min_time = 2000
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;@@ -46,3 +46,9 @@ format = &amp;#34;[üßô](red) &amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; [character]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; success_symbol = &amp;#34;[‚ùØ](green)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; error_symbol = &amp;#34;[x](red)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+[custom.git_worktree]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+command = &amp;#34;printf &amp;#39;‚éá&amp;#39;&amp;#34; # or üå≤, but I find the emoji too distracting in this context
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null &amp;amp;&amp;amp; [ -f $(git rev-parse --git-dir)/commondir ]&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+format = &amp;#34; [$output]($style)&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+style = &amp;#34;bold yellow&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;You don&amp;rsquo;t need to use starship to adopt it. The core logic is:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;git rev-parse --is-inside-work-tree &amp;amp;&amp;gt;/dev/null &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; -f &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;git rev-parse --git-dir&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;/commondir&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt; &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; printf &lt;span style="color:#e6db74"&gt;&amp;#39;‚éá&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The result:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;thiago.perrotta perrotta.dev git:thiagowfx/my-custom-branch ‚éá
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It is subtle yet informative.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git: shell prompt: worktrees"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: release notes RSS feed</title><link>https://perrotta.dev/2026/01/claude-code-release-notes-rss-feed/</link><pubDate>Mon, 05 Jan 2026 15:31:45 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude-code-release-notes-rss-feed/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2026/01/claude-code-tips/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Stay up-to-date with the &lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;
&lt;a href="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"&gt;CHANGELOG&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Did you know &lt;a href="https://stackoverflow.com/questions/21986561/rss-to-a-github-file"&gt;it&amp;rsquo;s
possible&lt;/a&gt; to
obtain a RSS feed straight from a github repo?&lt;/p&gt;
&lt;p&gt;The Claude Code github repository: &lt;a href="https://github.com/anthropics/claude-code/releases"&gt;https://github.com/anthropics/claude-code/releases&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Its feed: &lt;a href="https://github.com/anthropics/claude-code/releases.atom"&gt;https://github.com/anthropics/claude-code/releases.atom&lt;/a&gt; ‚Äì just append
&lt;code&gt;.atom&lt;/code&gt; to the repo releases URL.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t have a favorite RSS reader yet, I recommendd &lt;a href="https://perrotta.dev/2022/01/miniflux-rolling-my-own-rss-reader/"&gt;Miniflux&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: release notes RSS feed"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code tips</title><link>https://perrotta.dev/2026/01/claude-code-tips/</link><pubDate>Mon, 05 Jan 2026 15:18:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude-code-tips/</guid><description>&lt;p&gt;These are great collections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ykdojo/claude-code-tips"&gt;https://github.com/ykdojo/claude-code-tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adocomplete.com/advent-of-claude-2025/"&gt;https://adocomplete.com/advent-of-claude-2025/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;New tips to me:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/rename&lt;/code&gt; to set a session name, like you would with a tmux window. Later
on, resume the session with &lt;code&gt;/resume {name}&lt;/code&gt; or &lt;code&gt;claude --resume {name}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Since
&lt;a href="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md#2074"&gt;v2.0.74&lt;/a&gt;
LSP became a first-class citizen, comparable to OpenCode:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Added LSP (Language Server Protocol) tool for code intelligence features like
go-to-definition, find references, and hover documentation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code tips"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Anything else you may have missed?</title><link>https://perrotta.dev/2026/01/anything-else-you-may-have-missed/</link><pubDate>Sat, 03 Jan 2026 19:30:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/anything-else-you-may-have-missed/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/09/hello/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Whenever the LLM is too confident after performing some work:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &lt;em&gt;Anything else you may have missed?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Repeat a few times in a row.&lt;/p&gt;
&lt;p&gt;It is non-deterministic, it&amp;rsquo;s not idempotent.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Anything else you may have missed?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Oneshot prompting</title><link>https://perrotta.dev/2026/01/oneshot-prompting/</link><pubDate>Sat, 03 Jan 2026 16:35:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/oneshot-prompting/</guid><description>&lt;p&gt;I just wrote &lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/"&gt;this post&lt;/a&gt; about &lt;code&gt;neovim&lt;/code&gt; and &lt;code&gt;git&lt;/code&gt; hunks.&lt;/p&gt;
&lt;p&gt;In it I mentioned various git repositories, but did not link to them whilst
writing the post. Ah, these lazy engineers.&lt;/p&gt;
&lt;p&gt;Why not ask the LLM to link to them for me, especially because they are popular
projects? Then I had the idea to try to do it without opening an interactive
coding agent as I&amp;rsquo;m used to (think of Claude Code, OpenAI Codex, Amp Code, Open
Code).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% amp -x &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Error: Insufficient credit balance.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% amp --mode free -x &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Error: Execute mode is not permitted with --mode &lt;span style="color:#e6db74"&gt;&amp;#39;free&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Oh. Okay.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/badlogic/pi-mono"&gt;Pi&lt;/a&gt; + Gemini 3 Pro Preview:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% pi -p &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;I have added the requested GitHub repository links &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; the Git TUIs &lt;span style="color:#f92672"&gt;(&lt;/span&gt;gitui, tig, lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt; in the blog post &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Here are the changes made:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;gitui&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; -&amp;gt; &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;gitui&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/extrawurst/gitui&lt;span style="color:#f92672"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;tig&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; -&amp;gt; &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;tig&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jonas/tig&lt;span style="color:#f92672"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;lazygit&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; -&amp;gt; &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;lazygit&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jesseduffield/lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Great job! Let&amp;rsquo;s &lt;code&gt;git stash&lt;/code&gt; it and try again with other agents I use, for the
sake of completeness. I&amp;rsquo;ll use the same prompt.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; + Sonnet 4.5:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude -p &lt;span style="color:#e6db74"&gt;&amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;I need your permission to edit the file &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; to add GitHub repository links to the git TUIs &lt;span style="color:#f92672"&gt;(&lt;/span&gt;gitui, tig, and lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;claude --dangerously-skip-permissions -p &lt;span style="color:#e6db74"&gt;&amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Perfect! I&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;ve added GitHub repository links to all three git TUIs mentioned in the post:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;1. **gitui** ‚Üí https://github.com/extrawurst/gitui
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;2. **tig** ‚Üí https://github.com/jonas/tig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;3. **lazygit** ‚Üí https://github.com/jesseduffield/lazygit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;The links are now properly formatted as Markdown links in the post at &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md:52-54&lt;span style="color:#e6db74"&gt;`&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://openai.com/codex/"&gt;OpenAI Codex&lt;/a&gt; + GPT 5.1 Codex Max:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% codex exec &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;[&lt;/span&gt;...lots of output...&lt;span style="color:#f92672"&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- **gitui**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- tig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- lazygit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- **&lt;span style="color:#f92672"&gt;[&lt;/span&gt;gitui&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/extrawurst/gitui&lt;span style="color:#f92672"&gt;)&lt;/span&gt;**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;tig&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jonas/tig&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;lazygit&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jesseduffield/lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ...or graphically with IDEs with as VSCode.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tokens used
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;7,432
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- Added GitHub repository links &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; gitui, tig, and lazygit in &lt;span style="color:#e6db74"&gt;`&lt;/span&gt;content/posts/2026-01-03-neovim--inline-git-hunk-control.md&lt;span style="color:#e6db74"&gt;`&lt;/span&gt; so readers can jump to each TUI.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- No tests run &lt;span style="color:#f92672"&gt;(&lt;/span&gt;doc-only change&lt;span style="color:#f92672"&gt;)&lt;/span&gt;.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://opencode.ai/"&gt;Open Code&lt;/a&gt; + GLM 4.7 Free:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% opencode --model opencode/glm-4.7-free run &lt;span style="color:#e6db74"&gt;&amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Read content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Search Web search: tig git tui github repository
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Search Web search: gitui github repository
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Search Web search: lazygit github repository
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;| Edit content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Done. Added GitHub links &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; gitui, tig, and lazygit to the post.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% git --no-pager diff
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git content/posts/2026-01-03-neovim--inline-git-hunk-control.md content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 1a6465f3b..3324a71c7 &lt;span style="color:#ae81ff"&gt;100644&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;--- content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+++ content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;@@ -49,9 +49,9 @@ What now&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; It&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;s also possible to manage hunks via git TUIs &lt;span style="color:#f92672"&gt;(=&lt;/span&gt;from the terminal&lt;span style="color:#f92672"&gt;)&lt;/span&gt; such as:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- **gitui**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- tig
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;-- lazygit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- **&lt;span style="color:#f92672"&gt;[&lt;/span&gt;gitui&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/gitui-org/gitui&lt;span style="color:#f92672"&gt;)&lt;/span&gt;**
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;tig&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jonas/tig&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;+- &lt;span style="color:#f92672"&gt;[&lt;/span&gt;lazygit&lt;span style="color:#f92672"&gt;](&lt;/span&gt;https://github.com/jesseduffield/lazygit&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ...or graphically with IDEs with as VSCode.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Guess which one is my favorite for simple tasks?&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Oneshot prompting"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: block dangerous commands</title><link>https://perrotta.dev/2025/12/claude-code-block-dangerous-commands/</link><pubDate>Sun, 21 Dec 2025 18:16:12 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/12/claude-code-block-dangerous-commands/</guid><description>&lt;p&gt;The outcome:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; Run rm -rf /tmp/test
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ Bash(rm -rf /tmp/test)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚éø PreToolUse:Bash hook returned blocking error
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚éø Error: rm -rf is blocked for safety
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ The rm -rf command was blocked by a safety hook in your configuration (~/.claude/hooks/block-dangerous-commands.sh).
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; If you want to remove /tmp/test, you have a few options:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 1. Run the command directly in your terminal (outside of Claude Code)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. Modify your hooks configuration to allow this specific command
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. Use a safer alternative like rm -r /tmp/test (without force flag) which may prompt for confirmation
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Would you like me to try one of the alternatives, or would you prefer to run this directly in your terminal?&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;How to achieve this?&lt;/p&gt;
&lt;p&gt;So far I had a &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/8a61441dbe1adf5760544e0db6b4c64a145bb6e7/claude/.claude/settings.json#L63"&gt;deny
list&lt;/a&gt;
in &lt;code&gt;~/.claude/settings.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;permissions&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;deny&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(rm -rf:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(terraform apply:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(terraform destroy:*)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;This is enough&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;For extra safety though, I added a &lt;a href="https://code.claude.com/docs/en/hooks#pretooluse"&gt;pre-tool use
hook&lt;/a&gt; for redundancy:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Runs after Claude creates tool parameters and before processing the
tool call.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;hooks&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;PreToolUse&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;matcher&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;Bash&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;hooks&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;command&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;command&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;~/.claude/hooks/block-dangerous-commands.sh&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;timeout&amp;#34;&lt;/span&gt;: &lt;span style="color:#ae81ff"&gt;10&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The hook file (generated by Claude itself, needless to say):&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;#!/bin/bash
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;# PreToolUse hook to block dangerous commands like &amp;#34;rm -rf&amp;#34; and &amp;#34;terraform apply&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Read hook input from stdin&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;input&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;cat&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Extract tool name and command&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;tool_name&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$input&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | jq -r &lt;span style="color:#e6db74"&gt;&amp;#39;.tool_name // &amp;#34;&amp;#34;&amp;#39;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;command&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;echo &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$input&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | jq -r &lt;span style="color:#e6db74"&gt;&amp;#39;.tool_input.command // &amp;#34;&amp;#34;&amp;#39;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Exit early if not a Bash tool&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$tool_name&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; !&lt;span style="color:#f92672"&gt;=&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check for dangerous patterns&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;blocked&lt;span style="color:#f92672"&gt;=&lt;/span&gt;false
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;reason&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check for rm -rf (with various flag orderings)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$command&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | grep -qE &lt;span style="color:#e6db74"&gt;&amp;#39;rm\s+(-[a-zA-Z]*r[a-zA-Z]*f|(-[a-zA-Z]*f[a-zA-Z]*\s+)?-[a-zA-Z]*r|-rf|-fr)\b&amp;#39;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; blocked&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; reason&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;rm -rf is blocked for safety&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check for terraform apply (without -auto-approve is still dangerous)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$command&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | grep -qE &lt;span style="color:#e6db74"&gt;&amp;#39;terraform\s+apply&amp;#39;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; blocked&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; reason&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;terraform apply is blocked - use terraform plan first&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Check for terraform destroy&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; echo &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$command&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; | grep -qE &lt;span style="color:#e6db74"&gt;&amp;#39;terraform\s+destroy&amp;#39;&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; blocked&lt;span style="color:#f92672"&gt;=&lt;/span&gt;true
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; reason&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;terraform destroy is blocked for safety&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# If blocked, return denial via JSON&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; &lt;span style="color:#f92672"&gt;[&lt;/span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;$blocked&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt; &lt;span style="color:#f92672"&gt;=&lt;/span&gt; true &lt;span style="color:#f92672"&gt;]&lt;/span&gt;; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; cat &lt;span style="color:#e6db74"&gt;&amp;lt;&amp;lt;EOF
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; &amp;#34;hookSpecificOutput&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; &amp;#34;hookEventName&amp;#34;: &amp;#34;PreToolUse&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; &amp;#34;permissionDecision&amp;#34;: &amp;#34;deny&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; &amp;#34;permissionDecisionReason&amp;#34;: &amp;#34;$reason&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;EOF&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; exit &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Allow command to proceed&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;exit &lt;span style="color:#ae81ff"&gt;0&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: block dangerous commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: stash</title><link>https://perrotta.dev/2025/12/claude-code-stash/</link><pubDate>Sun, 21 Dec 2025 16:48:26 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/12/claude-code-stash/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: You&amp;rsquo;re midway in a long, multi-line prompt in Claude
Code.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;dolor sit amet.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now you would like to &amp;ldquo;stash&amp;rdquo; it away temporarily to run a more important,
one-off prompt, before resuming.&lt;/p&gt;
&lt;p&gt;If this were an one-line prompt, you could hit &lt;code&gt;C-u&lt;/code&gt;, run your one-off, and then
hit &lt;code&gt;C-y&lt;/code&gt;. This is pure &lt;code&gt;readline&lt;/code&gt; / &lt;code&gt;emacs&lt;/code&gt; wizardry, supported natively in the
TUI that Claude Code employs.&lt;/p&gt;
&lt;p&gt;For the multi-line situation, hit &lt;code&gt;C-s&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Claude will then show:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚Ä∫ Stashed (auto-restores after submit)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;From here, run your one-off. Your initial prompt will be automatically
restored upon completion.&lt;/p&gt;
&lt;p&gt;Alternatively, press &lt;code&gt;C-s&lt;/code&gt; again to restore the initial prompt.&lt;/p&gt;
&lt;p&gt;This is a simple quality-of-life improvement, but it&amp;rsquo;s specific to Claude Code.
&lt;code&gt;C-u&lt;/code&gt; + &lt;code&gt;C-y&lt;/code&gt; works almost everywhere though.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: stash"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: add context window % to status line</title><link>https://perrotta.dev/2025/12/claude-code-add-context-window-to-status-line/</link><pubDate>Sat, 20 Dec 2025 15:42:11 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/12/claude-code-add-context-window-to-status-line/</guid><description>&lt;blockquote&gt;
&lt;p&gt;Claude code now officially supports showing context window information like
percentage of usage in status line (&lt;a href="https://aiengineerguide.com/blog/show-context-window-information-in-claude-code-statusline/"&gt;via Ashik Nesin&lt;/a&gt;):&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; /statusline Add a progress bar showing the percentage of context currently used
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ statusline-setup(Configure statusline progress bar)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚éø Done (3 tool uses ¬∑ 7.4k tokens ¬∑ 44s)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ I&amp;#39;ve configured your statusline to include a context usage progress bar. Your status line will now show something like:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; .claude (git:main) [Claude 3.5 Sonnet] [‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë 60%]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; The progress bar displays:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Filled blocks (‚ñà) for used context
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Empty blocks (‚ñë) for remaining context
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Percentage showing exact usage
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; The context calculation includes input tokens, cache creation tokens, and cache read tokens relative to the total context window size.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;My updated
&lt;a href="https://github.com/thiagowfx/.dotfiles/blob/8ab831db16c8e042f024081744e723c5abf790c7/claude/.claude/statusline.sh"&gt;&lt;code&gt;.claude/statusline.sh&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/thiagowfx/.dotfiles/commit/8ab831db16c8e042f024081744e723c5abf790c7"&gt;The
diff&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: add context window % to status line"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude Code: notify when needed</title><link>https://perrotta.dev/2025/12/claude-code-notify-when-needed/</link><pubDate>Thu, 04 Dec 2025 02:36:16 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/12/claude-code-notify-when-needed/</guid><description>&lt;p&gt;This is one little productivity boost to make you a 10x Engineer! None of the
popular AI blogs talk about this!!1!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Make Claude Code emit a chime whenever it needs
attention.&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-diff" data-lang="diff"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;commit e668b387b6b34943143b046ad915effbd3945601
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Date: Thu Dec 4 02:33:11 2025 -0300
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; add a notification hook
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;diff --git claude/.claude/settings.json claude/.claude/settings.json
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;index 1979baf..1ac35da 100644
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;--- claude/.claude/settings.json
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;&lt;/span&gt;&lt;span style="color:#a6e22e"&gt;+++ claude/.claude/settings.json
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;&lt;/span&gt;&lt;span style="color:#75715e"&gt;@@ -1,7 +1,20 @@
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;env&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;CLAUDE_CODE_ENABLE_TELEMETRY&amp;#34;: &amp;#34;0&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ &amp;#34;hooks&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ &amp;#34;Notification&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ &amp;#34;hooks&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ {
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ &amp;#34;command&amp;#34;: &amp;#34;afplay /System/Library/Sounds/Glass.aiff &amp;amp;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ ]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ }
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ ]
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#a6e22e"&gt;+ },
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This is the JSON snippet for ease of copy and paste, you&amp;rsquo;ll add it to your
&lt;code&gt;~/.claude/settings.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;#34;hooks&amp;#34;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;Notification&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;hooks&amp;#34;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;command&amp;#34;: &amp;#34;afplay /System/Library/Sounds/Glass.aiff &amp;amp;&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;This command is for macOS only, but it could be easily adapted to Linux (use
&lt;code&gt;aplay&lt;/code&gt; instead).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.claude.com/docs/en/hooks#notification"&gt;Claude Code Hooks docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Runs when Claude Code sends notifications. Supports matchers to filter by
notification type.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;macOS ships with various system sounds in &lt;code&gt;/System/Library/Sounds&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This inspiration came from &lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;. Amp plays the
&lt;code&gt;Submarine.aiff&lt;/code&gt; sound by default.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: notify when needed"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude: new slash commands</title><link>https://perrotta.dev/2025/11/claude-new-slash-commands/</link><pubDate>Sun, 23 Nov 2025 17:43:04 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/claude-new-slash-commands/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-custom-commands/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instead of creating custom slash commands myself, now I am turning to Claude to
do so for me.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@agent-claude-code-guide create a slash command for&amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a built-in agent.&lt;/p&gt;
&lt;p&gt;Let the &lt;del&gt;experts&lt;/del&gt; agents handle the cruft.&lt;/p&gt;
&lt;p&gt;For example, &lt;code&gt;/commit&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% cat ~/.claude/commands/commit.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;allowed_tools: [&amp;#34;Bash(git add:*)&amp;#34;, &amp;#34;Bash(git commit:*)&amp;#34;, &amp;#34;Bash(git status:*)&amp;#34;, &amp;#34;Bash(git rev-parse:*)&amp;#34;]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;argument-hint: [message]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;description: Make a concise git commit on the current branch
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;---
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Create a concise git commit with the provided message.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Steps:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;1. Show current git status to confirm changes
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;2. Commit with the provided message
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;3. Ask the user if they want to push the changes
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;If the user provides a message as argument, use it directly. Otherwise, ask them for a commit message.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude: new slash commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Shell memoization: lazy-load LLM API keys</title><link>https://perrotta.dev/2025/11/shell-memoization-lazy-load-llm-api-keys/</link><pubDate>Mon, 10 Nov 2025 13:55:56 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>security</category><guid>https://perrotta.dev/2025/11/shell-memoization-lazy-load-llm-api-keys/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Given LLM keys shell environment variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ANTHROPIC_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GEMINI_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OPENAI_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Export them only when they are needed.&lt;/p&gt;
&lt;p&gt;When are they needed? If I launch any one of these binaries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;llm&lt;/code&gt; (generic)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aider&lt;/code&gt; (generic)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gemini&lt;/code&gt; (provider-specific: Google)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;codex&lt;/code&gt; (provider-specific: OpenAI)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;claude&lt;/code&gt; (provider-specific: Anthropic)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I added the following snippet in my shell profile:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#75715e"&gt;# Lazy-load API keys only when needed to avoid shell startup delay&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;if&lt;/span&gt; command -v llm &amp;amp;&amp;gt;/dev/null; &lt;span style="color:#66d9ef"&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; _load_api_keys&lt;span style="color:#f92672"&gt;()&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; export ANTHROPIC_API_KEY&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;command llm keys get anthropic&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; export GEMINI_API_KEY&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;command llm keys get gemini&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; export OPENAI_API_KEY&lt;span style="color:#f92672"&gt;=&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;command llm keys get openai&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# Redefine itself to be a no-op after first call&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; _load_api_keys&lt;span style="color:#f92672"&gt;()&lt;/span&gt; &lt;span style="color:#f92672"&gt;{&lt;/span&gt; :; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;}&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#75715e"&gt;# Wrap all AI CLI commands to auto-load keys&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;for&lt;/span&gt; cmd in claude llm aider codex gemini; &lt;span style="color:#66d9ef"&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; command -v $cmd &amp;amp;&amp;gt;/dev/null &lt;span style="color:#f92672"&gt;&amp;amp;&amp;amp;&lt;/span&gt; eval &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#e6db74"&gt;${&lt;/span&gt;cmd&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt;() { _load_api_keys; command &lt;/span&gt;&lt;span style="color:#e6db74"&gt;${&lt;/span&gt;cmd&lt;span style="color:#e6db74"&gt;}&lt;/span&gt;&lt;span style="color:#e6db74"&gt; \&amp;#34;\$@\&amp;#34;; }&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#66d9ef"&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#66d9ef"&gt;fi&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The keys are loaded via &lt;code&gt;llm keys get&lt;/code&gt;. This is not secure, but it is practical.
A more secure approach would be to read the credentials directly from a password
manager. This trade-off is acceptable in the environment I am currently
operating on, but I would not recommend it as an universal approach.&lt;/p&gt;
&lt;p&gt;A temporary &lt;code&gt;_load_api_keys&lt;/code&gt; shell function is defined. The first time it is
executed, it &lt;code&gt;export&lt;/code&gt;s each one of the LLM API keys. From the second time
onwards it will be a no-op, thanks to &lt;code&gt;:&lt;/code&gt;. In bash/zsh we can redefine a
function from within itself thanks to dynamic scoping. Wild.&lt;/p&gt;
&lt;p&gt;Last but not least: I wrapped up (&amp;ldquo;decorated&amp;rdquo; in function parlance) all
LLM-related commands with a shell function that runs &lt;code&gt;_load_api_keys&lt;/code&gt; before
invoking the original command.&lt;/p&gt;
&lt;p&gt;This approach is elegant and easy to maintain.&lt;/p&gt;
&lt;p&gt;My initial implementation had been more fine-grained: &lt;code&gt;ANTHROPIC_API_KEY&lt;/code&gt; would
drive &lt;code&gt;claude&lt;/code&gt;, &lt;code&gt;llm&lt;/code&gt; and &lt;code&gt;aider&lt;/code&gt;, but not &lt;code&gt;gemini&lt;/code&gt; and &lt;code&gt;codex&lt;/code&gt;, and so on.
Ultimately I decided that the additional complexity of mapping individual
providers optimally is not warranted.&lt;/p&gt;
&lt;p&gt;Why is this memoization necessary in the first place?&lt;/p&gt;
&lt;p&gt;My shell (&lt;code&gt;zsh&lt;/code&gt;) startup was significantly slow before this change,
&lt;code&gt;O(seconds)&lt;/code&gt;. Each call to &lt;code&gt;llm keys get&lt;/code&gt; takes about half a second in my
machine. I do not think it&amp;rsquo;s acceptable to wait for 2s before having your shell
readily available with a prompt.&lt;/p&gt;
&lt;p&gt;Before this approach, I had used
&lt;a href="https://github.com/romkatv/zsh-defer"&gt;&lt;code&gt;zsh-defer&lt;/code&gt;&lt;/a&gt; to delay populating the API
keys. However, this has only &lt;em&gt;deferred&lt;/em&gt; (&lt;em&gt;cof&lt;/em&gt;) my problems. The startup delay
was still noticeable.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Shell memoization: lazy-load LLM API keys"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: paste in images</title><link>https://perrotta.dev/2025/10/claude-code-paste-in-images/</link><pubDate>Wed, 29 Oct 2025 16:37:57 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-paste-in-images/</guid><description>&lt;p&gt;&lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; supports images as
input.&lt;/p&gt;
&lt;p&gt;Absolutely incredible; considering that it is a TUI, one would usually not
expect the ability to do so.&lt;/p&gt;
&lt;p&gt;Copy the image to your clipboard as usual, and then paste it in with &lt;code&gt;Ctrl + V&lt;/code&gt;,
as you would in any GUI app:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚ñê‚ñõ‚ñà‚ñà‚ñà‚ñú‚ñå Claude Code v2.0.28
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ñù‚ñú‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ‚ñò Sonnet 4.5 ¬∑ API Usage Billing
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚ñò‚ñò ‚ñù‚ñù /Users/thiago.perrotta/corp/gitops
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; Document in the @README.md how to use the argocd CLI with our setup.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[Image #1][Image #2]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚éø Read README.md (937 lines)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ I&amp;#39;ll add comprehensive ArgoCD CLI documentation to the README. Let me examine the current structure
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; and add a new section after the User Management section.&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: paste in images"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>MCP: model context protocol considered harmful</title><link>https://perrotta.dev/2025/10/mcp-model-context-protocol-considered-harmful/</link><pubDate>Fri, 17 Oct 2025 13:07:03 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/10/mcp-model-context-protocol-considered-harmful/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I configured my &lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;
instance at work to include exactly 3 MCP servers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;github&lt;/li&gt;
&lt;li&gt;playwright (browser automation / testing)&lt;/li&gt;
&lt;li&gt;atlassian (JIRA, Confluence, etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sensible, right? It&amp;rsquo;s not like I&amp;rsquo;m a heavy user of MCPs. I mostly care about:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PR introspection / creation&lt;/li&gt;
&lt;li&gt;occasional unit / integration testing in the browser&lt;/li&gt;
&lt;li&gt;JIRA (read access)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I didn&amp;rsquo;t even have the opportunity to add an MCP for Docker or Kubernetes yet.&lt;/p&gt;
&lt;p&gt;And yet:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; /context
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚éø
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Context Usage
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ claude-sonnet-4-5-20250929 ¬∑ 133k/200k tokens (67%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ System prompt: 2.5k tokens (1.2%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÅ System tools: 13.8k tokens (6.9%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õÅ ‚õÅ ‚õÅ ‚õÅ ‚õÄ ‚õÄ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õÅ MCP tools: 71.7k tokens (35.9%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õÅ Custom agents: 209 tokens (0.1%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õÅ Messages: 8 tokens (0.0%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õ∂ ‚õù ‚õù ‚õù ‚õ∂ Free space: 67k (33.4%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù Autocompact buffer: 45.0k tokens (22.5%)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù ‚õù
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; MCP tools ¬∑ /mcp
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_close (playwright): 573 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_resize (playwright): 622 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_console_messages (playwright): 595 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_handle_dialog (playwright): 626 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_evaluate (playwright): 671 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_file_upload (playwright): 626 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_fill_form (playwright): 776 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_install (playwright): 591 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_press_key (playwright): 620 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_type (playwright): 728 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_navigate (playwright): 598 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_navigate_back (playwright): 578 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_network_requests (playwright): 580 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_take_screenshot (playwright): 826 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_snapshot (playwright): 584 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_click (playwright): 753 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_drag (playwright): 709 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_hover (playwright): 636 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_select_option (playwright): 684 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_tabs (playwright): 652 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__playwright__browser_wait_for (playwright): 650 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__atlassianUserInfo (atlassian): 583 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getAccessibleAtlassianResources (atlassian): 592 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getConfluenceSpaces (atlassian): 1.1k tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getConfluencePage (atlassian): 830 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getPagesInConfluenceSpace (atlassian): 975 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getConfluencePageFooterComments (atlassian): 873 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getConfluencePageInlineComments (atlassian): 905 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getConfluencePageDescendants (atlassian): 799 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__createConfluencePage (atlassian): 895 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__updateConfluencePage (atlassian): 911 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__createConfluenceFooterComment (atlassian): 834 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__createConfluenceInlineComment (atlassian): 1.0k tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__searchConfluenceUsingCql (atlassian): 911 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getJiraIssue (atlassian): 869 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__editJiraIssue (atlassian): 803 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__createJiraIssue (atlassian): 1.2k tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getTransitionsForJiraIssue (atlassian): 857 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__transitionJiraIssue (atlassian): 1.3k tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__lookupJiraAccountId (atlassian): 708 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__searchJiraIssuesUsingJql (atlassian): 856 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__addCommentToJiraIssue (atlassian): 913 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getJiraIssueRemoteIssueLinks (atlassian): 919 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getVisibleJiraProjects (atlassian): 943 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getJiraProjectIssueTypesMetadata (atlassian): 794 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__getJiraIssueTypeMetaWithFields (atlassian): 777 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__search (atlassian): 640 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__atlassian__fetch (atlassian): 685 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__add_comment_to_pending_review (github): 914 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__add_issue_comment (github): 644 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__add_sub_issue (github): 701 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__assign_copilot_to_issue (github): 724 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_and_submit_pull_request_review (github): 708 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_branch (github): 638 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_issue (github): 732 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_or_update_file (github): 768 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_pending_pull_request_review (github): 698 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_pull_request (github): 719 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__create_repository (github): 661 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__delete_file (github): 664 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__delete_pending_pull_request_review (github): 650 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__fork_repository (github): 613 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_commit (github): 728 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_file_contents (github): 717 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_issue (github): 627 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_issue_comments (github): 690 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_label (github): 616 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_latest_release (github): 594 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_me (github): 576 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_release_by_tag (github): 634 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_tag (github): 615 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_team_members (github): 616 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__get_teams (github): 589 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_branches (github): 660 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_commits (github): 773 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_issue_types (github): 580 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_issues (github): 886 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_label (github): 637 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_pull_requests (github): 821 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_releases (github): 660 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_sub_issues (github): 677 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__list_tags (github): 661 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__merge_pull_request (github): 695 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__pull_request_read (github): 879 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__push_files (github): 739 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__remove_sub_issue (github): 671 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__reprioritize_sub_issue (github): 768 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__request_copilot_review (github): 640 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__search_code (github): 777 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__search_issues (github): 824 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__search_pull_requests (github): 830 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__search_repositories (github): 817 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__search_users (github): 760 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__submit_pending_pull_request_review (github): 719 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__update_issue (github): 852 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__update_pull_request (github): 786 tokens
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îî mcp__github__update_pull_request_branch (github): 655 tokens&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The Sonnet 4 model has a context window of 200k tokens.&lt;/p&gt;
&lt;p&gt;These 3 MCP servers, alone, consume about one third of them. &lt;strong&gt;36%&lt;/strong&gt;!&lt;/p&gt;
&lt;p&gt;If you account for system tools + the system prompt in the mix, practically half
of the total available context window is already gone.&lt;/p&gt;
&lt;p&gt;MCP tool definitions are wasteful, taking valuable &lt;del&gt;real&lt;/del&gt; virtual estate,
distracting the model, increasing overall costs.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://i.imgflip.com/a9djwa.jpg" alt="south park agent context window aaaand it&amp;rsquo;s gone"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;As &lt;a href="https://simonwillison.net/2025/Oct/14/agentic-engineering/"&gt;Simon Willison&lt;/a&gt;
already noted from &lt;a href="https://steipete.me/posts/just-talk-to-it"&gt;Peter Steinberger&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;He shares my preference for CLI utilities over MCPs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I can just refer to a cli by name. I don&amp;rsquo;t need any explanation in my agents
file. The agent will try $randomcrap on the first call, the cli will present
the help menu, context now has full info how this works and from now on we
good. I don&amp;rsquo;t have to pay a price for any tools, unlike MCPs which are a
constant cost and garbage in my context. Use GitHub&amp;rsquo;s MCP and see 23k tokens
gone. Heck, they did make it better because it was almost 50.000 tokens when
it first launched. Or use the gh cli which has basically the same feature
set, models already know how to use it, and pay zero context tax.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;To me this feels comparable to using a full-blown desktop environment in Linux
Desktop versus rolling your tiling window manager and building from scratch
an environment tailored to your own needs.&lt;/p&gt;
&lt;p&gt;Stay safe from the bloat out there.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update(2025-10-18)&lt;/strong&gt;: See also &lt;a href="https://simonwillison.net/2025/Oct/16/claude-skills/#skills-compared-to-mcp"&gt;Skills c:ompared to
MCP&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: MCP: model context protocol considered harmful"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude Code: adding my first MCP server</title><link>https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/</link><pubDate>Wed, 08 Oct 2025 00:31:31 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/</guid><description>&lt;p&gt;Lovely readers, I promise this is not turning into an AI blog&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. I am merely
documenting my baby steps.&lt;/p&gt;
&lt;p&gt;I use JIRA all the time. It&amp;rsquo;s our &lt;del&gt;bug&lt;/del&gt;&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; issue tracker of choice.&lt;/p&gt;
&lt;p&gt;And, now that I am slowly incorporating Claude Code in my daily workflow for git
commits and pull requests, it only feels natural to connect JIRA to it, even if
only for the sake of retrieving information from existing tickets and/or adding
context to PRs.&lt;/p&gt;
&lt;p&gt;So here we go.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.claude.com/en/docs/claude-code/mcp"&gt;From the Anthropic documentation&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Atlassian&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Manage your Jira tickets and Confluence docs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% cd &amp;lt;gitops project&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Added SSE MCP server atlassian with URL: https://mcp.atlassian.com/v1/sse to local config
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;File modified: /Users/thiago.perrotta/.claude.json &lt;span style="color:#f92672"&gt;[&lt;/span&gt;project: /Users/thiago.perrotta/gitops&lt;span style="color:#f92672"&gt;]&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://docs.claude.com/en/docs/claude-code/mcp#option-2%3A-add-a-remote-sse-server"&gt;SSE&lt;/a&gt; stands for &amp;ldquo;Server-Side Events&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SSE (Server-Sent Events) servers provide real-time streaming connections. Many
cloud services use this for live updates.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That command is idempotent:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;MCP server atlassian already exists in local config&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;What if I want to have it available for all projects? Use &lt;code&gt;--scope user&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude mcp add --scope user --transport sse atlassian https://mcp.atlassian.com/v1/sse
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Added SSE MCP server atlassian with URL: https://mcp.atlassian.com/v1/sse to user config
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;File modified: /Users/thiago.perrotta/.claude.json&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The modification to &lt;code&gt;~/.claude.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#960050;background-color:#1e0010"&gt;[...]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;mcpServers&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;atlassian&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;sse&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;url&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;https://mcp.atlassian.com/v1/sse&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; }
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;So far so good. However no auth config was supplied yet.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; /mcp
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Manage MCP servers
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ 1. atlassian ‚ñ≥ disconnected ¬∑ Enter to login&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;After pressing Enter and authenticating against our JIRA instance in a web
browser:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude mcp list
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Checking MCP server health...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;atlassian: https://mcp.atlassian.com/v1/sse &lt;span style="color:#f92672"&gt;(&lt;/span&gt;SSE&lt;span style="color:#f92672"&gt;)&lt;/span&gt; - ‚úì Connected
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude mcp get atlassian
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;atlassian:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Scope: User config &lt;span style="color:#f92672"&gt;(&lt;/span&gt;available in all your projects&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Status: ‚úì Connected
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Type: sse
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; URL: https://mcp.atlassian.com/v1/sse
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;To remove this server, run: claude mcp remove &lt;span style="color:#e6db74"&gt;&amp;#34;atlassian&amp;#34;&lt;/span&gt; -s user&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; /mcp
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Atlassian MCP Server
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Status: ‚úî connected ‚úî authenticated
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;URL: https://mcp.atlassian.com/v1/sse
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Config location: /Users/thiago.perrotta/.claude.json [project: /Users/thiago.perrotta/gitops]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Capabilities: tools
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Tools: 27 tools
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ 1. View tools
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. Re-authenticate
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. Clear authentication
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 4. Reconnect
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 5. Disable&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Tools for atlassian (27 tools)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ 1. Get current user information read-only
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. List accessible resources read-only
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. List Confluence spaces read-only
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 4. Retrieve Confluence page read-only
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚Üì 5. List space pages read-only&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Let&amp;rsquo;s say I want to call the &amp;ldquo;Get current user information&amp;rdquo; tool.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Get current user information (atlassian) [read-only]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Tool name: atlassianUserInfo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Full name: mcp__atlassian__atlassianUserInfo
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Description:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Get current user info from Atlassian&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Just describe it in natural language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;current user in JIRA&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;gt; current user in JIRA
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚éø {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;account_id&amp;#34;: &amp;#34;{redacted}&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &amp;#34;email&amp;#34;: &amp;#34;{redacted}&amp;#34;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚Ä¶ +22 lines (ctrl+o to expand)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ Thiago Perrotta
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Email: {redacted}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Account ID: {redacted}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Role: {redacted}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Department: {redacted}
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; - Location: {redacted}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Then I tried basic CRUD operations in natural language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;create an issue&amp;rdquo; - create: followed by further prompts with issue details ‚úÖ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;transition the issue to won&amp;rsquo;t do&amp;rdquo; ‚Äì update / delete ‚úÖ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;find an issue related to foo deployment in cluster bar&amp;rdquo;) ‚Äì read ‚úÖ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Everything worked successfully.&lt;/p&gt;
&lt;p&gt;I also tried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt; (plan mode on, thinking enabled): Propose a way to handle https://{corp}.atlassian.net/browse/INFRA-12528.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;‚è∫ I&amp;rsquo;ll fetch the details of the Jira issue to understand what needs to be handled.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I feel this will be quite useful from now on!&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;For now?!?&amp;#160;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;I blame &lt;em&gt;Google&lt;/em&gt;, the corporation, for getting me accustomed to saying
&amp;ldquo;file a bug&amp;rdquo; and &amp;ldquo;bug tracker&amp;rdquo;. Not every ticket is a bug. Atlassian is
trying to shovel the &amp;ldquo;work item&amp;rdquo; term onto us, but &amp;ldquo;issue&amp;rdquo; is the
appropriate concept.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: adding my first MCP server"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ claude code: custom commands</title><link>https://perrotta.dev/2025/10/claude-code-custom-commands/</link><pubDate>Mon, 06 Oct 2025 17:31:30 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-custom-commands/</guid><description>&lt;p&gt;&lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; supports &lt;a href="https://docs.claude.com/en/docs/claude-code/slash-commands#custom-slash-commands"&gt;custom commands&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The precise term is &amp;ldquo;custom slash commands&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Custom slash commands allow you to define frequently-used prompts as Markdown
files that Claude Code can execute. Commands are organized by scope
(project-specific or personal) and support namespacing through directory
structures.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I created my first custom slash command:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% cat ~/.claude/commands/send-pr.md
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;You are a world-class software developer who can write concise and descriptive
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;pull requests &lt;span style="color:#f92672"&gt;(&lt;/span&gt;PRs&lt;span style="color:#f92672"&gt;)&lt;/span&gt;.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Sources of inspiration include:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- Daniel Stenberg &lt;span style="color:#f92672"&gt;(&lt;/span&gt;curl&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- Junio Hamano &lt;span style="color:#f92672"&gt;(&lt;/span&gt;git&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;- Linus Torvalds &lt;span style="color:#f92672"&gt;(&lt;/span&gt;linux&lt;span style="color:#f92672"&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Send out a PR&lt;span style="color:#f92672"&gt;[&lt;/span&gt;1&lt;span style="color:#f92672"&gt;]&lt;/span&gt; corresponding to the current branch.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;If there&lt;span style="color:#e6db74"&gt;&amp;#39;s a .github/PULL_REQUEST_TEMPLATE.md file, use it as template.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;If the current branch is &amp;#39;&lt;/span&gt;main&lt;span style="color:#e6db74"&gt;&amp;#39; or &amp;#39;&lt;/span&gt;master&lt;span style="color:#e6db74"&gt;&amp;#39;, create a local branch first.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;The branch name should be prefixed by my github username[2] and a slash.
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[1]: &amp;#39;&lt;/span&gt;gh pr create&lt;span style="color:#e6db74"&gt;&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;[2]: &amp;#39;&lt;/span&gt;gh api user --jq .login&lt;span style="color:#960050;background-color:#1e0010"&gt;&amp;#39;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It can be &amp;ldquo;executed&amp;rdquo; with &lt;code&gt;/send-pr&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Execution&amp;rdquo; is merely &amp;ldquo;sending the prompt&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s akin to a snippet expander. Arguably one could do the same by setting a
&lt;code&gt;:send-pr&lt;/code&gt; snippet on e.g. &lt;a href="https://espanso.org/"&gt;Espanso&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Perhaps it is even better, as it would work with all CLI agents ‚Äì not only
Claude Code. Well, we keep on experimenting.&lt;/p&gt;
&lt;p&gt;Reusable custom slash commands will be shared in my &lt;a href="https://github.com/thiagowfx/.dotfiles/tree/master/claude/.claude/commands"&gt;.dotfiles&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude code: custom commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude Code: cheatsheet</title><link>https://perrotta.dev/2025/10/claude-code-cheatsheet/</link><pubDate>Wed, 01 Oct 2025 20:03:54 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-cheatsheet/</guid><description>&lt;p&gt;A brain dump as of Oct 1st, 2025 of my head, all things &lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="keyboard-shortcuts"&gt;Keyboard shortcuts&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Shift+Tab&lt;/code&gt; to cycle through: &amp;ldquo;default&amp;rdquo; -&amp;gt; &amp;ldquo;‚èµ‚èµ accept edits on&amp;rdquo; -&amp;gt; &amp;ldquo;‚è∏ plan mode on&amp;rdquo;
&lt;ul&gt;
&lt;li&gt;&amp;ldquo;‚èµ‚èµ Accept edits on&amp;rdquo; is a comfortable mode to be on by default, especially
when paired with git commits as checkpoints.&lt;/li&gt;
&lt;li&gt;A well-curated tool whitelist (c.f. &lt;code&gt;~/.claude/settings.json&lt;/code&gt;) can further
enhance this mode.&lt;/li&gt;
&lt;li&gt;&amp;ldquo;‚èµ‚èµ Accept edits on&amp;rdquo; is not the same as &lt;code&gt;--dangerously-skip-permissions&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Bypass all permission checks. Recommended only for sandboxes with no internet access.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Tab&lt;/code&gt; to toggle &amp;ldquo;Thinking on&amp;rdquo; / &amp;ldquo;Thinking off&amp;rdquo;
&lt;ul&gt;
&lt;li&gt;This is a brand new feature in &lt;a href="https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously"&gt;Claude Code 2.0&lt;/a&gt;, just released this week.
Hence I haven&amp;rsquo;t used it so far. Toggling the plan mode is typically enough
for my needs.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Esc Esc&lt;/code&gt; to clear input / &lt;code&gt;/rewind&lt;/code&gt; to a previous checkpoint
&lt;ul&gt;
&lt;li&gt;I prefer to &amp;ldquo;manually steer / tune&amp;rdquo; the LLM. Learn from past mistakes!&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-r&lt;/code&gt; to search previous prompts ‚Äì similarly to &lt;code&gt;bash&lt;/code&gt; / &lt;code&gt;zsh&lt;/code&gt; shell
history&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!&lt;/code&gt; for shell mode e.g. &lt;code&gt;! ls&lt;/code&gt; or &lt;code&gt;! git commit -a -m &amp;quot;msg&amp;quot;&lt;/code&gt;. Good for
one-offs.
&lt;ul&gt;
&lt;li&gt;Alternatively, simply open a new shell tab / split / window.&lt;/li&gt;
&lt;li&gt;Alternatively, suspend Claude with &lt;code&gt;Ctrl-z&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Claude Code has been suspended. Run `fg` to bring Claude Code back.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Note: ctrl + z now suspends Claude Code, ctrl + _ undoes input.
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[1] + 78756 suspended (signal) claude&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/&lt;/code&gt; for commands ‚Äì TAB completion is available.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@&lt;/code&gt; for file paths e.g. &lt;code&gt;@README.md&lt;/code&gt; or &lt;code&gt;@.env&lt;/code&gt; ‚Äì TAB completion is supported
&lt;ul&gt;
&lt;li&gt;Use &lt;code&gt;@&lt;/code&gt; to provide targeted context in prompts, for example: &lt;code&gt;Upgrade @main.go to incorporate logging. Follow a pattern similar to @vendor/main.go. Update @README.md afterwards&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt; to memorize (a.k.a. &amp;ldquo;add to memory&amp;rdquo;)
&lt;ul&gt;
&lt;li&gt;I don&amp;rsquo;t use this shortcut much. Instead, prefer editing &lt;code&gt;CLAUDE.md&lt;/code&gt; directly
for pristine, per-repo settings. This is comparable to having a local, per
git repo &lt;code&gt;.gitignore&lt;/code&gt; versus a &lt;code&gt;~/.gitignore_global&lt;/code&gt; that affects all
repositories.&lt;/li&gt;
&lt;li&gt;Project memory lives in &lt;code&gt;CLAUDE.md&lt;/code&gt;, user memory lives in
&lt;code&gt;~/.claude/CLAUDE.md&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-o&lt;/code&gt; for verbose output&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-t&lt;/code&gt; to show TODOs&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Shift+Enter&lt;/code&gt; for newline (&lt;code&gt;\n&lt;/code&gt;); pre-requisite: &lt;code&gt;/terminal-setup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Emacs / readline keybindings generally work for text navigation: &lt;code&gt;C-a&lt;/code&gt;, &lt;code&gt;C-e&lt;/code&gt;,
&lt;code&gt;C-b&lt;/code&gt;, &lt;code&gt;C-f&lt;/code&gt;, &lt;code&gt;C-u&lt;/code&gt;, &lt;code&gt;C-p&lt;/code&gt;, &lt;code&gt;C-n&lt;/code&gt;, &lt;code&gt;C-w&lt;/code&gt;. There&amp;rsquo;s also a vim mode that can be
toggled with &lt;code&gt;/vim&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Gripe&lt;/strong&gt;: &lt;code&gt;Ctrl-l&lt;/code&gt; does not clear the screen. And neither does &lt;code&gt;Esc Esc&lt;/code&gt;.
Surely someone has already filed a feature request for this? There&amp;rsquo;s a
&lt;code&gt;/clear&lt;/code&gt; command, but it is meant to clear history and free up context, which
is totally different.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-_&lt;/code&gt; to undo. I prefer &lt;code&gt;C-w&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Gripe&lt;/strong&gt;: It hard-codes mentioning &amp;ldquo;bash&amp;rdquo; in various places, instead of
&amp;ldquo;shell&amp;rdquo;. &lt;code&gt;bash&lt;/code&gt; is not the only POSIX shell out there. Heck, there&amp;rsquo;s even a
&lt;code&gt;/bashes&lt;/code&gt; command to list and manage background tasks.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Esc&lt;/code&gt; to interrupt (think of &lt;code&gt;C-g&lt;/code&gt; on Emacs).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most of the above reference can be pulled up with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; for help&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A few handy comments not previously mentioned:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/cost&lt;/code&gt;: show total cost + duration of the current session
&lt;ul&gt;
&lt;li&gt;See also: &lt;a href="https://perrotta.dev/2025/09/claude-ccusage/"&gt;ccusage&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/export&lt;/code&gt;: copy the current conversation to the clipboard, or export it to a
file&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/init&lt;/code&gt;: to bootstrap and scaffold / populate &lt;code&gt;CLAUDE.md&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mcp&lt;/code&gt; to manage MCP servers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/resume&lt;/code&gt;: resume a (previous) conversation.
&lt;ul&gt;
&lt;li&gt;Alternatively, launch &lt;code&gt;claude&lt;/code&gt; with &lt;a href="https://perrotta.dev/2025/09/claude--resume/"&gt;&lt;code&gt;--resume&lt;/code&gt;&lt;/a&gt; in the desired CWD.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="settings"&gt;Settings&lt;/h2&gt;
&lt;p&gt;My &lt;code&gt;~/.claude/settings.json&lt;/code&gt; at the time of this post:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;env&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;CLAUDE_CODE_ENABLE_TELEMETRY&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;permissions&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;allow&amp;#34;&lt;/span&gt;: [
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(ansible-doc:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(command -v:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(fd:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(find:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(gh pr diff:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(gh pr list:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(gh pr review-comment list:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(gh pr view:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(grep:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(hadolint:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(helm template:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(ls:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(rg:*)&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#e6db74"&gt;&amp;#34;Bash(yamllint:*)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ]
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;statusLine&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;type&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;command&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;command&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;bash ~/.claude/statusline.sh&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; },
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;alwaysThinkingEnabled&amp;#34;&lt;/span&gt;: &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;span style="color:#960050;background-color:#1e0010"&gt;%&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;no telemetry (privacy!)&lt;/li&gt;
&lt;li&gt;allow a couple of often used tools (utilities), especially read-only ones&lt;/li&gt;
&lt;li&gt;add a simple status line; originally scaffolded with &lt;code&gt;/statusline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;do not always think (it&amp;rsquo;s slow &amp;amp; expensive!)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;settings.json&lt;/code&gt; and &lt;code&gt;statusline.sh&lt;/code&gt; are both in my
&lt;a href="https://github.com/thiagowfx/.dotfiles"&gt;dotfiles&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: cheatsheet"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>An ordinary day with Claude</title><link>https://perrotta.dev/2025/09/an-ordinary-day-with-claude/</link><pubDate>Wed, 24 Sep 2025 13:34:58 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/09/an-ordinary-day-with-claude/</guid><description>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Thiago&lt;/strong&gt;: make the same change &lt;a href="https://github.com/%7Borg%7D/%7Brepo2%7D/pull/5385"&gt;https://github.com/{org}/{repo2}/pull/5385&lt;/a&gt; in this repo&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: I&amp;rsquo;ll help you apply the same changes from the {repo} PR to this repo. Let me first fetch the PR details to understand what changes need to be made.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ Fetch(https://github.com/{org}/{repo}/pull/5385)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚éø Error: Request failed with status code 404&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: Let me try using the GitHub CLI to get the PR information:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Bash(gh pr view 5385 --repo {org}/{repo} --json title,body,files)&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;A clever idea! And it works.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Thiago&lt;/strong&gt;: make the same change &lt;a href="https://github.com/%7Borg%7D/%7Brepo3%7D/pull/5385"&gt;https://github.com/{org}/{repo3}/pull/5385&lt;/a&gt; in this repo&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: I&amp;rsquo;ll help you apply the same change from the {repo} PR to this repo. Let me first fetch the PR details to understand what changes need to be made.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚è∫ Fetch(https://github.com/{org}/{repo}/pull/5385)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚éø Error: Request failed with status code 404&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: The PR link returns a 404 error, which means it might be a private repository or the PR doesn&amp;rsquo;t exist. Could you please provide:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The specific changes that were made in that PR, or&lt;/li&gt;
&lt;li&gt;A description of what changes you&amp;rsquo;d like me to apply to this repo, or&lt;/li&gt;
&lt;li&gt;Access to view the PR if it&amp;rsquo;s in a private repository&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: This will help me understand exactly what modifications you need me to make in this repository.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Poor Claude is overworked and needs to sleep and dream of electric sheep&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/09/an-ordinary-day-with-claude/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Seriously: it was exactly the same prompt, a few minutes apart from each
other. Is it so hard to achieve determinism and reproducibility?&amp;#160;&lt;a href="https://perrotta.dev/2025/09/an-ordinary-day-with-claude/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: An ordinary day with Claude"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude: compact context</title><link>https://perrotta.dev/2025/09/claude-compact-context/</link><pubDate>Thu, 04 Sep 2025 15:00:57 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/09/claude-compact-context/</guid><description>&lt;p&gt;These days, Claude Code warns you when you&amp;rsquo;re running &lt;a href="https://claudelog.com/faqs/what-is-claude-code-auto-compact/"&gt;out of
context&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Context left until auto-compact: 5%&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;How Auto-Compact Works&lt;/p&gt;
&lt;p&gt;When your conversation approaches the context window limit, Claude Code
automatically:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Analyzes the conversation to identify key information worth preserving&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Creates a concise summary of previous interactions, decisions, and code
changes&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start="3"&gt;
&lt;li&gt;Compacts the conversation by replacing old messages with the summary&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start="4"&gt;
&lt;li&gt;Continues seamlessly with the preserved context&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s possible to run &lt;code&gt;/compact&lt;/code&gt; manually to compact the context sooner&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/09/claude-compact-context/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Let the machine do the garbage collection though! Why would you bother to
do so manually?&amp;#160;&lt;a href="https://perrotta.dev/2025/09/claude-compact-context/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude: compact context"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude: ccusage</title><link>https://perrotta.dev/2025/09/claude-ccusage/</link><pubDate>Thu, 04 Sep 2025 14:55:15 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/09/claude-ccusage/</guid><description>&lt;p&gt;&lt;a href="https://github.com/ryoppippi/ccusage"&gt;&lt;code&gt;ccusage&lt;/code&gt;&lt;/a&gt; via &lt;a href="https://simonwillison.net/2025/Jul/14/ccusage/"&gt;Simon
Willison&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Claude Code logs detailed usage information to the &lt;code&gt;~/.claude/&lt;/code&gt; directory.
&lt;code&gt;ccusage&lt;/code&gt; is a neat little Node.js tool which reads that information and shows
you a readable summary of your usage patterns, including the estimated cost in
USD per day.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;A CLI tool for analyzing Claude Code usage from local JSONL files.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Usage&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% npx ccusage@latest
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Need to install the following packages:
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;ccusage@16.2.3
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;Ok to proceed? (y)
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; WARN Fetching latest model pricing from LiteLLM...
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚Ñπ Loaded pricing for 1544 models
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îÇ ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îÇ Claude Code Token Usage Report - Daily ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚îÇ ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; ‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ Date ‚îÇ Models ‚îÇ Input ‚îÇ Output ‚îÇ Cache Create ‚îÇ Cache Read ‚îÇ Total Tokens ‚îÇ Cost (USD) ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ 2025-08-05 ‚îÇ - sonnet-4 ‚îÇ 896 ‚îÇ 30,430 ‚îÇ 303,782 ‚îÇ 7,232,685 ‚îÇ 7,567,793 ‚îÇ $3.77 ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ 2025-08-11 ‚îÇ - sonnet-4 ‚îÇ 58 ‚îÇ 5,870 ‚îÇ 83,682 ‚îÇ 1,024,297 ‚îÇ 1,113,907 ‚îÇ $0.71 ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚îÇ 2025-08-12 ‚îÇ - sonnet-4 ‚îÇ 42 ‚îÇ 6,758 ‚îÇ 116,661 ‚îÇ 777,241 ‚îÇ 900,702 ‚îÇ $0.77 ‚îÇ
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;[...]&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Neat!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude: ccusage"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude --resume</title><link>https://perrotta.dev/2025/09/claude--resume/</link><pubDate>Tue, 02 Sep 2025 14:12:07 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/09/claude--resume/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: when working with &lt;a href="https://www.anthropic.com/claude-code"&gt;&lt;code&gt;Claude Code&lt;/code&gt;&lt;/a&gt;, how to resume a session after
terminating the &lt;code&gt;claude&lt;/code&gt; process?&lt;/p&gt;
&lt;p&gt;Of course we could simply prompt the LLM agent again, but that is both (i) slow
and (ii) expensive. And I do not want to get into the intricacies of &lt;a href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching"&gt;prompt
caching&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The ability to &lt;a href="https://github.com/anthropics/claude-code/issues/371"&gt;resume old
sessions&lt;/a&gt; was recently
added. The tool has great defaults: by default, you see only sessions pertaining
to the directory you&amp;rsquo;re working on.&lt;/p&gt;
&lt;p&gt;For example, when I run it in my blog directory:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude --resume
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Modified Created # Messages Git Branch Summary
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ 1. 1 week ago 1 week ago 148 master I would like to create a second RSS feed, for...‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. 1 week ago 1 week ago 113 master Ensure images respect the page width and do n...‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. 1 week ago 1 week ago 31 master Update XSLT. By: should be properly linkified‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 4. 1 week ago 1 week ago 12 master Add space after By: and Published: in the XSL...‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 5. 1 week ago 1 week ago 20 master Hugo XML Link Syntax Troubleshooting‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 6. 1 week ago 1 week ago 119 rss Create a XSLT for my RSS feed (this is a hugo...‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 7. 1 week ago 1 week ago 42 rss Hugo RSS XSLT Theme Styling and Design Match‚Ä¶&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;When I run it from another directory:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% claude --resume
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; Modified Created # Messages Git Branch Summary
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;‚ùØ 1. 4m ago 8m ago 14 thiagowfx/miss Print out the dates in YYYY-MM-DD form in the...‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 2. 5m ago 12m ago 78 thiagowfx/miss Angular Date Filter Component Implementation‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 3. 14m ago 22m ago 78 thiagowfx/miss Do not allow whitespace in instance names in ...‚Ä¶
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; 4. 22m ago 46m ago 191 thiagowfx/miss Whitespace Trim Testing: Comprehensive React Unit Suite‚Ä¶&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude --resume"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Our most powerful model yet</title><link>https://perrotta.dev/2025/05/our-most-powerful-model-yet/</link><pubDate>Sat, 24 May 2025 20:05:20 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2025/05/our-most-powerful-model-yet/</guid><description>&lt;p&gt;&lt;em&gt;Add quotation marks to the title&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Google&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Try out Gemini 2.5 Pro (Preview), our most powerful model yet.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;User&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;How many Rs in RaspBerry?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Model&lt;/strong&gt;:&lt;/p&gt;
&lt;p&gt;Thinking:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Interpreting the user&amp;rsquo;s intent&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m currently focused on dissecting the user&amp;rsquo;s query. The unconventional
capitalization in &amp;ldquo;RaspBerry&amp;rdquo; has piqued my interest. I&amp;rsquo;m wondering if there&amp;rsquo;s
a specific reason for this. Perhaps it&amp;rsquo;s a stylistic choice, or it could
subtly influence the desired outcome.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Determining the final answer&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Now that I&amp;rsquo;ve analyzed the query, and determined the intended word, I&amp;rsquo;ve
confirmed the spelling is r-a-s-p-b-e-r-r-y. I&amp;rsquo;ve conducted the letter count
and it&amp;rsquo;s clear there are three &amp;lsquo;R&amp;rsquo;s in total. I&amp;rsquo;m formulating the answer,
keeping in mind the unusual capitalization but leaning towards simplicity.
Since the question is about an entity, the answer is three.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Output:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Even with the capitalization as &amp;ldquo;RaspBerry,&amp;rdquo; there are still two Rs in the word.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s break it down:&lt;/p&gt;
&lt;p&gt;R-a-s-p-B-e-r-r-y&lt;/p&gt;
&lt;p&gt;The capitalization doesn&amp;rsquo;t change the letters that make up the word.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Despite using chain-of-thought (&amp;ldquo;thinking mode&amp;rdquo;) and correctly getting the right
answer (&lt;strong&gt;three&lt;/strong&gt;) ‚Äì a significant improvement compared to previous models ‚Äì the
final answer is still &lt;strong&gt;two&lt;/strong&gt;. The &amp;ldquo;thinking&amp;rdquo; part is hidden from the user by
default.&lt;/p&gt;
&lt;p&gt;If I do an exam in university and produce an incorrect final answer, despite
giving a correct answer in the middle (whilst babbling my reasoning), my final
grade is &lt;strong&gt;zero&lt;/strong&gt;. Just saying.&lt;/p&gt;
&lt;p&gt;Yes, I know how an LLM works (next token prediction, tokenizer, et cetera) but
we&amp;rsquo;re in 2025 and this is a thinking model, aggressively marketed and shoveled
everywhere, even when unprompted (pun intended). To say it does not meet
expectations is an understatement.&lt;/p&gt;
&lt;p&gt;For comparison: &lt;a href="https://chatgpt.com/share/68320d74-9310-8009-874c-adde37eeb810"&gt;OpenAI /
ChatGPT&lt;/a&gt; gets it
right. They don&amp;rsquo;t make it clear which model that is though.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Our most powerful model yet"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>ChatGPT default settings</title><link>https://perrotta.dev/2025/05/chatgpt-default-settings/</link><pubDate>Sun, 18 May 2025 19:31:16 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>privacy</category><guid>https://perrotta.dev/2025/05/chatgpt-default-settings/</guid><description>&lt;p&gt;&lt;a href="https://onlinesafety.substack.com/p/chatgpt-critical-privacy-settings"&gt;ChatGPT&amp;rsquo;s Privacy Trap: Default Settings You Can&amp;rsquo;t Ignore&lt;/a&gt; by Tate Jarrow:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;ChatGPT is not safe to use out of the box! The default settings almost
certainly compromise your privacy because your chats (that likely contain
personal or sensitive information) are used to train OpenAI&amp;rsquo;s models, are
reviewed by humans, and can be used to identify you uniquely.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;However, if you are using ChatGPT and haven&amp;rsquo;t updated your privacy options,
all the data you enter can be used to train its model (and therefore is no
longer private). This means that if you upload anything personal or sensitive,
like a resume, work material, vacation plans, or anything else, OpenAI can
access and use it. Additionally, OpenAI uses human review, so your data can
also be reviewed and accessed by people. More information on how OpenAI
handles your content is available here.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Tate recommends:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;turn off model improvement&lt;/li&gt;
&lt;li&gt;use temporary chats&lt;/li&gt;
&lt;li&gt;submit a &amp;ldquo;Do not train on my content&amp;rdquo; at OpenAI&amp;rsquo;s Privacy Center&lt;/li&gt;
&lt;li&gt;consider turning off &amp;ldquo;Memory&amp;rdquo;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I had the opportunity to speak with Tate once, in a virtual meeting.&lt;/p&gt;
&lt;p&gt;In my opinion, he is quite competent and gives sound advice.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ChatGPT default settings"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/privacy/"&gt;#privacy&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Cursor</title><link>https://perrotta.dev/2025/05/cursor/</link><pubDate>Thu, 15 May 2025 15:18:53 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/05/cursor/</guid><description>&lt;p&gt;Meanwhile, in a conversation with a coworker&amp;hellip;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Me&lt;/strong&gt;: My &lt;em&gt;aha!&lt;/em&gt; moment from this week was to use
&lt;a href="https://cline.bot/"&gt;Cline&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/05/cursor/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; with this new &amp;ldquo;Use the browser&amp;rdquo; integration.
It opens an embedded web browser within its pane and starts to use the cursor
to click around.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Coworker&lt;/strong&gt;: &lt;a href="https://www.cursor.com/"&gt;Cursor&lt;/a&gt;&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/05/cursor/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;, the IDE?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Me&lt;/strong&gt;: Nooo, I mean, the mouse cursor, the pointer.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I was waiting for this moment when the overloaded &amp;ldquo;Cursor&amp;rdquo; term would become
ambiguous. It&amp;rsquo;s just somewhat of a funny coincidence that it appeared in the
context of one of its main competitors.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Cline: &lt;em&gt;an AI-powered coding assistant that runs in VS Code&lt;/em&gt;&amp;#160;&lt;a href="https://perrotta.dev/2025/05/cursor/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Cursor: &lt;em&gt;the AI Code Editor&lt;/em&gt;&amp;#160;&lt;a href="https://perrotta.dev/2025/05/cursor/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Cursor"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>The LLM journey</title><link>https://perrotta.dev/2025/04/the-llm-journey/</link><pubDate>Thu, 24 Apr 2025 03:14:32 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/04/the-llm-journey/</guid><description>&lt;p&gt;&lt;em&gt;Narrator&amp;rsquo;s voice&lt;/em&gt;: &lt;a href="https://harper.blog/2025/04/17/an-llm-codegen-heros-journey/"&gt;An LLM Codegen Hero&amp;rsquo;s Journey&lt;/a&gt; by Harper Reed.&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t have anything to add, go read Harper&amp;rsquo;s post.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: The LLM journey"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Pipe to Claude</title><link>https://perrotta.dev/2025/04/pipe-to-claude/</link><pubDate>Wed, 09 Apr 2025 17:56:05 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/04/pipe-to-claude/</guid><description>&lt;p&gt;One of the most effective ways to resolve random software development problems
in 2025:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#f92672"&gt;{&lt;/span&gt;command that emits warnings or errors&lt;span style="color:#f92672"&gt;}&lt;/span&gt; | claude&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;claude&lt;/code&gt; is Anthropic&amp;rsquo;s &lt;a href="https://docs.anthropic.com/en/docs/agents-and-tools/claude-code/overview"&gt;Claude
Code&lt;/a&gt;
CLI LLM agent tool:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Learn about Claude Code, an agentic coding tool made by Anthropic. Currently
in beta as a research preview.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There is a series of little / simple tasks I&amp;rsquo;ve been procrastinating (e.g.
linter issues) that can be quickly resolved with the assistance of a LLM tool.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s no silver bullet here: all changes need to be properly reviewed and
tested. Nonetheless, even if the tool is wrong 50% of the time, it&amp;rsquo;s still
faster for me to use the LLM tool as an initial suggestion than having to
do the research myself from scratch.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Pipe to Claude"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>llm: remove stored key</title><link>https://perrotta.dev/2025/03/llm-remove-stored-key/</link><pubDate>Fri, 28 Mar 2025 14:09:41 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/03/llm-remove-stored-key/</guid><description>&lt;p&gt;I was just trying &lt;a href="https://simonwillison.net/"&gt;Simon Willison&lt;/a&gt;&amp;rsquo;s excellent CLI
&lt;a href="https://llm.datasette.io/en/stable/index.html"&gt;llm&lt;/a&gt; tool:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A CLI utility and Python library for interacting with Large Language Models,
both via remote APIs and models that can be installed and run on your own
machine.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s straightforward to set API Keys with it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% llm key set openai&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;I wanted to set one for &lt;a href="https://www.anthropic.com/claude"&gt;Anthropic Claude&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% llm key set claude&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;But it turns out the correct name is &lt;code&gt;anthropic&lt;/code&gt;, not &lt;code&gt;claude&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% llm key set anthropic&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Now I wanted to clean up the &lt;code&gt;claude&lt;/code&gt; entry.&lt;/p&gt;
&lt;p&gt;Surprisingly, there&amp;rsquo;s no &lt;code&gt;llm key remove&lt;/code&gt; or &lt;code&gt;llm key delete&lt;/code&gt; command!
&lt;a href="https://llm.datasette.io/en/stable/help.html#llm-keys-help"&gt;Docs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The workaround: edit the &lt;code&gt;keys.json&lt;/code&gt; file directly:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% llm keys path
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/Users/thiago.perrotta/Library/Application Support/io.datasette.llm/keys.json&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The output above is from macOS.&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% $EDITOR &lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;&lt;span style="color:#66d9ef"&gt;$(&lt;/span&gt;llm keys path&lt;span style="color:#66d9ef"&gt;)&lt;/span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;/Users/thiago.perrotta/Library/Application Support/io.datasette.llm/keys.json&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;keys.json&lt;/code&gt; file:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;// Note&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;This file stores secret API credentials. Do not share!&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;openai&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;sk-{redacted}&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;claude&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;sk-ant-api03-{redacted}&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;anthropic&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;sk-ant-api03-{redacted}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;Remove &lt;code&gt;claude&lt;/code&gt; from it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;// Note&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;This file stores secret API credentials. Do not share!&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;openai&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;sk-{redacted}&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;anthropic&amp;#34;&lt;/span&gt;: &lt;span style="color:#e6db74"&gt;&amp;#34;sk-ant-api03-{redacted}&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;And it&amp;rsquo;s done! Verify with:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-bash" data-lang="bash"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;% llm keys
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;anthropic
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;openai&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: llm: remove stored key"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Disclosing AI in pull requests</title><link>https://perrotta.dev/2025/03/disclosing-ai-in-pull-requests/</link><pubDate>Wed, 26 Mar 2025 13:07:52 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/03/disclosing-ai-in-pull-requests/</guid><description>&lt;p&gt;As we start to draft more PRs with the help of AI, I am thinking to adopt a
subtle approach to signal that all (or most) of a given PR was created with the
help of AI.&lt;/p&gt;
&lt;p&gt;Perhaps by adding a &lt;code&gt;:robot:&lt;/code&gt; ü§ñ emoji in the commit message.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://api.github.com/emojis"&gt;GitHub Markdown&lt;/a&gt; will happily render &lt;code&gt;:robot:&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;I could also add an &lt;a href="https://perrotta.dev/2025/03/create-a-git-commit-with-multiple-contributors/"&gt;attribution footer&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-plaintext" data-lang="plaintext"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&amp;#34;Co-authored-by: Claude &amp;lt;noreply@anthropic.com&amp;gt;&amp;#34;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;It&amp;rsquo;s just a bit more verbose.&lt;/p&gt;
&lt;p&gt;Have you thought about this?&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Disclosing AI in pull requests"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>MLC Chat: off-line LLMs in your iPhone</title><link>https://perrotta.dev/2025/02/mlc-chat-off-line-llms-in-your-iphone/</link><pubDate>Sat, 08 Feb 2025 16:26:04 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>privacy</category><guid>https://perrotta.dev/2025/02/mlc-chat-off-line-llms-in-your-iphone/</guid><description>&lt;p&gt;&lt;a href="https://apps.apple.com/us/app/mlc-chat/id6448482937"&gt;MLC Chat&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Large language models locally in phone&lt;/p&gt;
&lt;p&gt;MLC Chat lets users chat with open language models locally on ipads and
iphones. After a model is downloaded to the app, everything runs locally
without server support, and it works without internet connections do not
record any information.&lt;/p&gt;
&lt;p&gt;Because the models run locally, it only works for the devices with sufficient
VRAM depending on the models being used.&lt;/p&gt;
&lt;p&gt;MLC Chat is part of open source project MLC LLM, with allows any language
model to be deployed natively on a diverse set of hardware backends and native
applications. MLC Chat is a runtime that runs different open model
architectures on your phone. The app is intended for non-commercial purposes.
It allows you to run open-language models downloaded from the internet. Each
model can be subject to its respective licenses.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I originally heard about it last year via &lt;a href="https://simonwillison.net/"&gt;Simon
Willison&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I used the &lt;code&gt;LLAMA-3.2-3B-Instruct&lt;/code&gt; model on my iPhone 14 Pro, and it worked
quite well&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/02/mlc-chat-off-line-llms-in-your-iphone/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. The performance was quite acceptable for what I would expect of a
local LLM on my phone in 2024-25. It takes a few seconds to initialize / warm up
at startup.&lt;/p&gt;
&lt;p&gt;A noticeable side effect: my phone heats up &lt;em&gt;significantly&lt;/em&gt; when using it for a
couple of minutes. Battery drain is also perceivable.&lt;/p&gt;
&lt;p&gt;The app is super simple. There&amp;rsquo;s no chat history, it&amp;rsquo;s a single conversation.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;One minor annoyance: that model is quite verbose and somewhat overly
enthusiastic. Did someone give it the personality from Microsoft Word
Clippy?&amp;#160;&lt;a href="https://perrotta.dev/2025/02/mlc-chat-off-line-llms-in-your-iphone/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: MLC Chat: off-line LLMs in your iPhone"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/privacy/"&gt;#privacy&lt;/a&gt;&lt;/p&gt;</description></item><item><title>üîó Reply to: CoPilot having a normal one</title><link>https://perrotta.dev/2024/12/reply-to-copilot-having-a-normal-one/</link><pubDate>Mon, 30 Dec 2024 17:49:59 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>commentary</category><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2024/12/reply-to-copilot-having-a-normal-one/</guid><description>&lt;p&gt;(&lt;a href="https://davidkrider.com/copilot-having-a-normal-one/"&gt;via David Krider&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;That&amp;rsquo;s the thing I find about CoPilot and ChatGPT so far: They have quick
answers and suggestions for every line as I&amp;rsquo;m typing, and half of everything
that looks right at first glance turns out to be wrong. I actually started to
argue with CoPilot after fruitlessly trying to use it to track down a bug for
a half hour. What I am doing with my life?&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Welcome to the club :D&lt;/p&gt;
&lt;p&gt;Silencing CoPilot sometimes helps. Update &lt;code&gt;vscode/settings.json&lt;/code&gt; (&lt;code&gt;Cmd + ,&lt;/code&gt; on
macOS) according to your needs:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;div class="highlight"&gt;&lt;pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"&gt;&lt;code class="language-json" data-lang="json"&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;github.copilot.editor.enableAutoCompletions&amp;#34;&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;:&lt;/span&gt; &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;,&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;&lt;span style="color:#e6db74"&gt;&amp;#34;github.copilot.enable&amp;#34;&lt;/span&gt;&lt;span style="color:#960050;background-color:#1e0010"&gt;:&lt;/span&gt; {
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;*&amp;#34;&lt;/span&gt;: &lt;span style="color:#66d9ef"&gt;true&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;plaintext&amp;#34;&lt;/span&gt;: &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt; &lt;span style="color:#f92672"&gt;&amp;#34;markdown&amp;#34;&lt;/span&gt;: &lt;span style="color:#66d9ef"&gt;false&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style="display:flex;"&gt;&lt;span&gt;}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;p&gt;The common wisdom of the crowds so far is to treat LLMs like &amp;ldquo;eager interns&amp;rdquo;,
and/or &amp;ldquo;helpful boilerplate / scaffolding tools&amp;rdquo;. Always double-check.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Reply to: CoPilot having a normal one"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>AI usage</title><link>https://perrotta.dev/2024/12/ai-usage/</link><pubDate>Sun, 29 Dec 2024 11:11:57 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>meta</category><guid>https://perrotta.dev/2024/12/ai-usage/</guid><description>&lt;p&gt;(&lt;a href="https://sive.rs/ai"&gt;via Derek Sivers&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I have never ever used AI to generate text in place of my &amp;ldquo;voice&amp;rdquo;. No emails.
No sentences in my articles or books or even comments. Nothing pretending to
be me.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;But again, the real point of this page is to let you know that nothing
claiming to be written by me is written by an AI.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Likewise.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: AI usage"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>
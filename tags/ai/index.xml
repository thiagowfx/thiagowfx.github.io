<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev/rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Ai on Â¬ just serendipity ğŸ€</title><link>https://perrotta.dev/</link><description>Recent content in Ai on Â¬ just serendipity ğŸ€</description><generator>Hugo</generator><language>en</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>Â© 2013 - 2026 Thiago Perrotta Â·
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) Â·
a fork of [hugo Ê•â€¢á´¥â€¢Ê” bear](https://github.com/janraasch/hugo-bearblog/)</copyright><lastBuildDate>Sun, 22 Feb 2026 00:17:24 +0100</lastBuildDate><atom:link href="https://perrotta.dev/tags/ai/index.xml" rel="self" type="application/rss+xml"/><item><title>Superwhisper</title><link>https://perrotta.dev/2026/02/superwhisper/</link><pubDate>Fri, 20 Feb 2026 18:33:28 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>macos</category><category>meta</category><category>security</category><guid>https://perrotta.dev/2026/02/superwhisper/</guid><description>&lt;p&gt;Hello world.&lt;/p&gt;
&lt;p&gt;This blog post is being dictated by &lt;a href="https://superwhisper.com/"&gt;Superwhisper&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m not writing any text at all. Every word that is coming out was dictated one
by one. Frankly I have no idea whether this works effectively or not, but
apparently Superwhisper seems to be a good way to make it faster to type in
words with your mouth and with your voice instead of using your hands.&lt;/p&gt;
&lt;p&gt;The main use case seems to be intended for LLMs. We are getting so lazy to write
code that now we are even getting lazy to prompt LLMs to write code for us.&lt;/p&gt;
&lt;p&gt;We can do everything by just talking with our mouth. And now I&amp;rsquo;m going one step
beyond and using this application to write blog posts for me.&lt;/p&gt;
&lt;p&gt;I have no idea whether this will stick but I find it interesting to use this
application to automate some typing. At the very least it would be helpful to
alleviate some RSI on our hands.&lt;/p&gt;
&lt;p&gt;Well, this was a hello word post, bye bye.&lt;/p&gt;
&lt;p&gt;And I should also add, this is using the parakeet model from Nvidia. Everything
is being processed locally on my MacBook. Nothing is being sent to the cloud. I
think this is important these days.&lt;/p&gt;
&lt;h2 id="colophon"&gt;Colophon&lt;/h2&gt;
&lt;p&gt;The previous sentences were manually formatted by this human, plus manual
corrections and links were added.&lt;/p&gt;
&lt;p&gt;The raw version came very close. &lt;strong&gt;IMPRESSIVE&lt;/strong&gt; stuff, goodness:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Hello world. This blog post is being dictated by Superwhisper Pro. I&amp;rsquo;m not
writing any text at all. Every word that is coming out was dictated one by
one. Frankly I have no idea whether this works effectively or not, but
apparently Superwhisper seems to be a good way to make it faster to type in
words With your mouth and with your voice instead of using your hands. The
main use case seems to be intended for LLM We are getting so lazy to write
code that now we are even getting lazy to prompt LLMs to write code for us can
do everything by just talking with just your mouth. And now I&amp;rsquo;m going one step
beyond and using this application to write blog posts for me. I have no idea
what I do with stick but I find it interesting to use this application to
automate some typing. At the very least it would be helpful to alleviate some
RSE on a hands well with your this was a hello word post bye bye and I should
also add this is using the parakeet model from Nvidia everything is being
processed locally on my MacBook Nothing is being sent to the cloud. I think
this is important these days&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Superwhisper"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… New APKBUILD: LLM edition</title><link>https://perrotta.dev/2026/02/new-apkbuild-llm-edition/</link><pubDate>Wed, 18 Feb 2026 11:23:05 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>alpine-linux</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/02/new-apkbuild-llm-edition/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: package &lt;a href="http://prek.j178.dev/"&gt;&lt;code&gt;prek&lt;/code&gt;&lt;/a&gt; for &lt;a href="https://alpinelinux.org/"&gt;Alpine
Linux&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;prek&lt;/code&gt; is a modern replacement for &lt;a href="https://pre-commit.com/"&gt;&lt;code&gt;pre-commit&lt;/code&gt;&lt;/a&gt;,
covered (&lt;a href="https://perrotta.dev/tags/pre-commit/"&gt;many times&lt;/a&gt;) in this blog&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://perrotta.dev/2022/01/alpine-linux-new-apkbuild-workflow/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s already a breeze to create &lt;code&gt;APKBUILD&lt;/code&gt;s. I&amp;rsquo;ve been doing so for ages.&lt;/p&gt;
&lt;p&gt;Now, in 2026, with agentic LLMs, it&amp;rsquo;s even more so!&lt;/p&gt;
&lt;p&gt;I can be more useful to the Alpine Linux community by increasing my efficiency
as a package maintainer.&lt;/p&gt;
&lt;p&gt;Yesterday I used &lt;a href="https://ampcode.com"&gt;Amp Free&lt;/a&gt; in &lt;em&gt;smart&lt;/em&gt; mode (Opus 4.6) to
scaffold the &lt;code&gt;APKBUILD&lt;/code&gt; for &lt;code&gt;prek&lt;/code&gt;, using the &lt;a href="https://aur.archlinux.org/packages/prek"&gt;AUR
&lt;code&gt;PKGBUILD&lt;/code&gt;&lt;/a&gt; as a baseline. Prompt:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;write an APKBUILD for prek, inspired by https://aur.archlinux.org/packages/prek

once written, copy it to knol (ssh knol)
aports dir: ~/workspace/aports (in knol)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The result:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Maintainer: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
pkgname=pre
pkgver=0.3.3
pkgrel=0
pkgdesc=&amp;#34;Better pre-commit, re-engineered in Rust&amp;#34;
url=&amp;#34;https://github.com/j178/prek&amp;#34;
arch=&amp;#34;all&amp;#34;
license=&amp;#34;MIT&amp;#34;
makedepends=&amp;#34;cargo cargo-auditable&amp;#34;
subpackages=&amp;#34;
	$pkgname-bash-completion
	$pkgname-fish-completion
	$pkgname-zsh-completion
	$pkgname-doc
	&amp;#34;
source=&amp;#34;$pkgname-$pkgver.tar.gz::https://github.com/j178/prek/archive/v$pkgver.tar.gz&amp;#34;
options=&amp;#34;net&amp;#34; # fetch dependencies

prepare() {
	default_prepare
	cargo fetch --target=&amp;#34;$CTARGET&amp;#34; --locked
}

build() {
	cargo auditable build --release --frozen

	target/release/prek util generate-shell-completion bash &amp;gt; $pkgname.bash
	target/release/prek util generate-shell-completion fish &amp;gt; $pkgname.fish
	target/release/prek util generate-shell-completion zsh &amp;gt; $pkgname.zsh
}

check() {
	cargo test --frozen
	cargo test --frozen -- --skip cache_gc_keeps_local_hook_env --skip cache_gc_removes_unreferenced_entries
}

package() {
	install -Dm755 target/release/$pkgname -t &amp;#34;$pkgdir&amp;#34;/usr/bin/

	install -Dm644 $pkgname.bash &amp;#34;$pkgdir&amp;#34;/usr/share/bash-completion/completions/$pkgname
	install -Dm644 $pkgname.fish &amp;#34;$pkgdir&amp;#34;/usr/share/fish/vendor_completions.d/$pkgname.fish
	install -Dm644 $pkgname.zsh &amp;#34;$pkgdir&amp;#34;/usr/share/zsh/site-functions/_$pkgname

	install -Dm644 LICENSE -t &amp;#34;$pkgdir&amp;#34;/usr/share/licenses/$pkgname/
	install -Dm644 README.md -t &amp;#34;$pkgdir&amp;#34;/usr/share/doc/$pkgname/
}

sha512sums=&amp;#34;
87f5b5905d0c95b7f55a789eb00b463bb987c5fc981d83500f34a41b8e9ea2e4a0ac9d45a0c3a029a7957de33f5ade866c396c399252eb4a7a9e09e32e270b99 prek-0.3.3.tar.gz
&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This was a great initial attempt, but
&lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223891"&gt;tests&lt;/a&gt; failed:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Stopped on the first failure. Run `cargo insta test` to run all snapshots.
thread &amp;#39;cache_gc_removes_unreferenced_entries&amp;#39; (15179) panicked at /builds/thiagowfx/aports/testing/prek/tmp/cargo/registry/src/index.crates.io-1949cf8c6b5b557f/insta-1.46.3/src/runtime.rs:719:13:
snapshot assertion for &amp;#39;cache_gc_removes_unreferenced_entries-2&amp;#39; failed in line 234
failures:
 cache_gc_keeps_local_hook_env
 cache_gc_removes_unreferenced_entries&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;A follow-up edit yielded this diff:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;@@ -30,7 &amp;#43;30,7 @@ build() {
}

check() {
-	cargo test --frozen
&amp;#43;	cargo test --frozen -- --skip cache_gc_keeps_local_hook_env --skip cache_gc_removes_unreferenced_entries
}

package() {&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;but that caused more failures. Then I got interrupted and the night ended.&lt;/p&gt;
&lt;p&gt;Today, I continued with &lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Original prompt to &lt;code&gt;claudey&lt;/code&gt;&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; using Opus 4.6:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;we&amp;rsquo;re packaging prek for alpine linux (APKBUILD)&lt;/p&gt;
&lt;p&gt;we&amp;rsquo;re using &lt;a href="https://aur.archlinux.org/packages/prek"&gt;https://aur.archlinux.org/packages/prek&lt;/a&gt; as reference&lt;/p&gt;
&lt;p&gt;we have access to an alpine system in knol (&lt;code&gt;ssh knol&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;the aports tree lives in ~/workspace/aports in knol&lt;/p&gt;
&lt;p&gt;we&amp;rsquo;re already in the right branch, the prek APKBUILD lives in testing/prek within knol&lt;/p&gt;
&lt;p&gt;the problem is that the test is failing in our MR pipeline: &lt;a href="https://gitlab.alpinelinux.org/alpine/aports/-/merge_requests/97666"&gt;https://gitlab.alpinelinux.org/alpine/aports/-/merge_requests/97666&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;sample job: &lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963"&gt;https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963&lt;/a&gt; (raw log: &lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963/raw"&gt;https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963/raw&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;fix the APKBUILD!&lt;/p&gt;
&lt;p&gt;I think it&amp;rsquo;s a missing checkdep&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A couple of burned tokens later:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;APKBUILD updated. Here&amp;rsquo;s what changed:&lt;/p&gt;
&lt;p&gt;Added checkdepends=&amp;ldquo;bash python3&amp;rdquo;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;python3 â€” prek&amp;rsquo;s pygrep language handler uses uv to find a Python
interpreter. Without system Python, uv python find fails, causing all 11
pygrep tests to fail. Also needed for the windows_script_run test which uses
a #!/usr/bin/env python3 shebang.&lt;/li&gt;
&lt;li&gt;bash â€” the script tests use #!/usr/bin/env bash shebangs, and Alpine doesn&amp;rsquo;t
ship bash by default (only busybox ash).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Added &amp;ndash;skip for language integration tests needing unavailable runtimes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker â€” needs Docker daemon (also covers docker_image via substring match)&lt;/li&gt;
&lt;li&gt;julia â€” Julia not available in Alpine&lt;/li&gt;
&lt;li&gt;lua:: â€” Lua interpreter not available&lt;/li&gt;
&lt;li&gt;haskell â€” GHC/cabal not available&lt;/li&gt;
&lt;li&gt;node:: â€” Node.js/npm not available&lt;/li&gt;
&lt;li&gt;ruby:: â€” Ruby not available&lt;/li&gt;
&lt;li&gt;rust:: â€” Rust toolchain tests (rustup) not available&lt;/li&gt;
&lt;li&gt;swift:: â€” Swift not available&lt;/li&gt;
&lt;li&gt;bun:: â€” Bun not available&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The unit tests (282) plus other integration suites (auto_update,
builtin_hooks, cache, hook_impl, identify, install) still run fully. You can
commit and push to re-trigger the pipeline.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That&amp;rsquo;s spot on. Here&amp;rsquo;s the diff:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;ğŸ§™ thiago@knol ~/workspace/aports/testing/prek git:prek
â¯ git --no-pager show
commit 8f702c5f1ee1b6d153a4f957c309f2badd452d31 (HEAD -&amp;gt; prek)
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Wed Feb 18 05:30:14 2026 -0500

 skip language integration tests

diff --git testing/prek/APKBUILD testing/prek/APKBUILD
index 5e134457bc..d6080fa977 100644
--- testing/prek/APKBUILD
&amp;#43;&amp;#43;&amp;#43; testing/prek/APKBUILD
@@ -7,6 &amp;#43;7,7 @@ url=&amp;#34;https://github.com/j178/prek&amp;#34;
 arch=&amp;#34;all&amp;#34;
 license=&amp;#34;MIT&amp;#34;
 makedepends=&amp;#34;cargo cargo-auditable&amp;#34;
&amp;#43;checkdepends=&amp;#34;bash python3&amp;#34;
 subpackages=&amp;#34;
 	$pkgname-bash-completion
 	$pkgname-fish-completion
@@ -30,7 &amp;#43;31,18 @@ build() {
 }

 check() {
-	cargo test --frozen -- --skip cache_gc_keeps_local_hook_env --skip cache_gc_removes_unreferenced_entries
&amp;#43;	cargo test --frozen -- \
&amp;#43;		--skip cache_gc_keeps_local_hook_env \
&amp;#43;		--skip cache_gc_removes_unreferenced_entries \
&amp;#43;		--skip &amp;#34;docker&amp;#34; \
&amp;#43;		--skip &amp;#34;julia&amp;#34; \
&amp;#43;		--skip &amp;#34;lua::&amp;#34; \
&amp;#43;		--skip &amp;#34;haskell&amp;#34; \
&amp;#43;		--skip &amp;#34;node::&amp;#34; \
&amp;#43;		--skip &amp;#34;ruby::&amp;#34; \
&amp;#43;		--skip &amp;#34;rust::&amp;#34; \
&amp;#43;		--skip &amp;#34;swift::&amp;#34; \
&amp;#43;		--skip &amp;#34;bun::&amp;#34;
 }

 package() {&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I had to continue with a few more follow-ups though. Eventually, that led to
Merge Request (MR)
&lt;a href="https://gitlab.alpinelinux.org/alpine/aports/-/merge_requests/97666"&gt;!97666&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Maintainer: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
pkgname=prek
pkgver=0.3.3
pkgrel=0
pkgdesc=&amp;#34;Better pre-commit, re-engineered in Rust&amp;#34;
url=&amp;#34;https://github.com/j178/prek&amp;#34;
arch=&amp;#34;all&amp;#34;
license=&amp;#34;MIT&amp;#34;
makedepends=&amp;#34;cargo cargo-auditable&amp;#34;
subpackages=&amp;#34;
	$pkgname-bash-completion
	$pkgname-fish-completion
	$pkgname-zsh-completion
	$pkgname-doc
	&amp;#34;
source=&amp;#34;$pkgname-$pkgver.tar.gz::https://github.com/j178/prek/archive/v$pkgver.tar.gz&amp;#34;
options=&amp;#34;net&amp;#34; # fetch dependencies

prepare() {
	default_prepare
	cargo fetch --target=&amp;#34;$CTARGET&amp;#34; --locked
}

build() {
	cargo auditable build --release --frozen

	target/release/prek util generate-shell-completion bash &amp;gt; $pkgname.bash
	target/release/prek util generate-shell-completion fish &amp;gt; $pkgname.fish
	target/release/prek util generate-shell-completion zsh &amp;gt; $pkgname.zsh
}

check() {
	cargo test --frozen --lib
}

package() {
	install -Dm755 target/release/$pkgname -t &amp;#34;$pkgdir&amp;#34;/usr/bin/

	install -Dm644 $pkgname.bash &amp;#34;$pkgdir&amp;#34;/usr/share/bash-completion/completions/$pkgname
	install -Dm644 $pkgname.fish &amp;#34;$pkgdir&amp;#34;/usr/share/fish/vendor_completions.d/$pkgname.fish
	install -Dm644 $pkgname.zsh &amp;#34;$pkgdir&amp;#34;/usr/share/zsh/site-functions/_$pkgname

	install -Dm644 LICENSE -t &amp;#34;$pkgdir&amp;#34;/usr/share/licenses/$pkgname/
	install -Dm644 README.md -t &amp;#34;$pkgdir&amp;#34;/usr/share/doc/$pkgname/
}

sha512sums=&amp;#34;
87f5b5905d0c95b7f55a789eb00b463bb987c5fc981d83500f34a41b8e9ea2e4a0ac9d45a0c3a029a7957de33f5ade866c396c399252eb4a7a9e09e32e270b99 prek-0.3.3.tar.gz
&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;wherein &lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/pipelines/407211"&gt;all tests
pass&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I can&amp;rsquo;t compile &lt;code&gt;prek&lt;/code&gt; on my little alpine linux VPS (1GB RAM). Apparently Rust
is a monster that requires a lot of RAM for compiling and linking software with
hundreds of dependencies.&lt;/p&gt;
&lt;p&gt;I tested it by grabbing the built &lt;code&gt;.apk&lt;/code&gt; package from the GitLab pipeline from
my MR:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;âº x86_64 passed. Let&amp;#39;s grab the artifact and install it:

âº Bash(ssh knol &amp;#34;curl -L -o /tmp/prek-x86_64.zip
 &amp;#39;https://gitlab.alpinelinux.org/api/v4/projects/3998/jobs/2224483/artifacts&amp;#39; &amp;amp;&amp;amp; cd /tmp &amp;amp;&amp;amp; unzip -o
 prek-x86_64.zip &amp;amp;&amp;amp;â€¦)
 â¿ % Total % Received % Xferd Average Speed Time Time Time Current
 Dload Upload Total Spent Left Speed
 0 0 0 0 0 0 0 0 0100 3.51M 100 3.
 â€¦ &amp;#43;19 lines (ctrl&amp;#43;o to expand)

âº Bash(ssh knol &amp;#34;sudo apk add --allow-untrusted /tmp/packages/testing/x86_64/prek-0.3.3-r0.apk &amp;amp;&amp;amp; prek
 --version&amp;#34;)
 â¿ (1/1) Installing prek (0.3.3-r0)
 Executing busybox-1.37.0-r31.trigger
 OK: 1257.5 MiB in 579 packages
 prek 0.3.3

âº Installed and working. prek 0.3.3 on knol. All 8 completed architectures passed (riscv64 is still
 building).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The LLM tries to use &lt;code&gt;sudo&lt;/code&gt; instead of &lt;code&gt;doas&lt;/code&gt;, which is not correct on Alpine
Linux.&lt;/p&gt;
&lt;p&gt;It works anyway because I have the &lt;a href="https://pkgs.alpinelinux.org/package/edge/main/x86_64/doas-sudo-shim"&gt;&lt;code&gt;doas-sudo-shim&lt;/code&gt;&lt;/a&gt; package installed:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% sudo -h
Usage:
 sudo (-i | -s) [-n] [-u &amp;lt;user&amp;gt;] [&amp;lt;command&amp;gt; [--] [&amp;lt;args&amp;gt;...]]
 sudo [-ins] [-u &amp;lt;user&amp;gt;] &amp;lt;command&amp;gt; [--] [&amp;lt;args&amp;gt;...]
 sudo [-h]

Execute a command as another user using doas(1).

This is not the original sudo, but the doas shim for sudo. It supports only
a subset of the sudo options (both short and long) that have an equivalent in
doas, plus option -i (--login). Refer to sudo(1) for more information.

If you need some sudo features that are not supported in doas, replace
package &amp;#39;doas-sudo-shim&amp;#39; with &amp;#39;sudo&amp;#39;: apk add sudo !doas-sudo-shim.

Please report bugs at &amp;lt;https://github.com/jirutka/doas-sudo-shim/issues&amp;gt;.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Expect a post about &lt;code&gt;prek&lt;/code&gt; soon.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;&lt;code&gt;alias claudey=claude --dangerously-skip-permissions&lt;/code&gt;, with no annoying
confirmation prompts&amp;#160;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: New APKBUILD: LLM edition"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… web radio player</title><link>https://perrotta.dev/2026/02/web-radio-player/</link><pubDate>Mon, 16 Feb 2026 16:53:36 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/02/web-radio-player/</guid><description>&lt;p&gt;I have a &lt;a href="https://github.com/thiagowfx/pancake/tree/master/radio"&gt;&lt;code&gt;radio&lt;/code&gt;&lt;/a&gt; shell
script in &lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt; (=miscellaneous unix
scripts) that streams curated (and free) internet radio stations via &lt;code&gt;mpv&lt;/code&gt;. It
works great from the &lt;a href="https://perrotta.dev/2025/11/radio/"&gt;terminal&lt;/a&gt;, but I wanted to
go one step further and make it available from a web browser as well.&lt;/p&gt;
&lt;p&gt;The script supports:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;playing a specific station,&lt;/li&gt;
&lt;li&gt;picking a random one,&lt;/li&gt;
&lt;li&gt;burst mode (multiple simultaneous streams), and&lt;/li&gt;
&lt;li&gt;listing what&amp;rsquo;s currently running&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of these map well to a web browser UI.&lt;/p&gt;
&lt;p&gt;Fast-forward&amp;hellip; (pun intended)&lt;/p&gt;
&lt;h2 id="gimme-radio"&gt;Gimme radio&lt;/h2&gt;
&lt;p&gt;I added a &lt;a href="https://perrotta.dev/radio/"&gt;&lt;code&gt;/radio/&lt;/code&gt;&lt;/a&gt; page to this blog. It&amp;rsquo;s a single Hugo
layout with inline CSS and JS, following the same pattern as the &lt;a href="https://perrotta.dev/graph/"&gt;graph&lt;/a&gt; page&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;The core is simple (and effective!) â€” a (hash) &lt;code&gt;Map&lt;/code&gt; of station IDs to &lt;code&gt;Audio&lt;/code&gt;
objects:&lt;/p&gt;
&lt;div class="codeblock" data-lang="javascript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;javascript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-javascript"&gt;const playing = new Map();

function play(id) {
 if (playing.has(id)) return;
 const s = getStation(id);
 const audio = new Audio(s.url);
 audio.volume = volume;
 audio.play().catch((e) =&amp;gt; {
 console.warn(&amp;#39;Failed to play &amp;#39; &amp;#43; s.name &amp;#43; &amp;#39;:&amp;#39;, e.message);
 });
 playing.set(id, audio);
 updateUI();
}

function stop(id) {
 const audio = playing.get(id);
 if (!audio) return;
 audio.pause();
 audio.src = &amp;#39;&amp;#39;;
 playing.delete(id);
 updateUI();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Setting &lt;code&gt;audio.src = ''&lt;/code&gt; after pausing is important â€” without it, the browser
keeps the HTTPS connection open to the stream server.&lt;/p&gt;
&lt;h2 id="burst-mode"&gt;Burst mode&lt;/h2&gt;
&lt;p&gt;The shell script has a &lt;code&gt;--burst&lt;/code&gt; flag that launches &lt;code&gt;N&lt;/code&gt; random stations
simultaneously. The browser version does the same (well, it&amp;rsquo;s hard-coded to 3
stations):&lt;/p&gt;
&lt;div class="codeblock" data-lang="javascript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;javascript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-javascript"&gt;function playBurst() {
 stopAll();
 const indices = [];
 while (indices.length &amp;lt; 3 &amp;amp;&amp;amp; indices.length &amp;lt; stations.length) {
 const idx = Math.floor(Math.random() * stations.length);
 if (indices.indexOf(idx) === -1) indices.push(idx);
 }
 indices.forEach((i) =&amp;gt; play(stations[i].id));
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Multiple &lt;code&gt;Audio&lt;/code&gt; objects play concurrently with no issues. The volume slider
applies to all of them.&lt;/p&gt;
&lt;h2 id="stations"&gt;Stations&lt;/h2&gt;
&lt;p&gt;Most stations are from &lt;a href="https://somafm.com/"&gt;SomaFM&lt;/a&gt;, a listener-supported
internet radio service. They have a &lt;a href="https://somafm.com/linktous/"&gt;clear policy&lt;/a&gt;
for third-party players: display the station name and link back. Each card links
to its station homepage.&lt;/p&gt;
&lt;p&gt;I dropped two stations from the original script:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HBR1 Trance and a rain sounds stream from TorontoCast. HBR1 only serves over
&lt;code&gt;http://&lt;/code&gt;, which browsers block as mixed content on HTTPS sites.&lt;/li&gt;
&lt;li&gt;TorontoCast&amp;rsquo;s terms explicitly prohibit embedding streams in third-party
players.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="implementation"&gt;Implementation&lt;/h2&gt;
&lt;p&gt;The UI is a CSS grid of clickable cards with a controls bar (Random, Burst, Stop
All, volume). Playing stations get a highlighted border and a pulsing dot
indicator that respects &lt;code&gt;prefers-reduced-motion&lt;/code&gt;. The whole thing uses the
blog&amp;rsquo;s existing CSS variables so it works in both light and dark mode,
integrating awesomely with its catppuccin theme.&lt;/p&gt;
&lt;p&gt;The page: &lt;a href="https://perrotta.dev/radio/"&gt;&lt;code&gt;/radio/&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s a screenshot (light theme)&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/web-radio-player/radio.png" alt="web radio player"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;Why is this post tagged with &lt;a href="https://perrotta.dev/tags/ai/"&gt;ai&lt;/a&gt;? The radio page
was vibe-coded.&lt;/p&gt;
&lt;p&gt;Suggestions to add more web radios to that page will be welcome.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Is this the future? Various little web apps in this site?&amp;#160;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Taken with &lt;a href="https://playwright.dev/"&gt;playwright&lt;/a&gt; via Claude Code. How
cool!&amp;#160;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: web radio player"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Import legacy posts from my old WordPress blog</title><link>https://perrotta.dev/2026/02/import-legacy-posts-from-my-old-wordpress-blog/</link><pubDate>Sun, 15 Feb 2026 15:25:25 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2026/02/import-legacy-posts-from-my-old-wordpress-blog/</guid><description>&lt;p&gt;I used to have a blog during my university years.&lt;/p&gt;
&lt;p&gt;It was in WordPress, hosted at &lt;a href="https://thiagoperrotta.wordpress.com/"&gt;https://thiagoperrotta.wordpress.com/&lt;/a&gt;, called
&amp;ldquo;Everyday Serendipity&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;At first I would write in my mother tongue (Portuguese), then I would switch to
English. This was a great way to practice and improve my English back then.&lt;/p&gt;
&lt;p&gt;At some point I deleted it. I know, I know, shame on me, &lt;a href="https://www.w3.org/Provider/Style/URI"&gt;Cool URIs don&amp;rsquo;t
change&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, as a future-conscious person even back then, I made a full backup
before doing so.&lt;/p&gt;
&lt;p&gt;And now, fast-forward almost 10 years later, I find myself with the desire of
restoring it.&lt;/p&gt;
&lt;p&gt;That was my weekend project!&lt;/p&gt;
&lt;p&gt;I introduced a new tag: &lt;a href="https://perrotta.dev/tags/legacy/"&gt;legacy&lt;/a&gt;, under which I&amp;rsquo;ve been
slowly restoring my old posts, one by one.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s one ground rule: I am not making any editorial changes to them. &lt;strong&gt;All
posts are preserved as is&lt;/strong&gt;, including their poor grammatical errors and typos.
If anything, it&amp;rsquo;s very cool to see how I&amp;rsquo;ve come a long way since then.&lt;/p&gt;
&lt;p&gt;I am also not bothering to audit anything that may have become politically
incorrect since then. This is not social media.&lt;/p&gt;
&lt;p&gt;The only active effort I am doing is to convert the original formatting from
WordPress to a markdown-friendly form, as supported by &lt;a href="https://gohugo.io/"&gt;Hugo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I am also deleting and/or rephrashing a couple of sentences that point out to
dead links or that include images or videos that are no longer available.&lt;/p&gt;
&lt;h2 id="workflow"&gt;Workflow&lt;/h2&gt;
&lt;p&gt;First, download the backup file: &lt;code&gt;everydayserendipity.wordpress.2015-03-30.xml&lt;/code&gt;.
To give you an idea of its size:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% wc -l everydayserendipity.wordpress.2015-03-30.xml
24165 everydayserendipity.wordpress.2015-03-30.xml

% du -sh everydayserendipity.wordpress.2015-03-30.xml
1.5M everydayserendipity.wordpress.2015-03-30.xml&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then I asked an LLM (&lt;a href="https://ampcode.com"&gt;Amp Code&lt;/a&gt;) to extract its posts,
noting that it is from a WordPress backup, to Hugo-friendly markdown.&lt;/p&gt;
&lt;p&gt;I also asked it to add the legacy tag to all such posts, to make it easier for
me to identify them.&lt;/p&gt;
&lt;p&gt;Afterwards I proceeded to read them one by one (nostalgia!), notice a couple of
poor formatting patterns, then asked the LLM to fix them one by one.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a bit tedious but it worked well! This is currently a work-in-progress:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git st | wc -l
67&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Import legacy posts from my old WordPress blog"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… new blog post via Claude Code</title><link>https://perrotta.dev/2026/02/new-blog-post-via-claude-code/</link><pubDate>Fri, 13 Feb 2026 21:54:26 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>selfhosted</category><guid>https://perrotta.dev/2026/02/new-blog-post-via-claude-code/</guid><description>&lt;p&gt;It&amp;rsquo;s 2026. Blogging to my static website from a laptop, with vim and markdown, with hugo build and git commit / git push is old-school.&lt;/p&gt;
&lt;p&gt;I can instead create blog posts via the &lt;a href="https://docs.anthropic.com/en/docs/claude-code"&gt;Claude Code&lt;/a&gt; app. It already has access to my git repository. It knows how to clone it, commit to it, test it (when needed) and push it to GitHub.&lt;/p&gt;
&lt;p&gt;If you can read this, it means this experiment worked flawlessly.&lt;/p&gt;
&lt;p&gt;And, you see, everything is still my own text, my own words. The LLM is not writing the prose. It&amp;rsquo;s merely orchestrating the act of publishing it.&lt;/p&gt;
&lt;p&gt;Will this lower my barrier to blogging more often?&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: new blog post via Claude Code"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/selfhosted/"&gt;#selfhosted&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: always be 'verbose'</title><link>https://perrotta.dev/2026/02/claude-code-always-be-verbose/</link><pubDate>Thu, 12 Feb 2026 13:37:25 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/02/claude-code-always-be-verbose/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Claude Code responses have been getting shorter lately.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s been &lt;a href="https://news.ycombinator.com/item?id=46978710"&gt;discussion on HN&lt;/a&gt;
and a &lt;a href="https://symmetrybreak.ing/blog/claude-code-is-being-dumbed-down/"&gt;blog
post&lt;/a&gt; about
Claude Code being &amp;ldquo;dumbed down&amp;rdquo; with increasingly terse outputs.&lt;/p&gt;
&lt;p&gt;Before:
&lt;img src="https://symmetrybreak.ing/images/dont-worry-about-claude/before.png" alt="Claude Code verbose output"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;After:
&lt;img src="https://symmetrybreak.ing/images/dont-worry-about-claude/after.png" alt="Claude Code terse output"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;Simply add &lt;code&gt;&amp;quot;outputStyle&amp;quot;: &amp;quot;verbose&amp;quot;&lt;/code&gt; to your &lt;code&gt;.claude/settings.json&lt;/code&gt; to restore
the original behavior:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;diff --git claude/.claude/settings.json claude/.claude/settings.json
index 13a58d2..7f59e73 100644
--- claude/.claude/settings.json
&amp;#43;&amp;#43;&amp;#43; claude/.claude/settings.json
@@ -95,5 &amp;#43;95,6 @@
 &amp;#34;lua-lsp@claude-plugins-official&amp;#34;: true,
 &amp;#34;gopls-lsp@claude-plugins-official&amp;#34;: true
 },
- &amp;#34;alwaysThinkingEnabled&amp;#34;: true
&amp;#43; &amp;#34;alwaysThinkingEnabled&amp;#34;: true,
&amp;#43; &amp;#34;outputStyle&amp;#34;: &amp;#34;verbose&amp;#34;
 }&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;ldquo;Verbose&amp;rdquo; is misleading in this context.&lt;/p&gt;
&lt;p&gt;It sounds like &lt;code&gt;-vvv&lt;/code&gt; and a firehose of logs and agent thinking traces filling
your terminal screen, but it is not.&lt;/p&gt;
&lt;p&gt;As per Boris from the Claude Code team, in the aforementioned HN thread:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To be clear: we re-purposed verbose mode to do exactly what you are asking
for. We kept the name &amp;ldquo;verbose mode&amp;rdquo;, but the behavior is what you want,
without the other verbose output.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a comment for this reply:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I don&amp;rsquo;t want verbose mode. I want Claude to tell me what it&amp;rsquo;s reading in the
first 3 seconds, so I can switch gears without fear it&amp;rsquo;s going to the wrong
part of the codebase. By saying that my use case requires verbose mode, you&amp;rsquo;re
saying that I need to see massive levels of babysitting-level output (even if
less massive than before) to be able to do this.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I find it a collective humanity waste of time that a thread like this gathers
600+ comments.&lt;/p&gt;
&lt;p&gt;But it&amp;rsquo;s just another day of a poor UX decision for power users.
You address it with a workaround, and then life moves on.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: always be 'verbose'"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: swarm mode (agent teams)</title><link>https://perrotta.dev/2026/02/claude-code-swarm-mode-agent-teams/</link><pubDate>Mon, 09 Feb 2026 18:14:01 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>meta</category><guid>https://perrotta.dev/2026/02/claude-code-swarm-mode-agent-teams/</guid><description>&lt;p&gt;Goodness.&lt;/p&gt;
&lt;p&gt;Who asked for a feature to burn tokens?&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.claude.com/docs/en/agent-teams"&gt;Orchestrate teams of Claude Code sessions&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Coordinate multiple Claude Code instances working together as a team, with
shared tasks, inter-agent messaging, and centralized management.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Demo running in the git repository of this blog:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;
 â–â–›â–ˆâ–ˆâ–ˆâ–œâ–Œ Claude Code v2.1.37
â–â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–›â–˜ Opus 4.6 Â· Claude Team
 â–˜â–˜ â–â– ~/Workspace/perrotta.dev

â¯ swarm mode to analyze my blog

âº I&amp;#39;ll set up a team of agents to analyze your blog from multiple angles in parallel.

âº Now let me spawn 4 agents to work in parallel on each analysis task.

âº 4 agents launched (ctrl&amp;#43;o to expand)
 â”œâ”€ @content-analyst (Explore)
 â”‚ â¿ Analyze blog content and trends (shift&amp;#43;â†‘ to manage)
 â”œâ”€ @tech-analyst (Explore)
 â”‚ â¿ Analyze Hugo technical setup (shift&amp;#43;â†‘ to manage)
 â”œâ”€ @structure-analyst (Explore)
 â”‚ â¿ Analyze site structure and linking (shift&amp;#43;â†‘ to manage)
 â””â”€ @quality-analyst (Explore)
 â¿ Analyze code quality and practices (shift&amp;#43;â†‘ to manage)

âº 4 analysis agents are now running in parallel:
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Agent â”‚ Focus Area â”‚ Status â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ content-analyst â”‚ Posts, topics, tags, writing trends â”‚ Running â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ tech-analyst â”‚ Hugo config, layouts, shortcodes, theme â”‚ Running â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ structure-analyst â”‚ Internal linking, assets, navigation â”‚ Running â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ quality-analyst â”‚ Templates, CSS/JS, code quality â”‚ Running â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 I&amp;#39;ll compile the results as they come in.

âœ¢ Analyzing Hugo technical setupâ€¦ (2m 0s Â· 0 tokens)

 â•’â• team-lead Â· shift &amp;#43; â†‘/â†“ to select
 â”œâ”€ @content-analyst: Running Get recent and oldest posts with metadataâ€¦ Â· 19 tool uses Â· 34.3k tokens
 â”œâ”€ @quality-analyst: Reading 5 filesâ€¦ Â· 24 tool uses Â· 70.6k tokens
 â”œâ”€ @structure-analyst: Reading 5 filesâ€¦ Â· 26 tool uses Â· 38.5k tokens
 â””â”€ @tech-analyst: Searching for 2 patterns, reading 3 filesâ€¦ Â· 73 tool uses Â· 95.9k tokens&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Lesson learned&lt;/strong&gt;: start Claude in &lt;a href="https://simonwillison.net/2025/Oct/22/living-dangerously-with-claude/"&gt;YOLO&lt;/a&gt; mode:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% which claudey
claudey: aliased to claude --dangerously-skip-permissions&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Some folks are starting to suggest to alias this invocation to &lt;code&gt;cc&lt;/code&gt;, but I find
it to be poor taste. &lt;code&gt;cc&lt;/code&gt; is the C compiler.&lt;/p&gt;
&lt;p&gt;&amp;hellip;otherwise you&amp;rsquo;ll be nagged to death with permissions prompts from multiple
agents. &lt;a href="https://en.wikipedia.org/wiki/Decision_fatigue"&gt;Decision fatigue&lt;/a&gt; is
real, folks.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;@tech-analystâ¯ Complete Hugo technical setup analysis

âº Great, the tech analyst has finished. Let me update its task and wait for the others.

âº Excellent analysis from the tech analyst. Waiting on the other 3 agents to finish their analysis...


âº The tech analyst is idle now â€” its work is already captured. Waiting on content, structure, and quality
 analysts to report back.


âº Still waiting on the other 3 agents (content, structure, quality) to complete their analysis...


@quality-analystâ¯ Complete code quality analysis report

âº Quality analyst is done too. Let me update its task.

âº 2 of 4 analyses complete. Still waiting on content-analyst and structure-analyst...


âº Waiting on content-analyst and structure-analyst to finish...


âº Still waiting on the last 2 agents...


âº Waiting for content-analyst and structure-analyst to complete their reports.


@content-analystâ¯ Complete blog content analysis: 1041 posts, trends, tags, topics

âº Content analyst is done with a thorough report. Let me update its task.

âº 3 of 4 complete. Just waiting on structure-analyst now...


âº Waiting on structure-analyst to finish the last report...


âº Still waiting on the structure-analyst...


@structure-analystâ¯ Complete site structure analysis report

âº All 4 agents have reported back! Let me update the last task and shut down the team.

âœ» Baked for 5m 17s

âº ---
 Blog Analysis: perrotta.dev

 Here&amp;#39;s the consolidated analysis from all 4 agents.

 At a Glance
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Metric â”‚ Value â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Total posts â”‚ 1,041 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ First post â”‚ Sep 2014 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Unique tags â”‚ 27 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Top tag â”‚ dev (902 posts) â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Median post length â”‚ 44 lines â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Internal cross-links â”‚ 207 (bidirectional) â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Graph nodes/edges â”‚ 1,039 / 213 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Template files â”‚ 33 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Pre-commit hooks â”‚ ~40 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ External theme â”‚ None (fully custom) â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 ---
 Content Profile

 Growth trajectory is dramatic â€” from 1 post in 2014 and a 5-year hiatus (2017-2021) to 598 posts in 2025
 and 153 already in Feb 2026. The coding section (LeetCode, ByteByteGo, AoC) drives the volume surge, with
 batch publishing days hitting 43 posts in a single day.

 Two distinct voices: 87% of posts are tagged dev (technical), while 19% are tagged serenity
 (philosophical, short reflections â€” some just 9 lines). The bestof tag (148 posts, 14%) provides a
 curated recommendation layer.

 Top topics: LeetCode solutions (201), serenity reflections (194), bestof picks (148), AI/LLM (50), git
 (48), privacy (43), macOS (41), Kubernetes (35).

 Writing style: Overwhelmingly short-form (median 44 lines, longest 367). Text-only â€” only 3 posts contain
 images.

 ---
 Technical Architecture

 Fully custom Hugo setup â€” no external theme, all 33 templates in layouts/. Catppuccin color scheme
 (Latte/Mocha) with modern CSS (light-dark(), view transitions, prefers-reduced-motion). All CSS inlined
 (~1200 lines), JS deferred and fingerprinted.

 Standout features for a static site:
 - Client-side full-text search with lazy-loaded JSON index
 - D3.js interactive force-directed graph (full site &amp;#43; per-post mini-graphs)
 - Precomputed backlinks, related posts, and &amp;#34;Previously&amp;#34; chains (via Python script)
 - Keyboard navigation (j/k, arrows, f for fullscreen)
 - IndieWeb microformats (h-card, h-entry, h-feed)
 - Multiple output formats: HTML, RSS, Markdown, OPML, llms.txt, JSON
 - Multilingual (EN/PT) with conditional language switcher

 Build pipeline is robust: Justfile with 19 recipes, Python precomputation step, and the most thorough
 pre-commit setup I&amp;#39;ve seen for a personal blog (40 hooks covering formatting, security, content quality,
 and Hugo-specific validation).

 ---
 Site Structure

 External links heavily favor GitHub (517), LeetCode (204), Wikipedia (84), and StackOverflow (45).
 Internal cross-referencing centers on the Advent of Code hub post (28 inbound links).

 SEO is comprehensive: JSON-LD, OpenGraph, Twitter Cards, canonical URLs, custom robots.txt blocking AI
 crawlers, sitemap pinging, llms.txt.

 Privacy-first: No analytics, no cookies, no ads, no tracking. Email-based replies. EXIF stripping on
 images. Warrant canary page.

 ---
 Strengths

 1. Performance â€” Inlined CSS, deferred JS, lazy loading, no external fonts, 512KB Club green team member
 2. Automation â€” 40 pre-commit hooks enforce quality, formatting, security, and Hugo-specific rules
 automatically
 3. Rich features â€” Search, graph, backlinks, related posts, keyboard nav, fullscreen â€” all on a static
 site
 4. Privacy â€” Zero tracking, no third-party dependencies for core functionality
 5. Content curation â€” bestof tagging and disciplined taxonomy (only 27 tags for 1,041 posts)

 Potential Improvements

 1. D3.js weight â€” d3.v7.min.js (~270KB) loads on every post page for the mini-graph; could be lazy-loaded
 2. Inline styles in templates â€” Several partials use inline style attributes instead of CSS classes
 3. Chroma CSS always inlined â€” ~78 syntax highlighting rules load even on pages without code blocks
 4. Hugo CI version drift â€” Deploy uses 0.152.2, prek uses 0.140.0, local is 0.155.3
 5. Portuguese content â€” Only 8 PT posts despite multilingual setup; could be expanded or streamlined

âœ» Cooked for 36s


âº All 4 agents have shut down. Let me clean up the team.

âº 4 teammates shut down gracefully

âº Team cleaned up. The full analysis is in my summary above â€” let me know if you&amp;#39;d like to dig deeper into
 any specific area, or if you want actionable recommendations on any of the improvement areas identified.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Lesson learned&lt;/strong&gt;: launch &lt;code&gt;tmux&lt;/code&gt; before activating the swarm.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll be able to see in multiple tmux panes at a glance all agents working
simultaneously. This feature is supported out-of-the-box.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: swarm mode (agent teams)"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;</description></item><item><title>You are absolutely right!</title><link>https://perrotta.dev/2026/02/you-are-absolutely-right/</link><pubDate>Mon, 09 Feb 2026 16:52:57 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/02/you-are-absolutely-right/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/11/you-are-absolutely-right/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;The tables turn&lt;/em&gt;: this time it was &lt;strong&gt;me&lt;/strong&gt; who told Claude:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;You are absolutely right!&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: You are absolutely right!"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Claude Code: /insights</title><link>https://perrotta.dev/2026/02/claude-code-/insights/</link><pubDate>Sun, 08 Feb 2026 15:33:50 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/02/claude-code-/insights/</guid><description>&lt;p&gt;&lt;a href="https://aiengineerguide.com/blog/claude-code-insights-command/"&gt;TIL&lt;/a&gt; via Ashik
Nesin:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Claude Code now has support for /insights commands.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;When you run it, Claude Code will read your message history from the past
month. It&amp;rsquo;ll summarize your projects, how you use Claude Code, and give
suggestions on how to improve your workflow.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&amp;rsquo;s try it:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt; â–â–›â–ˆâ–ˆâ–ˆâ–œâ–Œ Claude Code v2.1.37
â–â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–›â–˜ Opus 4.6 Â· Claude Team
 â–˜â–˜ â–â– ~/Workspace/perrotta.dev

â¯ /usage
 â¿ Status dialog dismissed

â¯ /insights

âº Your shareable insights report is ready:
 file:///Users/thiago.perrotta/.claude/usage-data/report.html

 Want to dig into any section or try one of the suggestions?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The generated report is a single self-contained HTML file.&lt;/p&gt;
&lt;p&gt;The report is more useful than I anticipated! It&amp;rsquo;s definitely better than
&lt;code&gt;/stats&lt;/code&gt;: it contains actionable and concrete tips and suggestions to improve
your workflow.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll share a snippet of it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;How You Use Claude Code You are a prolific, infrastructure-focused power user
who drives Claude Code hard across a wide surface area â€” 325 sessions, 809
hours, and 456 commits over roughly 7 weeks. Your workflow centers on
Terraform infrastructure management, Hugo blog optimization, and DevOps
tooling (ArgoCD, pre-commit hooks, CI pipelines). You lean heavily on Bash
(6,780 invocations) as your primary tool, reflecting a hands-on operator style
where you want Claude executing real commands and seeing real output rather
than just generating files. Your use of TodoWrite (411 calls) and Task (124
calls) suggests you frequently tackle complex, multi-step projects â€” like
importing existing AWS infrastructure into Terraform or implementing 8+
performance improvements for your Hugo blog â€” where structured planning is
essential. You consistently push for clean git hygiene: granular commits, PRs,
and proper branch workflows.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Your interaction style is best described as iterative refinement with active
course correction. You don&amp;rsquo;t write exhaustive specs upfront; instead, you give
Claude a clear goal and then steer as it executes. This shows up repeatedly:
you interrupted Claude when it assumed a full 1Password migration (&amp;ldquo;only where
applicable&amp;rdquo;), caught it when it reverted a change you only asked about
(&amp;ldquo;revert. I just asked why&amp;rdquo;), pushed back on CSS inlining that would lose
fingerprinting benefits, and redirected heading placement from shortcode
templates to markdown files. Your friction data tells a consistent story â€” 24
instances of wrong approach and 24 of buggy code â€” but these rarely derail you
because you catch problems quickly and redirect. You&amp;rsquo;re comfortable letting
Claude run on multi-file changes (18 successful multi-file operations) but you
interrupt decisively when the approach is wrong, such as stopping a file write
to ask about pre-commit integration instead, or killing a premature commit
attempt.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;What&amp;rsquo;s striking is your high tolerance for iteration paired with low tolerance
for sloppiness. Terraform import sessions required multiple rounds of fixing
IDs, resource addresses, and provider syntax â€” and you stuck with it. But you
also demanded succinct responses, rejected a poor-quality fullscreen feature
outright, and expected Claude to understand nuances like provider read-only
attributes before making sweeping changes. Your 94% achievement rate (32 fully + 15 mostly out of 50) despite working on genuinely hard infrastructure
problems shows that this iterative, correction-heavy style works well for you.
You treat Claude as a capable but supervision-required junior engineer â€” you
trust it to do the legwork but always review the output critically before
committing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Key pattern: You operate as an active supervisor who assigns complex
infrastructure tasks, lets Claude execute broadly, but intervenes decisively
and frequently to correct approach, scope, and quality â€” treating the tool as
a capable junior engineer that needs real-time steering.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Across 325 sessions and 809 hours, you&amp;rsquo;ve built a highly productive Claude
Code workflow centered on infrastructure-as-code, Hugo blog optimization, and
developer tooling â€” with a 94% goal achievement rate.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;ve developed a sophisticated pattern for standing up new Terraform
projects by importing existing AWS and MongoDB Atlas infrastructure, working
through complex import ID formats and provider quirks across multiple garden
environments. Your approach of creating files, running plans, and iteratively
fixing mismatches shows deep Terraform expertise, and you consistently push
through to clean PRs even when provider limitations surface. The breadth of
this work â€” EKS clusters, security groups, MongoDB Atlas modules, Azure OIDC â€”
demonstrates you&amp;rsquo;re using Claude as a true infrastructure engineering partner.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You systematically drove your Hugo blog toward Lighthouse 100 scores through a
multi-session campaign covering CSS inlining, critical request chain
elimination, SRI hashes, code block enhancements, and RSS feed fixes. You
maintained high standards by pushing back when Claude&amp;rsquo;s suggestions sacrificed
cache fingerprinting or batched too aggressively, ensuring each optimization
was production-sound. The fact that you also created ADRs documenting your
architectural decisions around search and caching shows you treat your
personal blog with the same rigor as production infrastructure.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;ve built a remarkably robust developer experience layer using pre-commit
hooks, Claude Code settings files, and automation scripts â€” from custom
code-block linting parsers to Justfile safety guards that prevent direct
module applies. You research hooks from other major projects like Airflow to
cherry-pick the best ones, and you iterate on implementations until they&amp;rsquo;re
correct (like replacing a regex-based checker with a proper line-by-line
parser after false positives). Your Claude Code settings PR for your Terraform
repo, with carefully curated allow/deny/ask permission lists, shows you&amp;rsquo;re
intentionally shaping how AI tools interact with your codebase.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There&amp;rsquo;s much more to it. I am not sharing actionable suggestions at this time.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s also negative feedback! And suggestions to improve / augment
&lt;code&gt;CLAUDE.md&lt;/code&gt;! &amp;ldquo;New Ways to Use Claude Code&amp;rdquo;!&lt;/p&gt;
&lt;p&gt;I love it. And I definitely need to switch my workflow to writing specs upfront,
though I can&amp;rsquo;t resist an iterative and incremental work style to achieve desired
outcomes ğŸ¤”.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: /insights"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Making a slides presentation in 2026</title><link>https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/</link><pubDate>Sat, 07 Feb 2026 18:40:50 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: make a &lt;em&gt;slides&lt;/em&gt; presentation for a certain business or
academic use case.&lt;/p&gt;
&lt;h2 id="part-i-what"&gt;Part I: What?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Classic approach&lt;/strong&gt;: pick one of: LibreOffice, Microsoft PowerPoint, Google
Slides.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hipster approach&lt;/strong&gt;: pick one of: Notion, &lt;a href="https://revealjs.com/"&gt;Reveal.JS&lt;/a&gt;
(or similar), &lt;a href="https://pkg.go.dev/golang.org/x/tools/present"&gt;Golang present&lt;/a&gt;,
&lt;a href="https://prezi.com/"&gt;Prezi&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Academic approach&lt;/strong&gt;: &lt;a href="https://www.overleaf.com/learn/latex/Beamer"&gt;LaTeX
beamer&lt;/a&gt;,
&lt;a href="https://www.lyx.org/"&gt;LyX&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Minimalist approach&lt;/strong&gt;: &lt;a href="https://orgmode.org/worg/org-tutorials/non-beamer-presentations.html"&gt;Emacs Org
mode&lt;/a&gt;,
&lt;a href="https://github.com/sotte/presenting.vim"&gt;Terminal&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Of course, I am pioneering â€“ by choosing none of the above!&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll settle with &lt;a href="https://typst.app/"&gt;Typst&lt;/a&gt; +
&lt;a href="https://polylux.dev/book/"&gt;Polylux&lt;/a&gt;, because we want best-in-classâ„¢
presentations:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Polylux is a package for the typesetting system Typst to create presentation
slides, just like you would use the beamer package in LaTeX. (So far, it is
much less advanced than beamer, obviously.)&lt;/p&gt;
&lt;p&gt;If you haven&amp;rsquo;t heard of things like LaTeX&amp;rsquo;s beamer before, here is how this
works: As a rule of thumb, one slide becomes one PDF page, and most PDF
viewers can display PDFs in the form of a slide show (usually by hitting the
F5-key).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But first, a bit of trivia:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Why the name?&lt;/p&gt;
&lt;p&gt;A polylux is a brand of overhead projectors very common in Eastern German
schools (where the main author of this package grew up). It fulfils a similar
function to a projector, namely projecting visuals to a wall to aid a
presentation. The German term for projector is beamer, and now you might
understand how it all comes together. (The original author of the
aforementioned LaTeX package is German as well.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Germans, Germans everywhere&lt;/em&gt; {picture the Buzz Lightyear meme here}&lt;/p&gt;
&lt;h2 id="part-ii-you-are-pretty-and-you-know-it"&gt;Part II: You are pretty and you know it&lt;/h2&gt;
&lt;p&gt;I am not using the default theme. Sorry, that&amp;rsquo;s just not gonna happen.&lt;/p&gt;
&lt;p&gt;Built-in
&lt;a href="https://deic.uab.cat/~iblanes/beamer_gallery/index_by_theme.html"&gt;beamer&lt;/a&gt;
&lt;a href="https://www.overleaf.com/learn/latex/Beamer"&gt;themes&lt;/a&gt; inspire me. I choose
&lt;a href="https://typst.app/universe/package/metropolis-polylux/"&gt;metropolis&lt;/a&gt;, with a few
bits of &lt;a href="https://deic.uab.cat/~iblanes/beamer_gallery/large/Frankfurt-default-default-12.png"&gt;beamer
frankfurt&lt;/a&gt;
sprinkled in (mainly the top navigation guides).&lt;/p&gt;
&lt;p&gt;Such a short section, so cute! âœ¨&lt;/p&gt;
&lt;h2 id="part-iii-how"&gt;Part III: How?&lt;/h2&gt;
&lt;p&gt;It&amp;rsquo;s 2026. Agentic LLMs are all the rage.&lt;/p&gt;
&lt;p&gt;Obviously, we&amp;rsquo;re going to use &lt;a href="https://code.claude.com/docs/en/overview"&gt;Claude
Code&lt;/a&gt;. It&amp;rsquo;s the obvious choice.
&lt;a href="https://acecombat.fandom.com/wiki/Loading_quotes"&gt;Nothing else comes close&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;OK, I&amp;rsquo;ll also give you a break if you use OpenAI, it comes in a close second. No
other choice is possible. Not if you want to become state-of-the-art. Sorry.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.goodreads.com/book/show/6667514-the-checklist-manifesto"&gt;Checklist&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;have claude code installed? Check&lt;/li&gt;
&lt;li&gt;have enough, readily available tokens to burn? Check&lt;/li&gt;
&lt;li&gt;have a &lt;a href="https://perrotta.dev/2025/12/try/"&gt;workspace&lt;/a&gt; ready? Check&lt;/li&gt;
&lt;li&gt;have &lt;code&gt;git init&lt;/code&gt; run in the workspace? Check&lt;/li&gt;
&lt;li&gt;have two claude code sessions open, one for content and one for form? Check&lt;/li&gt;
&lt;li&gt;have a &lt;code&gt;Justfile&lt;/code&gt; ready? Check&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock" data-lang="make"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;Justfile&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;make&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-make"&gt;watch:
 typst watch slides.typ&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="part-iv-the-future-starts-with-you"&gt;Part IV: &lt;a href="https://www.youtube.com/watch?v=XJIgHWnkcnA"&gt;The Future Starts With You&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Good luck out there!&lt;/p&gt;
&lt;p&gt;Iterate.
Tell the LLM what you want.
Be verbose in your prompting.
Course-correct as needed.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s no right or wrong from here.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=ZXsQAXx_ao0"&gt;&lt;strong&gt;Just do it&lt;/strong&gt;&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Making a slides presentation in 2026"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Open Source security in spite of AI</title><link>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</link><pubDate>Sat, 07 Feb 2026 11:12:24 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>fosdem</category><category>meta</category><category>posse</category><category>security</category><category>serenity</category><guid>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</guid><description>&lt;p&gt;&lt;a href="https://daniel.haxx.se/blog/2026/02/03/open-source-security-in-spite-of-ai/"&gt;Open Source security in spite of
AI&lt;/a&gt;
by &lt;a href="https://daniel.haxx.se/blog/"&gt;Daniel Stenberg&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; (of &lt;em&gt;curl&lt;/em&gt; fame):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The title of my ending keynote at FOSDEM February 1, 2026.&lt;/p&gt;
&lt;p&gt;As the last talk of the conference, at 17:00 on the Sunday lots of people had
already left, and presumably a lot of the remaining people were quite tired
and ready to call it a day.&lt;/p&gt;
&lt;p&gt;Still, the 1500 seats in Janson got occupied and there was even a group of
more people outside wanting to get in that had to be refused entry.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They say: &lt;a href="https://en.wiktionary.org/wiki/never_meet_your_heroes"&gt;&amp;ldquo;never meet your
heroes&amp;rdquo;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is unwise to seek personal acquaintance with people whom one has regarded
with high esteem, as they often fail to fulfill one&amp;rsquo;s expectations, resulting
in disappointment&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I had the opportunity to meet Daniel in person and I&amp;rsquo;m glad to state that I am
not disappointed.&lt;/p&gt;
&lt;p&gt;I was the volunteer who held the Q&amp;amp;A at the end for his talk, and that was a
pleasure.&lt;/p&gt;
&lt;p&gt;In my opinion, this was the best talk from FOSDEM 2026.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/open-source-security-in-spite-of-ai-daniel-stenberg.webp" alt="Open Source security in spite of AI â€” Daniel Stenberg"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=6wYSwZ20NJU"&gt;Recording&lt;/a&gt;.
&lt;a href="https://daniel.haxx.se/media/FOSDEM%202026%20OSS%20security%20in%20spite%20of%20AI.pdf"&gt;Slides&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Open Source security in spite of AI"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/fosdem/"&gt;#fosdem&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>macOS: enable dictation</title><link>https://perrotta.dev/2026/02/macos-enable-dictation/</link><pubDate>Fri, 06 Feb 2026 15:57:18 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>macos</category><guid>https://perrotta.dev/2026/02/macos-enable-dictation/</guid><description>&lt;p&gt;&lt;a href="https://support.apple.com/guide/mac-help/use-dictation-mh40584/mac"&gt;Dictate messages and documents on Mac&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With Dictation, you can speak to enter text anywhere you can type it.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Turn Dictation on or off&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;On your Mac, choose Apple menu &amp;gt; System Settings, then click Keyboard in the
sidebar. (You may need to scroll down.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is possible to set it to the microphone key (F5 key in Macbooks) or to a
double-press of the Globe (Fn) key.&lt;/p&gt;
&lt;p&gt;This is a good starting point to try out dictating prompts to LLMs.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: macOS: enable dictation"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;</description></item><item><title>GitHub: disable coding agent</title><link>https://perrotta.dev/2026/01/github-disable-coding-agent/</link><pubDate>Wed, 28 Jan 2026 15:15:14 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/github-disable-coding-agent/</guid><description>&lt;p&gt;If you don&amp;rsquo;t like the new &amp;ldquo;Agents&amp;rdquo; tab in GitHub (repo view), you can disable
it here: &lt;a href="https://github.com/settings/copilot/coding_agent"&gt;https://github.com/settings/copilot/coding_agent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Set it to &amp;ldquo;No repositories&amp;rdquo;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€” -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you don&amp;rsquo;t like the Copilot chat featires in GitHub, you can disable them
here: &lt;a href="https://github.com/settings/copilot/features"&gt;https://github.com/settings/copilot/features&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dashboard Entry Point
Allows instant chatting when landing on GitHub.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Set it to &amp;ldquo;Disabled&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: GitHub: disable coding agent"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Emâ€“dashes</title><link>https://perrotta.dev/2026/01/emdashes/</link><pubDate>Tue, 27 Jan 2026 00:24:45 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/emdashes/</guid><description>&lt;p&gt;I use em dashes extensively (â€“).&lt;/p&gt;
&lt;p&gt;And, apparently, &lt;a href="https://folkertstijnman.com/blog/why-em-dashes-are-common-in-llm-outputs/"&gt;so&lt;/a&gt; &lt;a href="https://medium.com/@raj-srivastava/how-llms-turned-the-em-dash-into-a-villain-technical-nuances-b564857adc3b"&gt;do&lt;/a&gt; &lt;a href="https://www.seangoedecke.com/em-dashes/"&gt;LLMs&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;These days I feel that I need to put in some &lt;em&gt;additional&lt;/em&gt; effort to make my sentences sound more natural / human, otherwise some people could erroneously assume that they&amp;rsquo;re LLM-generated.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;C&amp;rsquo;est la vie&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;On macOS, press &lt;code&gt;Option + -&lt;/code&gt; to insert an em-dash (â€“).&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Errata(2026-02-14)&lt;/strong&gt;: a reader has kindly pointed out the following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Em dash (â€”): Option (âŒ¥) + Shift (â‡§) + -&lt;/li&gt;
&lt;li&gt;En dash (â€“): Option (âŒ¥) + -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip;which means I&amp;rsquo;ve erroneously mixed them!&lt;/p&gt;
&lt;p&gt;Alternatively,
&lt;a href="https://vi.stackexchange.com/questions/2199/what-is-the-easiest-way-to-insert-en-dash-in-vim"&gt;instruct&lt;/a&gt;
&lt;code&gt;nvim&lt;/code&gt; to insert an em-dash when typing the sequence &lt;code&gt;--&amp;lt;space&amp;gt;&lt;/code&gt; (=two dashes
followed by a space) in markdown files by changing
&lt;code&gt;~/.config/nvim/after/ftplugin/markdown.lua&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="lua"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;lua&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-lua"&gt;-- Convert -- followed by space to em-dash
vim.keymap.set(&amp;#39;i&amp;#39;, &amp;#39;--&amp;lt;Space&amp;gt;&amp;#39;, &amp;#39;â€”&amp;#39;, { buffer = 0, desc = &amp;#39;Em-dash&amp;#39; })&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Or in &lt;code&gt;vim&lt;/code&gt; (&lt;code&gt;~/.vim/after/ftplugin/markdown.vim&lt;/code&gt;):&lt;/p&gt;
&lt;div class="codeblock" data-lang="vimscript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;vimscript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-vimscript"&gt;inoremap &amp;lt;buffer&amp;gt; -- â€”&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Update(2026-02-04)&lt;/strong&gt;: a reader has kindly pointed out that there&amp;rsquo;s a mistake
in my nomenclature, wherein this post is actually referring to en-dashes instead
of em-dashes. I am sure he is &lt;em&gt;absolutely right&lt;/em&gt;!&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Emâ€“dashes"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Airline Wi-Fi messaging services</title><link>https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/</link><pubDate>Tue, 20 Jan 2026 16:48:48 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/</guid><description>&lt;p&gt;Many airlines offer free Wi-Fi connectivity to their fellow passengers, up to a
certain amount of time â€” for example, 30 minutes.&lt;/p&gt;
&lt;p&gt;The connectivity is severely limited though, being typically restricted to
messaging services only (think SMS, WhatsApp, Telegram, Signal, &amp;hellip;), and just
text (no GIFs, images, videos, etc.)&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. In this context, email is not
considered to be messaging.&lt;/p&gt;
&lt;p&gt;I recently realized that (cloud) ChatGPT-like LLMs are not considered messaging
services. Which is a bummer â€” wouldn&amp;rsquo;t it be super convenient to be able to jot
down thoughts, plans and ideas to them whilst flying? And the medium is perfect
â€” texting back-and-forth is all you need. Responses don&amp;rsquo;t even have to be
streamed: split chunks would be perfectly acceptable.&lt;/p&gt;
&lt;p&gt;You heard of this million-dollar idea here first.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;An interesting observation in the Apple Mobile ecosystem, due to the
underlying architecture, is that you get to see push notifications from
services even other than messaging (for example, email). However, it&amp;rsquo;s not
possible to interact with them.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/airline-wi-fi-messaging-services/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Airline Wi-Fi messaging services"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Gemini on YouTube</title><link>https://perrotta.dev/2026/01/gemini-on-youtube/</link><pubDate>Thu, 15 Jan 2026 00:02:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>serenity</category><guid>https://perrotta.dev/2026/01/gemini-on-youtube/</guid><description>&lt;p&gt;It&amp;rsquo;s now possible to ask questions to / chat with Gen AI about YouTube
videos, directly on YouTube.&lt;/p&gt;
&lt;p&gt;Top #1 use case: &amp;ldquo;summarize this video&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;This will save &lt;em&gt;hours&lt;/em&gt; of time (per&amp;hellip;day? week? month?).&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s much more effective than watching the video at 2x speed and/or skimming
through it.&lt;/p&gt;
&lt;p&gt;Think of the likes of &amp;ldquo;10 reasons to do foo&amp;rdquo; or &amp;ldquo;Top 10 videogames / books of
2025&amp;rdquo; or &amp;ldquo;20 best travel destinations this Summer&amp;rdquo; or &amp;ldquo;How to make perfect
sourdough bread in 5 easy steps&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Now there&amp;rsquo;s no need to watch the video whatsoever, hunting for each individual
piece of information.&lt;/p&gt;
&lt;p&gt;I honestly have no idea how this helps the monetization strategy of the company.
If anything, this will make me spend &lt;em&gt;even less&lt;/em&gt; time browsing random videos.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Gemini on YouTube"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>git aicommit</title><link>https://perrotta.dev/2026/01/git-aicommit/</link><pubDate>Tue, 13 Jan 2026 15:58:48 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-aicommit/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: auto-generate a commit message for &lt;code&gt;git&lt;/code&gt; from the
command-line. The solution should be vendor agnostic.&lt;/p&gt;
&lt;p&gt;Given a &lt;code&gt;git-foo.sh&lt;/code&gt; in &lt;code&gt;$PATH&lt;/code&gt;, it can be invoked as &lt;code&gt;git foo&lt;/code&gt;, as if it
were a built-in &lt;code&gt;git&lt;/code&gt; command.&lt;/p&gt;
&lt;p&gt;This is helpful to enable seamless integration with &lt;code&gt;git&lt;/code&gt;. I chose to call the
subcommand &lt;code&gt;aicommit&lt;/code&gt;. I suppose &lt;code&gt;commit-ai&lt;/code&gt; would also be sensible.&lt;/p&gt;
&lt;p&gt;The goal is to create &lt;code&gt;git-aicommit.sh&lt;/code&gt; in &lt;code&gt;~/.bin&lt;/code&gt; (which is in my &lt;code&gt;$PATH&lt;/code&gt; via
my &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/018c50ebd86b70b30578d4a1393054fd04bd4553/profile/.profilerc#L42"&gt;.dotfiles&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;This initial draft worked well:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;#!/bin/bash
#
# git-aicommit - Create a commit with an AI-generated title based on staged changes

set -e

# Check if we&amp;#39;re inside a git repository
if [ &amp;#34;$(git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null)&amp;#34; != &amp;#34;true&amp;#34; ]; then
 echo &amp;#34;Error: Not in a git repository&amp;#34;
 exit 1
fi

# Check if there are staged changes
if git diff --cached --quiet; then
 echo &amp;#34;Error: No staged changes to commit&amp;#34;
 exit 1
fi

# Select AI agent (default: claude)
agent=&amp;#34;${GIT_AI_AGENT:-claude}&amp;#34;
case &amp;#34;$agent&amp;#34; in
 # keep-sorted start
 amp|ampcode)
 ai_prompt() { amp -x &amp;#34;$1&amp;#34;; }
 ;;
 claude)
 ai_prompt() { claude -p &amp;#34;$1&amp;#34;; }
 ;;
 # keep-sorted end
 *)
 echo &amp;#34;Error: Unknown AI agent: $agent&amp;#34;
 exit 1
 ;;
esac

prompt=&amp;#34;Look at the staged git changes and create a summarizing git commit title. Only respond with the title and no affirmation.&amp;#34;

# Generate commit message and commit
echo &amp;#34;Generating commit message with $agent...&amp;#34;
git commit -m &amp;#34;$(ai_prompt &amp;#34;$prompt&amp;#34;)&amp;#34; &amp;#34;$@&amp;#34;

echo &amp;#34;AI commit created successfully&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Refer to &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/git/.bin/git-aicommit-quick"&gt;this
source&lt;/a&gt;
for an up-to-date version as it evolves.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s break it down:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://perrotta.dev/2026/01/oneshot-prompting/"&gt;Previously&lt;/a&gt;: we employ an
oneshot command to call an LLM agent, so that there&amp;rsquo;s no need to do it
interactively. Initially I added only Claude Code and Amp because they are the
agents I use the most; perhaps this list will be expanded later on but it is
not intended to be exhaustive&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/li&gt;
&lt;li&gt;The command is intended to run in O(seconds). If it takes too long, then it
should be simplified (via a better prompt).&lt;/li&gt;
&lt;li&gt;By default it uses Claude. To use another agent, call it like:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;GIT_AI_AGENT=&amp;#34;amp&amp;#34; git aicommit&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This preference could be trivially made persistent on a per-repo basis by using
&lt;a href="https://perrotta.dev/2022/01/direnv-automate-your-environment-variables/"&gt;direnv&lt;/a&gt;.
For example, use Claude at work and Amp in personal git repositories&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;Later on I split the command into two: &lt;code&gt;git aicommit&lt;/code&gt; and &lt;code&gt;git aicommit-quick&lt;/code&gt;.
&amp;ldquo;Quick&amp;rdquo; populates the commit message title only (think &lt;code&gt;git commit -m &amp;quot;foo&amp;quot;&lt;/code&gt;),
whereas the non-quick version populates the body as well, accounting for &lt;a href="https://docs.github.com/en/communities/using-templates-to-encourage-useful-issues-and-pull-requests/creating-a-pull-request-template-for-your-repository"&gt;GitHub
PR
templates&lt;/a&gt;
when they exist. Time will tell whether I need this distinction.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;This gives me the idea to create a separate script for &amp;ldquo;oneshotting&amp;rdquo; LLMs
in &lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/news/opus-4.5"&gt;It&amp;rsquo;s all Claude anyway&lt;/a&gt;, this
distinction is mostly for the sake of discretionary billing.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/git-aicommit/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git aicommit"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>2026</title><link>https://perrotta.dev/2026/01/2026/</link><pubDate>Mon, 12 Jan 2026 17:15:37 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>posse</category><category>serenity</category><guid>https://perrotta.dev/2026/01/2026/</guid><description>&lt;p&gt;Tech. Geopolitics. 2026 is terrifying. 2026 is exciting. Both can be
simultaneously true. You can both like and dislike the current state of affairs
(yes, this includes LLMs), but your individual stance won&amp;rsquo;t change the pace in
which the world evolves.&lt;/p&gt;
&lt;p&gt;After spending most of 2024 significantly avoiding LLMs for coding, and after
spending most of 2025 carefully and skeptically observing, and eventually
(gradually) taming them, I&amp;rsquo;m kickstarting 2026 by fully embracing them.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s no panacea; and it doesn&amp;rsquo;t need to be hype (arguably, hype is terrible).
Treat the LLM selection and driving process as you would when picking an
operating system, a text editor, a package manager, a smartphone, or an ETF.
Pick one, embrace it, ignore the (noise of the) rest, and then life moves on.&lt;/p&gt;
&lt;p&gt;As such, I am announcing two new initiatives.&lt;/p&gt;
&lt;p&gt;One: I am coining an AI&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/2026/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; tag in my blog: &lt;a href="https://perrotta.dev/tags/ai/"&gt;https://perrotta.dev/tags/ai/&lt;/a&gt;. I tend
to write concise posts, primarily about workflows, with occasional tips (tips,
not &lt;em&gt;advice&lt;/em&gt;. There&amp;rsquo;s already way too much advice out there.). No &amp;ldquo;hot takes&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;Two: I am introducing a public blogroll: &lt;a href="https://perrotta.dev/blogroll/"&gt;https://perrotta.dev/blogroll/&lt;/a&gt;. This
contains a subset of blogs I follow in a grassroots and organic manner (hello,
RSS!), and makes it very frictionless for you to do the same (there&amp;rsquo;s an OPML
file there that can be easily imported in a news reader of your choice). In my
esteemed opinion, the democratization of knowledge is important. I try to shy
away from politics, and learn from all sides: I believe you can follow &lt;em&gt;both&lt;/em&gt;
DHH and Drew DeVault alike; there&amp;rsquo;s no need to &amp;ldquo;pick&amp;rdquo; any one side.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;I am also introducing a &lt;a href="https://indieweb.org/POSSE"&gt;&amp;ldquo;posse&amp;rdquo;&lt;/a&gt; tag. This
post was cross-posted to my LinkedIn.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/2026/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 2026"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… ADRs and LLMs</title><link>https://perrotta.dev/2026/01/adrs-and-llms/</link><pubDate>Sun, 11 Jan 2026 09:07:46 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/adrs-and-llms/</guid><description>&lt;p&gt;The first time I heard about &lt;a href="https://adr.github.io/"&gt;Architectural Decision
Records&lt;/a&gt; (ADRs) was with &lt;a href="https://www.georgefairbanks.com/"&gt;George
Fairbanks&lt;/a&gt; (GHF) and &lt;a href="https://www.linkedin.com/in/tituswinters"&gt;Titus
Winters&lt;/a&gt; in an internal training for
software engineers at Google Canada.&lt;/p&gt;
&lt;p&gt;The concept has resonated with me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An Architectural Decision (AD) is a justified design choice that addresses a
functional or non-functional requirement that is architecturally significant.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;An Architectural Decision Record (ADR) captures a single AD and its rationale;
Put it simply, ADR can help you understand the reasons for a chosen
architectural decision, along with its trade-offs and consequences.&lt;/p&gt;
&lt;p&gt;The collection of ADRs created and maintained in a project constitute its
decision log. All these are within the topic of Architectural Knowledge
Management (AKM), but ADR usage can be extended to design and other decisions
(&amp;ldquo;any decision record&amp;rdquo;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Some people liken these to
&lt;a href="https://en.wikipedia.org/wiki/Request_for_Comments"&gt;RFCs&lt;/a&gt;, although they are
not quite the same concept. RFCs tend to be much more formal and go through
rigorous review/approval before it becomes a standard.&lt;/p&gt;
&lt;p&gt;ADRs, on the other hand, tend to be lightweight and objective. An archetypical
ADR captures a single decision about architecture in document form, alongside
its &lt;strong&gt;rationale&lt;/strong&gt;, context and alternatives considered. &lt;strong&gt;Rationale&lt;/strong&gt; is the
keyword here.&lt;/p&gt;
&lt;p&gt;Rephrasing, in simpler terms: ADRs are a collection of rationales about a
project (software repository, if you will). They are incremental, long-living,
ever-evolving guidelines / rules of engagement for a given software realm.&lt;/p&gt;
&lt;p&gt;ADRs (and RFCs as well, for that matter) are typically stored alongside source
code in a versionâ€‘controlled repository (&lt;em&gt;cof&lt;/em&gt; git &lt;em&gt;cof&lt;/em&gt;):&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% tree
.
â””â”€â”€ adrs
 â”œâ”€â”€ 0001-foo.md
 â”œâ”€â”€ 0002-bar.md
 â””â”€â”€ 0003-baz.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;They are usually numbered, though there&amp;rsquo;s no hard rule saying that you have to
do so with monotonically increasing numbers. You could use calendar versioning
(&lt;code&gt;2025-11-11-foo.md&lt;/code&gt;), or any other numbering scheme if desired.&lt;/p&gt;
&lt;p&gt;GHF has an introductory
&lt;a href="https://www.georgefairbanks.com/blog/comparch-wicsa-2011-panel-discussion-and-haiku-tutorial/"&gt;article&lt;/a&gt;
about them. At the time (2011!), the coined term was &amp;ldquo;Architecture Haiku&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can&amp;rsquo;t say anything in one page â€” or can you? An Architecture Haiku is a
one-page, quick-to-build, Ã¼ber-terse design description. No project wants
&amp;ldquo;shelfware&amp;rdquo; documentation, but many must communicate their design to others.
Brevity is hard â€” what would you say in one page? With no page limit, experts
suggest documenting everything but the kitchen sink. The one-page limit forces
you to convey the essence of your design using compact language and concepts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Enough introduction, here is my hot take.&lt;/p&gt;
&lt;p&gt;I would like to argue that codebases that continually evolve with heavy usage of
LLM coding agents will strongly benefit from ADRs now, and especially in the
future.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://agents.md/"&gt;AGENTS.md&lt;/a&gt; format is a starting point, but it&amp;rsquo;s a far
cry from disciplined ADR enactment. Bootstrapping your git repository with
scattered &lt;code&gt;AGENTS.md&lt;/code&gt; / &lt;code&gt;CLAUDE.md&lt;/code&gt; all over the place is a good initial
practice to tell the agent what to do and/or how to behave, but it does not
capture &lt;em&gt;decision records&lt;/em&gt; effectively.&lt;/p&gt;
&lt;p&gt;The workflow I am starting to adopt in important repositories wherein I work
with teammates resembles this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% tree docs/
docs/
â”œâ”€â”€ adrs
â”‚ â”œâ”€â”€ 0001-aws-secrets-manager-migration.md
â”‚ â”œâ”€â”€ 0002-cluster-infrastructure-architecture.md
â”‚ â”œâ”€â”€ 0003-slack-drift-notifications.md
â”‚ â””â”€â”€ README.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;A top-level &lt;code&gt;docs/&lt;/code&gt; directory is the entrypoint for all &lt;code&gt;.md&lt;/code&gt; files docs. Inside
it, we store our ADRs.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;README.md&lt;/code&gt; describes how to define an ADR:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Architecture Decision Records

This directory contains Architecture Decision Records (ADRs) for significant
technical decisions in the Terraform infrastructure.

## ADRs

&amp;lt;!-- markdownlint-disable MD013 --&amp;gt;
`&amp;gt; echo &amp;#34;| Number | Title | Status | Date |&amp;#34;; echo &amp;#34;|--------|-------|--------|------|&amp;#34;; for f in 0*.md; do num=$(basename &amp;#34;$f&amp;#34; .md | cut -d- -f1); title=$(head -1 &amp;#34;$f&amp;#34; | sed &amp;#39;s/^# ADR-[0-9]*: //&amp;#39;); status=$(awk &amp;#39;/^## Status/{getline;getline;print}&amp;#39; &amp;#34;$f&amp;#34;); date=$(awk &amp;#39;/^## Date/{getline;getline;print}&amp;#39; &amp;#34;$f&amp;#34;); echo &amp;#34;| [$num]($f) | $title | $status | $date |&amp;#34;; done`

&amp;lt;!-- BEGIN mdsh --&amp;gt;
| Number | Title | Status | Date |
|--------|-------|--------|------|
| [0001](0001-aws-secrets-manager-migration.md) | AWS Secrets Manager Migration | Proposed (Not Yet Implemented) | 2025-11-22 |
| [0002](0002-cluster-infrastructure-architecture.md) | Cluster Infrastructure Architecture | Accepted | 2025-12-01 |
| [0003](0003-slack-drift-notifications.md) | Slack Drift Notifications | Accepted | 2024-12-01 |
&amp;lt;!-- END mdsh --&amp;gt;
&amp;lt;!-- markdownlint-enable MD013 --&amp;gt;

## Adding New ADRs

1. Create a new file: `NNNN-short-title.md` (increment the number)
2. Use this template:

```markdown
# ADR-NNNN: Title

## Status

Proposed | Accepted | Deprecated | Superseded

## Date

YYYY-MM-DD

## Context

What is the issue that we&amp;#39;re seeing that is motivating this decision?

## Decision

What is the change that we&amp;#39;re proposing and/or doing?
Include its rationale.
Include alternatives considered where applicable.

## Consequences

What becomes easier or more difficult to do because of this change?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Whenever a new significant direction is adopted in the repository, or whenever
something (a tool, a dependency, a process) &lt;em&gt;quasi&lt;/em&gt;-disrupting is introduced, it
probably deserves its own ADR.&lt;/p&gt;
&lt;p&gt;It used to be tedious to write them by hand, but nowadays your LLM agent can
draft ADRs for you. Arguably, a plan&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; file maps naturally to an ADR. All you
have to do is to add &lt;em&gt;some&lt;/em&gt; structure to them&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;See also&lt;/strong&gt;: &lt;a href="https://en.wikipedia.org/wiki/Architectural_decision"&gt;https://en.wikipedia.org/wiki/Architectural_decision&lt;/a&gt;&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;em&gt;Plan&lt;/em&gt; in the context of &amp;ldquo;planning mode&amp;rdquo; that various agents have these
days e.g. &lt;a href="https://code.claude.com/docs/en/model-config"&gt;Claude Code&lt;/a&gt;,
&lt;a href="https://opencode.ai/docs/modes/#plan"&gt;OpenCode&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;But &lt;a href="https://danielmiessler.com/blog/personal-ai-infrastructure"&gt;don&amp;rsquo;t&lt;/a&gt;
&lt;a href="https://github.com/steveyegge/beads"&gt;&lt;em&gt;overdo&lt;/em&gt;&lt;/a&gt; it.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ADRs and LLMs"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude --teleport</title><link>https://perrotta.dev/2026/01/claude--teleport/</link><pubDate>Sat, 10 Jan 2026 22:26:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude--teleport/</guid><description>&lt;p&gt;After starting a coding session on the web with &lt;a href="https://code.claude.com/docs/en/claude-code-on-the-web"&gt;Claude Code on
Web&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/claude--teleport/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;, you can &lt;a href="https://code.claude.com/docs/en/claude-code-on-the-web#from-web-to-terminal"&gt;resume it
in the
terminal&lt;/a&gt;
with the traditional Claude Code CLI app by running &lt;code&gt;claude --teleport&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Without arguments, it prompts you to interactively choose an existing session to
resume:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt; Select a session to resume:

 Updated Session Title
 â¯ 1. 52m ago Migrate secrets from Gringotts to AWS Secrets Manager
 2. 53m ago Plan Hoth integration with dual provider OIDC
 3. 54m ago Add Strangereal terraform state bucket standalone project
 4. 2w ago Write a CLAUDE.md
 5. 1mo ago Address review comments on pull request 42123&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;With a provided session ID argument, the session is immediately resumed.&lt;/p&gt;
&lt;p&gt;The docs mention the existence of the &lt;code&gt;/teleport&lt;/code&gt; command within Claude Code but I
could not find it in my instance (version v2.1.4).&lt;/p&gt;
&lt;p&gt;This &lt;a href="https://xcancel.com/bcherny/status/2007179832300581177"&gt;workflow&lt;/a&gt; (&amp;ldquo;start
on your phone, resume later on your computer afterwards&amp;rdquo;) is starting to become
popularized.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://claude.ai/code"&gt;https://claude.ai/code&lt;/a&gt;&amp;#160;&lt;a href="https://perrotta.dev/2026/01/claude--teleport/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude --teleport"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>git: shell prompt: worktrees</title><link>https://perrotta.dev/2026/01/git-shell-prompt-worktrees/</link><pubDate>Sat, 10 Jan 2026 15:15:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/git-shell-prompt-worktrees/</guid><description>&lt;p&gt;My shell prompt displays the git branch my repository has
currently checked out:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;thiago.perrotta perrotta.dev git:master?
â¯&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: augment that prompt to signal whether we&amp;rsquo;re inside a
checked out &lt;a href="https://git-scm.com/docs/git-worktree"&gt;git worktree&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This is helpful because lately multiple repository worktrees have been
popularized thanks to LLM coding agents.&lt;/p&gt;
&lt;p&gt;The following change to &lt;a href="https://perrotta.dev/2025/12/starship/"&gt;starship&lt;/a&gt; does the
trick:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;commit b7de6881c0fb57c840def52189502985442842e1
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Fri Jan 9 21:18:09 2026 -0300

 starship: add worktree symbol

diff --git starship/.config/starship.toml starship/.config/starship.toml
index 87df9ff..ea7acc8 100644
--- starship/.config/starship.toml
&amp;#43;&amp;#43;&amp;#43; starship/.config/starship.toml
@@ -1,5 &amp;#43;1,5 @@
 # Minimal starship config matching grml prompt
-format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status$line_break$character&amp;#34;
&amp;#43;format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}$line_break$character&amp;#34;
 right_format = &amp;#34;$cmd_duration$jobs&amp;#34;
 add_newline = true

@@ -24,13 &amp;#43;24,13 @@ format = &amp;#34; [$path](bold) &amp;#34;

 [git_branch]
 symbol = &amp;#34;git:&amp;#34;
-format = &amp;#34;[$symbol$branch](bold cyan) &amp;#34;
&amp;#43;format = &amp;#34;[$symbol$branch](bold cyan)&amp;#34;

 [git_state]
 format = &amp;#34;|[$state]()&amp;#34;

 [git_status]
-format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red) &amp;#34;
&amp;#43;format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red)&amp;#34;

 [cmd_duration]
 min_time = 2000
@@ -46,3 &amp;#43;46,9 @@ format = &amp;#34;[ğŸ§™](red) &amp;#34;
 [character]
 success_symbol = &amp;#34;[â¯](green)&amp;#34;
 error_symbol = &amp;#34;[x](red)&amp;#34;
&amp;#43;
&amp;#43;[custom.git_worktree]
&amp;#43;command = &amp;#34;printf &amp;#39;â‡&amp;#39;&amp;#34; # or ğŸŒ², but I find the emoji too distracting in this context
&amp;#43;when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null &amp;amp;&amp;amp; [ -f $(git rev-parse --git-dir)/commondir ]&amp;#34;
&amp;#43;format = &amp;#34; [$output]($style)&amp;#34;
&amp;#43;style = &amp;#34;bold yellow&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;You don&amp;rsquo;t need to use starship to adopt it. The core logic is:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;git rev-parse --is-inside-work-tree &amp;amp;&amp;gt;/dev/null &amp;amp;&amp;amp; [ -f &amp;#34;$(git rev-parse --git-dir)/commondir&amp;#34; ] &amp;amp;&amp;amp; printf &amp;#39;â‡&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The result:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;thiago.perrotta perrotta.dev git:thiagowfx/my-custom-branch â‡
â¯&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It is subtle yet informative.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git: shell prompt: worktrees"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: release notes RSS feed</title><link>https://perrotta.dev/2026/01/claude-code-release-notes-rss-feed/</link><pubDate>Mon, 05 Jan 2026 15:31:45 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude-code-release-notes-rss-feed/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2026/01/claude-code-tips/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Stay up-to-date with the &lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;
&lt;a href="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md"&gt;CHANGELOG&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Did you know &lt;a href="https://stackoverflow.com/questions/21986561/rss-to-a-github-file"&gt;it&amp;rsquo;s
possible&lt;/a&gt; to
obtain a RSS feed straight from a github repo?&lt;/p&gt;
&lt;p&gt;The Claude Code github repository: &lt;a href="https://github.com/anthropics/claude-code/releases"&gt;https://github.com/anthropics/claude-code/releases&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Its feed: &lt;a href="https://github.com/anthropics/claude-code/releases.atom"&gt;https://github.com/anthropics/claude-code/releases.atom&lt;/a&gt; â€“ just append
&lt;code&gt;.atom&lt;/code&gt; to the repo releases URL.&lt;/p&gt;
&lt;p&gt;If you don&amp;rsquo;t have a favorite RSS reader yet, I recommendd &lt;a href="https://perrotta.dev/2022/01/miniflux-rolling-my-own-rss-reader/"&gt;Miniflux&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: release notes RSS feed"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code tips</title><link>https://perrotta.dev/2026/01/claude-code-tips/</link><pubDate>Mon, 05 Jan 2026 15:18:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/claude-code-tips/</guid><description>&lt;p&gt;These are great collections:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ykdojo/claude-code-tips"&gt;https://github.com/ykdojo/claude-code-tips&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://adocomplete.com/advent-of-claude-2025/"&gt;https://adocomplete.com/advent-of-claude-2025/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;New tips to me:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/rename&lt;/code&gt; to set a session name, like you would with a tmux window. Later
on, resume the session with &lt;code&gt;/resume {name}&lt;/code&gt; or &lt;code&gt;claude --resume {name}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Since
&lt;a href="https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md#2074"&gt;v2.0.74&lt;/a&gt;
LSP became a first-class citizen, comparable to OpenCode:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Added LSP (Language Server Protocol) tool for code intelligence features like
go-to-definition, find references, and hover documentation&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code tips"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Anything else you may have missed?</title><link>https://perrotta.dev/2026/01/anything-else-you-may-have-missed/</link><pubDate>Sat, 03 Jan 2026 19:30:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/anything-else-you-may-have-missed/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/09/hello/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Whenever the LLM is too confident after performing some work:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &lt;em&gt;Anything else you may have missed?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Repeat a few times in a row.&lt;/p&gt;
&lt;p&gt;It is non-deterministic, it&amp;rsquo;s not idempotent.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Anything else you may have missed?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Oneshot prompting</title><link>https://perrotta.dev/2026/01/oneshot-prompting/</link><pubDate>Sat, 03 Jan 2026 16:35:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/oneshot-prompting/</guid><description>&lt;p&gt;I just wrote &lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/"&gt;this post&lt;/a&gt; about &lt;code&gt;neovim&lt;/code&gt; and &lt;code&gt;git&lt;/code&gt; hunks.&lt;/p&gt;
&lt;p&gt;In it I mentioned various git repositories, but did not link to them whilst
writing the post. Ah, these lazy engineers.&lt;/p&gt;
&lt;p&gt;Why not ask the LLM to link to them for me, especially because they are popular
projects? Then I had the idea to try to do it without opening an interactive
coding agent as I&amp;rsquo;m used to (think of Claude Code, OpenAI Codex, Amp Code, Open
Code).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% amp -x &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#34;
Error: Insufficient credit balance.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% amp --mode free -x &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#34;
Error: Execute mode is not permitted with --mode &amp;#39;free&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Oh. Okay.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/badlogic/pi-mono"&gt;Pi&lt;/a&gt; + Gemini 3 Pro Preview:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% pi -p &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#34;
I have added the requested GitHub repository links for the Git TUIs (gitui, tig, lazygit) in the blog post `content/posts/2026-01-03-neovim-inline-git-hunk-control.md`.

Here are the changes made:
- `gitui` -&amp;gt; `[gitui](https://github.com/extrawurst/gitui)`
- `tig` -&amp;gt; `[tig](https://github.com/jonas/tig)`
- `lazygit` -&amp;gt; `[lazygit](https://github.com/jesseduffield/lazygit)`&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Great job! Let&amp;rsquo;s &lt;code&gt;git stash&lt;/code&gt; it and try again with other agents I use, for the
sake of completeness. I&amp;rsquo;ll use the same prompt.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; + Sonnet 4.5:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude -p &amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#39;
I need your permission to edit the file `content/posts/2026-01-03-neovim-inline-git-hunk-control.md` to add GitHub repository links to the git TUIs (gitui, tig, and lazygit).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;claude --dangerously-skip-permissions -p &amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#39;
Perfect! I&amp;#39;ve added GitHub repository links to all three git TUIs mentioned in the post:

1. **gitui** â†’ https://github.com/extrawurst/gitui
2. **tig** â†’ https://github.com/jonas/tig
3. **lazygit** â†’ https://github.com/jesseduffield/lazygit

The links are now properly formatted as Markdown links in the post at `content/posts/2026-01-03-neovim-inline-git-hunk-control.md:52-54`.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://openai.com/codex/"&gt;OpenAI Codex&lt;/a&gt; + GPT 5.1 Codex Max:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% codex exec &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#34;
[...lots of output...]
-- **gitui**
-- tig
-- lazygit
&amp;#43;- **[gitui](https://github.com/extrawurst/gitui)**
&amp;#43;- [tig](https://github.com/jonas/tig)
&amp;#43;- [lazygit](https://github.com/jesseduffield/lazygit)

 ...or graphically with IDEs with as VSCode.


tokens used
7,432
- Added GitHub repository links for gitui, tig, and lazygit in `content/posts/2026-01-03-neovim-inline-git-hunk-control.md` so readers can jump to each TUI.
- No tests run (doc-only change).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://opencode.ai/"&gt;Open Code&lt;/a&gt; + GLM 4.7 Free:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% opencode --model opencode/glm-4.7-free run &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim-inline-git-hunk-control.md&amp;#34;
| Read content/posts/2026-01-03-neovim-inline-git-hunk-control.md
| Search Web search: tig git tui github repository
| Search Web search: gitui github repository
| Search Web search: lazygit github repository
| Edit content/posts/2026-01-03-neovim-inline-git-hunk-control.md

Done. Added GitHub links for gitui, tig, and lazygit to the post.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git --no-pager diff
diff --git content/posts/2026-01-03-neovim-inline-git-hunk-control.md content/posts/2026-01-03-neovim-inline-git-hunk-control.md
index 1a6465f3b..3324a71c7 100644
--- content/posts/2026-01-03-neovim-inline-git-hunk-control.md
&amp;#43;&amp;#43;&amp;#43; content/posts/2026-01-03-neovim-inline-git-hunk-control.md
@@ -49,9 &amp;#43;49,9 @@ What now&amp;gt;

 It&amp;#39;s also possible to manage hunks via git TUIs (=from the terminal) such as:

-- **gitui**
-- tig
-- lazygit
&amp;#43;- **[gitui](https://github.com/gitui-org/gitui)**
&amp;#43;- [tig](https://github.com/jonas/tig)
&amp;#43;- [lazygit](https://github.com/jesseduffield/lazygit)

 ...or graphically with IDEs with as VSCode.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Guess which one is my favorite for simple tasks?&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Oneshot prompting"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: block dangerous commands</title><link>https://perrotta.dev/2025/12/claude-code-block-dangerous-commands/</link><pubDate>Sun, 21 Dec 2025 18:16:12 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/12/claude-code-block-dangerous-commands/</guid><description>&lt;p&gt;The outcome:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; Run rm -rf /tmp/test

âº Bash(rm -rf /tmp/test)
 â¿ PreToolUse:Bash hook returned blocking error
 â¿ Error: rm -rf is blocked for safety

âº The rm -rf command was blocked by a safety hook in your configuration (~/.claude/hooks/block-dangerous-commands.sh).

 If you want to remove /tmp/test, you have a few options:

 1. Run the command directly in your terminal (outside of Claude Code)
 2. Modify your hooks configuration to allow this specific command
 3. Use a safer alternative like rm -r /tmp/test (without force flag) which may prompt for confirmation

 Would you like me to try one of the alternatives, or would you prefer to run this directly in your terminal?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;How to achieve this?&lt;/p&gt;
&lt;p&gt;So far I had a &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/8a61441dbe1adf5760544e0db6b4c64a145bb6e7/claude/.claude/settings.json#L63"&gt;deny
list&lt;/a&gt;
in &lt;code&gt;~/.claude/settings.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-json"&gt;{
 &amp;#34;permissions&amp;#34;: {
 &amp;#34;deny&amp;#34;: [
 &amp;#34;Bash(rm -rf:*)&amp;#34;,
 &amp;#34;Bash(terraform apply:*)&amp;#34;,
 &amp;#34;Bash(terraform destroy:*)&amp;#34;
 ]
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;This is enough&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;For extra safety though, I added a &lt;a href="https://code.claude.com/docs/en/hooks#pretooluse"&gt;pre-tool use
hook&lt;/a&gt; for redundancy:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Runs after Claude creates tool parameters and before processing the
tool call.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-json"&gt;{
 &amp;#34;hooks&amp;#34;: {
 &amp;#34;PreToolUse&amp;#34;: [
 {
 &amp;#34;matcher&amp;#34;: &amp;#34;Bash&amp;#34;,
 &amp;#34;hooks&amp;#34;: [
 {
 &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;,
 &amp;#34;command&amp;#34;: &amp;#34;~/.claude/hooks/block-dangerous-commands.sh&amp;#34;,
 &amp;#34;timeout&amp;#34;: 10
 }
 ]
 }
 ]
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The hook file (generated by Claude itself, needless to say):&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;#!/bin/bash
# PreToolUse hook to block dangerous commands like &amp;#34;rm -rf&amp;#34; and &amp;#34;terraform apply&amp;#34;

# Read hook input from stdin
input=$(cat)

# Extract tool name and command
tool_name=$(echo &amp;#34;$input&amp;#34; | jq -r &amp;#39;.tool_name // &amp;#34;&amp;#34;&amp;#39;)
command=$(echo &amp;#34;$input&amp;#34; | jq -r &amp;#39;.tool_input.command // &amp;#34;&amp;#34;&amp;#39;)

# Exit early if not a Bash tool
if [ &amp;#34;$tool_name&amp;#34; != &amp;#34;Bash&amp;#34; ]; then
 exit 0
fi

# Check for dangerous patterns
blocked=false
reason=&amp;#34;&amp;#34;

# Check for rm -rf (with various flag orderings)
if echo &amp;#34;$command&amp;#34; | grep -qE &amp;#39;rm\s&amp;#43;(-[a-zA-Z]*r[a-zA-Z]*f|(-[a-zA-Z]*f[a-zA-Z]*\s&amp;#43;)?-[a-zA-Z]*r|-rf|-fr)\b&amp;#39;; then
 blocked=true
 reason=&amp;#34;rm -rf is blocked for safety&amp;#34;
fi

# Check for terraform apply (without -auto-approve is still dangerous)
if echo &amp;#34;$command&amp;#34; | grep -qE &amp;#39;terraform\s&amp;#43;apply&amp;#39;; then
 blocked=true
 reason=&amp;#34;terraform apply is blocked - use terraform plan first&amp;#34;
fi

# Check for terraform destroy
if echo &amp;#34;$command&amp;#34; | grep -qE &amp;#39;terraform\s&amp;#43;destroy&amp;#39;; then
 blocked=true
 reason=&amp;#34;terraform destroy is blocked for safety&amp;#34;
fi

# If blocked, return denial via JSON
if [ &amp;#34;$blocked&amp;#34; = true ]; then
 cat &amp;lt;&amp;lt;EOF
{
 &amp;#34;hookSpecificOutput&amp;#34;: {
 &amp;#34;hookEventName&amp;#34;: &amp;#34;PreToolUse&amp;#34;,
 &amp;#34;permissionDecision&amp;#34;: &amp;#34;deny&amp;#34;,
 &amp;#34;permissionDecisionReason&amp;#34;: &amp;#34;$reason&amp;#34;
 }
}
EOF
 exit 0
fi

# Allow command to proceed
exit 0&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: block dangerous commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: stash</title><link>https://perrotta.dev/2025/12/claude-code-stash/</link><pubDate>Sun, 21 Dec 2025 16:48:26 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/12/claude-code-stash/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: You&amp;rsquo;re midway in a long, multi-line prompt in Claude
Code.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy
eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam
voluptua. At vero eos et accusam et justo duo dolores et ea rebum. Stet
clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit
amet. Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam
nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat,
sed diam voluptua. At vero eos et accusam et justo duo dolores et ea
rebum. Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum
dolor sit amet.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now you would like to &amp;ldquo;stash&amp;rdquo; it away temporarily to run a more important,
one-off prompt, before resuming.&lt;/p&gt;
&lt;p&gt;If this were an one-line prompt, you could hit &lt;code&gt;C-u&lt;/code&gt;, run your one-off, and then
hit &lt;code&gt;C-y&lt;/code&gt;. This is pure &lt;code&gt;readline&lt;/code&gt; / &lt;code&gt;emacs&lt;/code&gt; wizardry, supported natively in the
TUI that Claude Code employs.&lt;/p&gt;
&lt;p&gt;For the multi-line situation, hit &lt;code&gt;C-s&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Claude will then show:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;â€º Stashed (auto-restores after submit)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;From here, run your one-off. Your initial prompt will be automatically
restored upon completion.&lt;/p&gt;
&lt;p&gt;Alternatively, press &lt;code&gt;C-s&lt;/code&gt; again to restore the initial prompt.&lt;/p&gt;
&lt;p&gt;This is a simple quality-of-life improvement, but it&amp;rsquo;s specific to Claude Code.
&lt;code&gt;C-u&lt;/code&gt; + &lt;code&gt;C-y&lt;/code&gt; works almost everywhere though.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: stash"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: add context window % to status line</title><link>https://perrotta.dev/2025/12/claude-code-add-context-window-to-status-line/</link><pubDate>Sat, 20 Dec 2025 15:42:11 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/12/claude-code-add-context-window-to-status-line/</guid><description>&lt;blockquote&gt;
&lt;p&gt;Claude code now officially supports showing context window information like
percentage of usage in status line (&lt;a href="https://aiengineerguide.com/blog/show-context-window-information-in-claude-code-statusline/"&gt;via Ashik Nesin&lt;/a&gt;):&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; /statusline Add a progress bar showing the percentage of context currently used

âº statusline-setup(Configure statusline progress bar)
 â¿ Done (3 tool uses Â· 7.4k tokens Â· 44s)

âº I&amp;#39;ve configured your statusline to include a context usage progress bar. Your status line will now show something like:

 .claude (git:main) [Claude 3.5 Sonnet] [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘ 60%]

 The progress bar displays:
 - Filled blocks (â–ˆ) for used context
 - Empty blocks (â–‘) for remaining context
 - Percentage showing exact usage

 The context calculation includes input tokens, cache creation tokens, and cache read tokens relative to the total context window size.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;My updated
&lt;a href="https://github.com/thiagowfx/.dotfiles/blob/8ab831db16c8e042f024081744e723c5abf790c7/claude/.claude/statusline.sh"&gt;&lt;code&gt;.claude/statusline.sh&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/thiagowfx/.dotfiles/commit/8ab831db16c8e042f024081744e723c5abf790c7"&gt;The
diff&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: add context window % to status line"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Claude Code: notify when needed</title><link>https://perrotta.dev/2025/12/claude-code-notify-when-needed/</link><pubDate>Thu, 04 Dec 2025 02:36:16 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/12/claude-code-notify-when-needed/</guid><description>&lt;p&gt;This is one little productivity boost to make you a 10x Engineer! None of the
popular AI blogs talk about this!!1!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Make Claude Code emit a chime whenever it needs
attention.&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;commit e668b387b6b34943143b046ad915effbd3945601
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Thu Dec 4 02:33:11 2025 -0300

 add a notification hook

diff --git claude/.claude/settings.json claude/.claude/settings.json
index 1979baf..1ac35da 100644
--- claude/.claude/settings.json
&amp;#43;&amp;#43;&amp;#43; claude/.claude/settings.json
@@ -1,7 &amp;#43;1,20 @@
 {
 &amp;#34;env&amp;#34;: {
 &amp;#34;CLAUDE_CODE_ENABLE_TELEMETRY&amp;#34;: &amp;#34;0&amp;#34;
 },
&amp;#43; &amp;#34;hooks&amp;#34;: {
&amp;#43; &amp;#34;Notification&amp;#34;: [
&amp;#43; {
&amp;#43; &amp;#34;hooks&amp;#34;: [
&amp;#43; {
&amp;#43; &amp;#34;command&amp;#34;: &amp;#34;afplay /System/Library/Sounds/Glass.aiff &amp;amp;&amp;#34;,
&amp;#43; &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;
&amp;#43; }
&amp;#43; ]
&amp;#43; }
&amp;#43; ]
&amp;#43; },&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This is the JSON snippet for ease of copy and paste, you&amp;rsquo;ll add it to your
&lt;code&gt;~/.claude/settings.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;#34;hooks&amp;#34;: {
 &amp;#34;Notification&amp;#34;: [
 {
 &amp;#34;hooks&amp;#34;: [
 {
 &amp;#34;command&amp;#34;: &amp;#34;afplay /System/Library/Sounds/Glass.aiff &amp;amp;&amp;#34;,
 &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;
 }
 ]
 }
 ]
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This command is for macOS only, but it could be easily adapted to Linux (use
&lt;code&gt;aplay&lt;/code&gt; instead).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.claude.com/docs/en/hooks#notification"&gt;Claude Code Hooks docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Runs when Claude Code sends notifications. Supports matchers to filter by
notification type.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;macOS ships with various system sounds in &lt;code&gt;/System/Library/Sounds&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This inspiration came from &lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;. Amp plays the
&lt;code&gt;Submarine.aiff&lt;/code&gt; sound by default.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: notify when needed"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Claude: new slash commands</title><link>https://perrotta.dev/2025/11/claude-new-slash-commands/</link><pubDate>Sun, 23 Nov 2025 17:43:04 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/claude-new-slash-commands/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-custom-commands/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instead of creating custom slash commands myself, now I am turning to Claude to
do so for me.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@agent-claude-code-guide create a slash command for&amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a built-in agent.&lt;/p&gt;
&lt;p&gt;Let the &lt;del&gt;experts&lt;/del&gt; agents handle the cruft.&lt;/p&gt;
&lt;p&gt;For example, &lt;code&gt;/commit&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% cat ~/.claude/commands/commit.md
---
allowed_tools: [&amp;#34;Bash(git add:*)&amp;#34;, &amp;#34;Bash(git commit:*)&amp;#34;, &amp;#34;Bash(git status:*)&amp;#34;, &amp;#34;Bash(git rev-parse:*)&amp;#34;]
argument-hint: [message]
description: Make a concise git commit on the current branch
---

Create a concise git commit with the provided message.

Steps:
1. Show current git status to confirm changes
2. Commit with the provided message
3. Ask the user if they want to push the changes

If the user provides a message as argument, use it directly. Otherwise, ask them for a commit message.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude: new slash commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Shell memoization: lazy-load LLM API keys</title><link>https://perrotta.dev/2025/11/shell-memoization-lazy-load-llm-api-keys/</link><pubDate>Mon, 10 Nov 2025 13:55:56 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>security</category><guid>https://perrotta.dev/2025/11/shell-memoization-lazy-load-llm-api-keys/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Given LLM keys shell environment variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ANTHROPIC_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GEMINI_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OPENAI_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Export them only when they are needed.&lt;/p&gt;
&lt;p&gt;When are they needed? If I launch any one of these binaries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;llm&lt;/code&gt; (generic)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aider&lt;/code&gt; (generic)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gemini&lt;/code&gt; (provider-specific: Google)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;codex&lt;/code&gt; (provider-specific: OpenAI)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;claude&lt;/code&gt; (provider-specific: Anthropic)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I added the following snippet in my shell profile:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Lazy-load API keys only when needed to avoid shell startup delay
if command -v llm &amp;amp;&amp;gt;/dev/null; then
 _load_api_keys() {
 export ANTHROPIC_API_KEY=&amp;#34;$(command llm keys get anthropic)&amp;#34;
 export GEMINI_API_KEY=&amp;#34;$(command llm keys get gemini)&amp;#34;
 export OPENAI_API_KEY=&amp;#34;$(command llm keys get openai)&amp;#34;
 # Redefine itself to be a no-op after first call
 _load_api_keys() { :; }
 }

 # Wrap all AI CLI commands to auto-load keys
 for cmd in claude llm aider codex gemini; do
 command -v $cmd &amp;amp;&amp;gt;/dev/null &amp;amp;&amp;amp; eval &amp;#34;${cmd}() { _load_api_keys; command ${cmd} \&amp;#34;\$@\&amp;#34;; }&amp;#34;
 done
fi&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The keys are loaded via &lt;code&gt;llm keys get&lt;/code&gt;. This is not secure, but it is practical.
A more secure approach would be to read the credentials directly from a password
manager. This trade-off is acceptable in the environment I am currently
operating on, but I would not recommend it as an universal approach.&lt;/p&gt;
&lt;p&gt;A temporary &lt;code&gt;_load_api_keys&lt;/code&gt; shell function is defined. The first time it is
executed, it &lt;code&gt;export&lt;/code&gt;s each one of the LLM API keys. From the second time
onwards it will be a no-op, thanks to &lt;code&gt;:&lt;/code&gt;. In bash/zsh we can redefine a
function from within itself thanks to dynamic scoping. Wild.&lt;/p&gt;
&lt;p&gt;Last but not least: I wrapped up (&amp;ldquo;decorated&amp;rdquo; in function parlance) all
LLM-related commands with a shell function that runs &lt;code&gt;_load_api_keys&lt;/code&gt; before
invoking the original command.&lt;/p&gt;
&lt;p&gt;This approach is elegant and easy to maintain.&lt;/p&gt;
&lt;p&gt;My initial implementation had been more fine-grained: &lt;code&gt;ANTHROPIC_API_KEY&lt;/code&gt; would
drive &lt;code&gt;claude&lt;/code&gt;, &lt;code&gt;llm&lt;/code&gt; and &lt;code&gt;aider&lt;/code&gt;, but not &lt;code&gt;gemini&lt;/code&gt; and &lt;code&gt;codex&lt;/code&gt;, and so on.
Ultimately I decided that the additional complexity of mapping individual
providers optimally is not warranted.&lt;/p&gt;
&lt;p&gt;Why is this memoization necessary in the first place?&lt;/p&gt;
&lt;p&gt;My shell (&lt;code&gt;zsh&lt;/code&gt;) startup was significantly slow before this change,
&lt;code&gt;O(seconds)&lt;/code&gt;. Each call to &lt;code&gt;llm keys get&lt;/code&gt; takes about half a second in my
machine. I do not think it&amp;rsquo;s acceptable to wait for 2s before having your shell
readily available with a prompt.&lt;/p&gt;
&lt;p&gt;Before this approach, I had used
&lt;a href="https://github.com/romkatv/zsh-defer"&gt;&lt;code&gt;zsh-defer&lt;/code&gt;&lt;/a&gt; to delay populating the API
keys. However, this has only &lt;em&gt;deferred&lt;/em&gt; (&lt;em&gt;cof&lt;/em&gt;) my problems. The startup delay
was still noticeable.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Shell memoization: lazy-load LLM API keys"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: paste in images</title><link>https://perrotta.dev/2025/10/claude-code-paste-in-images/</link><pubDate>Wed, 29 Oct 2025 16:37:57 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-paste-in-images/</guid><description>&lt;p&gt;&lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; supports images as
input.&lt;/p&gt;
&lt;p&gt;Absolutely incredible; considering that it is a TUI, one would usually not
expect the ability to do so.&lt;/p&gt;
&lt;p&gt;Copy the image to your clipboard as usual, and then paste it in with &lt;code&gt;Ctrl + V&lt;/code&gt;,
as you would in any GUI app:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt; â–â–›â–ˆâ–ˆâ–ˆâ–œâ–Œ Claude Code v2.0.28
â–â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–›â–˜ Sonnet 4.5 Â· API Usage Billing
 â–˜â–˜ â–â– /Users/thiago.perrotta/corp/gitops

&amp;gt; Document in the @README.md how to use the argocd CLI with our setup.

[Image #1][Image #2]
 â¿ Read README.md (937 lines)

âº I&amp;#39;ll add comprehensive ArgoCD CLI documentation to the README. Let me examine the current structure
 and add a new section after the User Management section.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: paste in images"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>MCP: model context protocol considered harmful</title><link>https://perrotta.dev/2025/10/mcp-model-context-protocol-considered-harmful/</link><pubDate>Fri, 17 Oct 2025 13:07:03 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/10/mcp-model-context-protocol-considered-harmful/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I configured my &lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;
instance at work to include exactly 3 MCP servers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;github&lt;/li&gt;
&lt;li&gt;playwright (browser automation / testing)&lt;/li&gt;
&lt;li&gt;atlassian (JIRA, Confluence, etc)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Sensible, right? It&amp;rsquo;s not like I&amp;rsquo;m a heavy user of MCPs. I mostly care about:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;PR introspection / creation&lt;/li&gt;
&lt;li&gt;occasional unit / integration testing in the browser&lt;/li&gt;
&lt;li&gt;JIRA (read access)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I didn&amp;rsquo;t even have the opportunity to add an MCP for Docker or Kubernetes yet.&lt;/p&gt;
&lt;p&gt;And yet:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% claude
&amp;gt; /context
 â¿
 Context Usage
 â› â› â› â› â› â› â› â› â› â› claude-sonnet-4-5-20250929 Â· 133k/200k tokens (67%)
 â› â› â› â› â› â› â› â› â› â›
 â› â› â› â› â› â› â› â› â› â› â› System prompt: 2.5k tokens (1.2%)
 â› â› â› â› â› â› â› â› â› â› â› System tools: 13.8k tokens (6.9%)
 â› â› â› â› â›€ â›€ â›¶ â›¶ â›¶ â›¶ â› MCP tools: 71.7k tokens (35.9%)
 â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â› Custom agents: 209 tokens (0.1%)
 â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â› Messages: 8 tokens (0.0%)
 â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â›¶ â› â› â› â›¶ Free space: 67k (33.4%)
 â› â› â› â› â› â› â› â› â› â› â› Autocompact buffer: 45.0k tokens (22.5%)
 â› â› â› â› â› â› â› â› â› â›

 MCP tools Â· /mcp
 â”” mcp__playwright__browser_close (playwright): 573 tokens
 â”” mcp__playwright__browser_resize (playwright): 622 tokens
 â”” mcp__playwright__browser_console_messages (playwright): 595 tokens
 â”” mcp__playwright__browser_handle_dialog (playwright): 626 tokens
 â”” mcp__playwright__browser_evaluate (playwright): 671 tokens
 â”” mcp__playwright__browser_file_upload (playwright): 626 tokens
 â”” mcp__playwright__browser_fill_form (playwright): 776 tokens
 â”” mcp__playwright__browser_install (playwright): 591 tokens
 â”” mcp__playwright__browser_press_key (playwright): 620 tokens
 â”” mcp__playwright__browser_type (playwright): 728 tokens
 â”” mcp__playwright__browser_navigate (playwright): 598 tokens
 â”” mcp__playwright__browser_navigate_back (playwright): 578 tokens
 â”” mcp__playwright__browser_network_requests (playwright): 580 tokens
 â”” mcp__playwright__browser_take_screenshot (playwright): 826 tokens
 â”” mcp__playwright__browser_snapshot (playwright): 584 tokens
 â”” mcp__playwright__browser_click (playwright): 753 tokens
 â”” mcp__playwright__browser_drag (playwright): 709 tokens
 â”” mcp__playwright__browser_hover (playwright): 636 tokens
 â”” mcp__playwright__browser_select_option (playwright): 684 tokens
 â”” mcp__playwright__browser_tabs (playwright): 652 tokens
 â”” mcp__playwright__browser_wait_for (playwright): 650 tokens
 â”” mcp__atlassian__atlassianUserInfo (atlassian): 583 tokens
 â”” mcp__atlassian__getAccessibleAtlassianResources (atlassian): 592 tokens
 â”” mcp__atlassian__getConfluenceSpaces (atlassian): 1.1k tokens
 â”” mcp__atlassian__getConfluencePage (atlassian): 830 tokens
 â”” mcp__atlassian__getPagesInConfluenceSpace (atlassian): 975 tokens
 â”” mcp__atlassian__getConfluencePageFooterComments (atlassian): 873 tokens
 â”” mcp__atlassian__getConfluencePageInlineComments (atlassian): 905 tokens
 â”” mcp__atlassian__getConfluencePageDescendants (atlassian): 799 tokens
 â”” mcp__atlassian__createConfluencePage (atlassian): 895 tokens
 â”” mcp__atlassian__updateConfluencePage (atlassian): 911 tokens
 â”” mcp__atlassian__createConfluenceFooterComment (atlassian): 834 tokens
 â”” mcp__atlassian__createConfluenceInlineComment (atlassian): 1.0k tokens
 â”” mcp__atlassian__searchConfluenceUsingCql (atlassian): 911 tokens
 â”” mcp__atlassian__getJiraIssue (atlassian): 869 tokens
 â”” mcp__atlassian__editJiraIssue (atlassian): 803 tokens
 â”” mcp__atlassian__createJiraIssue (atlassian): 1.2k tokens
 â”” mcp__atlassian__getTransitionsForJiraIssue (atlassian): 857 tokens
 â”” mcp__atlassian__transitionJiraIssue (atlassian): 1.3k tokens
 â”” mcp__atlassian__lookupJiraAccountId (atlassian): 708 tokens
 â”” mcp__atlassian__searchJiraIssuesUsingJql (atlassian): 856 tokens
 â”” mcp__atlassian__addCommentToJiraIssue (atlassian): 913 tokens
 â”” mcp__atlassian__getJiraIssueRemoteIssueLinks (atlassian): 919 tokens
 â”” mcp__atlassian__getVisibleJiraProjects (atlassian): 943 tokens
 â”” mcp__atlassian__getJiraProjectIssueTypesMetadata (atlassian): 794 tokens
 â”” mcp__atlassian__getJiraIssueTypeMetaWithFields (atlassian): 777 tokens
 â”” mcp__atlassian__search (atlassian): 640 tokens
 â”” mcp__atlassian__fetch (atlassian): 685 tokens
 â”” mcp__github__add_comment_to_pending_review (github): 914 tokens
 â”” mcp__github__add_issue_comment (github): 644 tokens
 â”” mcp__github__add_sub_issue (github): 701 tokens
 â”” mcp__github__assign_copilot_to_issue (github): 724 tokens
 â”” mcp__github__create_and_submit_pull_request_review (github): 708 tokens
 â”” mcp__github__create_branch (github): 638 tokens
 â”” mcp__github__create_issue (github): 732 tokens
 â”” mcp__github__create_or_update_file (github): 768 tokens
 â”” mcp__github__create_pending_pull_request_review (github): 698 tokens
 â”” mcp__github__create_pull_request (github): 719 tokens
 â”” mcp__github__create_repository (github): 661 tokens
 â”” mcp__github__delete_file (github): 664 tokens
 â”” mcp__github__delete_pending_pull_request_review (github): 650 tokens
 â”” mcp__github__fork_repository (github): 613 tokens
 â”” mcp__github__get_commit (github): 728 tokens
 â”” mcp__github__get_file_contents (github): 717 tokens
 â”” mcp__github__get_issue (github): 627 tokens
 â”” mcp__github__get_issue_comments (github): 690 tokens
 â”” mcp__github__get_label (github): 616 tokens
 â”” mcp__github__get_latest_release (github): 594 tokens
 â”” mcp__github__get_me (github): 576 tokens
 â”” mcp__github__get_release_by_tag (github): 634 tokens
 â”” mcp__github__get_tag (github): 615 tokens
 â”” mcp__github__get_team_members (github): 616 tokens
 â”” mcp__github__get_teams (github): 589 tokens
 â”” mcp__github__list_branches (github): 660 tokens
 â”” mcp__github__list_commits (github): 773 tokens
 â”” mcp__github__list_issue_types (github): 580 tokens
 â”” mcp__github__list_issues (github): 886 tokens
 â”” mcp__github__list_label (github): 637 tokens
 â”” mcp__github__list_pull_requests (github): 821 tokens
 â”” mcp__github__list_releases (github): 660 tokens
 â”” mcp__github__list_sub_issues (github): 677 tokens
 â”” mcp__github__list_tags (github): 661 tokens
 â”” mcp__github__merge_pull_request (github): 695 tokens
 â”” mcp__github__pull_request_read (github): 879 tokens
 â”” mcp__github__push_files (github): 739 tokens
 â”” mcp__github__remove_sub_issue (github): 671 tokens
 â”” mcp__github__reprioritize_sub_issue (github): 768 tokens
 â”” mcp__github__request_copilot_review (github): 640 tokens
 â”” mcp__github__search_code (github): 777 tokens
 â”” mcp__github__search_issues (github): 824 tokens
 â”” mcp__github__search_pull_requests (github): 830 tokens
 â”” mcp__github__search_repositories (github): 817 tokens
 â”” mcp__github__search_users (github): 760 tokens
 â”” mcp__github__submit_pending_pull_request_review (github): 719 tokens
 â”” mcp__github__update_issue (github): 852 tokens
 â”” mcp__github__update_pull_request (github): 786 tokens
 â”” mcp__github__update_pull_request_branch (github): 655 tokens&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The Sonnet 4 model has a context window of 200k tokens.&lt;/p&gt;
&lt;p&gt;These 3 MCP servers, alone, consume about one third of them. &lt;strong&gt;36%&lt;/strong&gt;!&lt;/p&gt;
&lt;p&gt;If you account for system tools + the system prompt in the mix, practically half
of the total available context window is already gone.&lt;/p&gt;
&lt;p&gt;MCP tool definitions are wasteful, taking valuable &lt;del&gt;real&lt;/del&gt; virtual estate,
distracting the model, increasing overall costs.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://i.imgflip.com/a9djwa.jpg" alt="south park agent context window aaaand it&amp;rsquo;s gone"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;As &lt;a href="https://simonwillison.net/2025/Oct/14/agentic-engineering/"&gt;Simon Willison&lt;/a&gt;
already noted from &lt;a href="https://steipete.me/posts/just-talk-to-it"&gt;Peter Steinberger&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;He shares my preference for CLI utilities over MCPs:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I can just refer to a cli by name. I don&amp;rsquo;t need any explanation in my agents
file. The agent will try $randomcrap on the first call, the cli will present
the help menu, context now has full info how this works and from now on we
good. I don&amp;rsquo;t have to pay a price for any tools, unlike MCPs which are a
constant cost and garbage in my context. Use GitHub&amp;rsquo;s MCP and see 23k tokens
gone. Heck, they did make it better because it was almost 50.000 tokens when
it first launched. Or use the gh cli which has basically the same feature
set, models already know how to use it, and pay zero context tax.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;p&gt;To me this feels comparable to using a full-blown desktop environment in Linux
Desktop versus rolling your tiling window manager and building from scratch
an environment tailored to your own needs.&lt;/p&gt;
&lt;p&gt;Stay safe from the bloat out there.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Update(2025-10-18)&lt;/strong&gt;: See also &lt;a href="https://simonwillison.net/2025/Oct/16/claude-skills/#skills-compared-to-mcp"&gt;Skills c:ompared to
MCP&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: MCP: model context protocol considered harmful"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Claude Code: adding my first MCP server</title><link>https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/</link><pubDate>Wed, 08 Oct 2025 00:31:31 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/</guid><description>&lt;p&gt;Lovely readers, I promise this is not turning into an AI blog&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. I am merely
documenting my baby steps.&lt;/p&gt;
&lt;p&gt;I use JIRA all the time. It&amp;rsquo;s our &lt;del&gt;bug&lt;/del&gt;&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; issue tracker of choice.&lt;/p&gt;
&lt;p&gt;And, now that I am slowly incorporating Claude Code in my daily workflow for git
commits and pull requests, it only feels natural to connect JIRA to it, even if
only for the sake of retrieving information from existing tickets and/or adding
context to PRs.&lt;/p&gt;
&lt;p&gt;So here we go.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.claude.com/en/docs/claude-code/mcp"&gt;From the Anthropic documentation&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Atlassian&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Manage your Jira tickets and Confluence docs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% cd &amp;lt;gitops project&amp;gt;
% claude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse
Added SSE MCP server atlassian with URL: https://mcp.atlassian.com/v1/sse to local config
File modified: /Users/thiago.perrotta/.claude.json [project: /Users/thiago.perrotta/gitops]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://docs.claude.com/en/docs/claude-code/mcp#option-2%3A-add-a-remote-sse-server"&gt;SSE&lt;/a&gt; stands for &amp;ldquo;Server-Side Events&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SSE (Server-Sent Events) servers provide real-time streaming connections. Many
cloud services use this for live updates.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That command is idempotent:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse
MCP server atlassian already exists in local config&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;What if I want to have it available for all projects? Use &lt;code&gt;--scope user&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude mcp add --scope user --transport sse atlassian https://mcp.atlassian.com/v1/sse
Added SSE MCP server atlassian with URL: https://mcp.atlassian.com/v1/sse to user config
File modified: /Users/thiago.perrotta/.claude.json&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The modification to &lt;code&gt;~/.claude.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-json"&gt;{
 [...]
 &amp;#34;mcpServers&amp;#34;: {
 &amp;#34;atlassian&amp;#34;: {
 &amp;#34;type&amp;#34;: &amp;#34;sse&amp;#34;,
 &amp;#34;url&amp;#34;: &amp;#34;https://mcp.atlassian.com/v1/sse&amp;#34;
 }
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;So far so good. However no auth config was supplied yet.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% claude
&amp;gt; /mcp
Manage MCP servers
â¯ 1. atlassian â–³ disconnected Â· Enter to login&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;After pressing Enter and authenticating against our JIRA instance in a web
browser:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude mcp list
Checking MCP server health...

atlassian: https://mcp.atlassian.com/v1/sse (SSE) - âœ“ Connected

% claude mcp get atlassian
atlassian:
 Scope: User config (available in all your projects)
 Status: âœ“ Connected
 Type: sse
 URL: https://mcp.atlassian.com/v1/sse

To remove this server, run: claude mcp remove &amp;#34;atlassian&amp;#34; -s user&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; /mcp
Atlassian MCP Server

Status: âœ” connected âœ” authenticated
URL: https://mcp.atlassian.com/v1/sse
Config location: /Users/thiago.perrotta/.claude.json [project: /Users/thiago.perrotta/gitops]
Capabilities: tools
Tools: 27 tools

â¯ 1. View tools
 2. Re-authenticate
 3. Clear authentication
 4. Reconnect
 5. Disable&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Tools for atlassian (27 tools)

â¯ 1. Get current user information read-only
 2. List accessible resources read-only
 3. List Confluence spaces read-only
 4. Retrieve Confluence page read-only
â†“ 5. List space pages read-only&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Let&amp;rsquo;s say I want to call the &amp;ldquo;Get current user information&amp;rdquo; tool.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Get current user information (atlassian) [read-only]

Tool name: atlassianUserInfo
Full name: mcp__atlassian__atlassianUserInfo

Description:
Get current user info from Atlassian&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Just describe it in natural language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;current user in JIRA&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; current user in JIRA
 â¿ {
 &amp;#34;account_id&amp;#34;: &amp;#34;{redacted}&amp;#34;,
 &amp;#34;email&amp;#34;: &amp;#34;{redacted}&amp;#34;,
 â€¦ &amp;#43;22 lines (ctrl&amp;#43;o to expand)

âº Thiago Perrotta
 - Email: {redacted}
 - Account ID: {redacted}
 - Role: {redacted}
 - Department: {redacted}
 - Location: {redacted}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then I tried basic CRUD operations in natural language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;create an issue&amp;rdquo; â€” create: followed by further prompts with issue details âœ…&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;transition the issue to won&amp;rsquo;t do&amp;rdquo; â€“ update / delete âœ…&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;find an issue related to foo deployment in cluster bar&amp;rdquo;) â€“ read âœ…&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Everything worked successfully.&lt;/p&gt;
&lt;p&gt;I also tried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt; (plan mode on, thinking enabled): Propose a way to handle https://{corp}.atlassian.net/browse/INFRA-12528.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;âº I&amp;rsquo;ll fetch the details of the Jira issue to understand what needs to be handled.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I feel this will be quite useful from now on!&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;For now?!?&amp;#160;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;I blame &lt;em&gt;Google&lt;/em&gt;, the corporation, for getting me accustomed to saying
&amp;ldquo;file a bug&amp;rdquo; and &amp;ldquo;bug tracker&amp;rdquo;. Not every ticket is a bug. Atlassian is
trying to shovel the &amp;ldquo;work item&amp;rdquo; term onto us, but &amp;ldquo;issue&amp;rdquo; is the
appropriate concept.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: adding my first MCP server"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… claude code: custom commands</title><link>https://perrotta.dev/2025/10/claude-code-custom-commands/</link><pubDate>Mon, 06 Oct 2025 17:31:30 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-custom-commands/</guid><description>&lt;p&gt;&lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; supports &lt;a href="https://docs.claude.com/en/docs/claude-code/slash-commands#custom-slash-commands"&gt;custom commands&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The precise term is &amp;ldquo;custom slash commands&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Custom slash commands allow you to define frequently-used prompts as Markdown
files that Claude Code can execute. Commands are organized by scope
(project-specific or personal) and support namespacing through directory
structures.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I created my first custom slash command:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% cat ~/.claude/commands/send-pr.md
You are a world-class software developer who can write concise and descriptive
pull requests (PRs).

Sources of inspiration include:

- Daniel Stenberg (curl)
- Junio Hamano (git)
- Linus Torvalds (linux)

Send out a PR[1] corresponding to the current branch.
If there&amp;#39;s a .github/PULL_REQUEST_TEMPLATE.md file, use it as template.

If the current branch is &amp;#39;main&amp;#39; or &amp;#39;master&amp;#39;, create a local branch first.
The branch name should be prefixed by my github username[2] and a slash.

[1]: &amp;#39;gh pr create&amp;#39;
[2]: &amp;#39;gh api user --jq .login&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It can be &amp;ldquo;executed&amp;rdquo; with &lt;code&gt;/send-pr&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&amp;ldquo;Execution&amp;rdquo; is merely &amp;ldquo;sending the prompt&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s akin to a snippet expander. Arguably one could do the same by setting a
&lt;code&gt;:send-pr&lt;/code&gt; snippet on e.g. &lt;a href="https://espanso.org/"&gt;Espanso&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Perhaps it is even better, as it would work with all CLI agents â€“ not only
Claude Code. Well, we keep on experimenting.&lt;/p&gt;
&lt;p&gt;Reusable custom slash commands will be shared in my &lt;a href="https://github.com/thiagowfx/.dotfiles/tree/master/claude/.claude/commands"&gt;.dotfiles&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude code: custom commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Claude Code: cheatsheet</title><link>https://perrotta.dev/2025/10/claude-code-cheatsheet/</link><pubDate>Wed, 01 Oct 2025 20:03:54 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-cheatsheet/</guid><description>&lt;p&gt;A brain dump as of Oct 1st, 2025 of my head, all things &lt;a href="https://www.claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="keyboard-shortcuts"&gt;Keyboard shortcuts&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Shift+Tab&lt;/code&gt; to cycle through: &amp;ldquo;default&amp;rdquo; -&amp;gt; &amp;ldquo;âµâµ accept edits on&amp;rdquo; -&amp;gt; &amp;ldquo;â¸ plan mode on&amp;rdquo;
â€” &amp;ldquo;âµâµ Accept edits on&amp;rdquo; is a comfortable mode to be on by default, especially
when paired with git commits as checkpoints.
â€” A well-curated tool whitelist (c.f. &lt;code&gt;~/.claude/settings.json&lt;/code&gt;) can further
enhance this mode.
â€” &amp;ldquo;âµâµ Accept edits on&amp;rdquo; is not the same as &lt;code&gt;--dangerously-skip-permissions&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;Bypass all permission checks. Recommended only for sandboxes with no internet access.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Tab&lt;/code&gt; to toggle &amp;ldquo;Thinking on&amp;rdquo; / &amp;ldquo;Thinking off&amp;rdquo;
â€” This is a brand new feature in &lt;a href="https://www.anthropic.com/news/enabling-claude-code-to-work-more-autonomously"&gt;Claude Code 2.0&lt;/a&gt;, just released this week.
Hence I haven&amp;rsquo;t used it so far. Toggling the plan mode is typically enough
for my needs.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Esc Esc&lt;/code&gt; to clear input / &lt;code&gt;/rewind&lt;/code&gt; to a previous checkpoint
â€” I prefer to &amp;ldquo;manually steer / tune&amp;rdquo; the LLM. Learn from past mistakes!&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-r&lt;/code&gt; to search previous prompts â€“ similarly to &lt;code&gt;bash&lt;/code&gt; / &lt;code&gt;zsh&lt;/code&gt; shell
history&lt;/li&gt;
&lt;li&gt;&lt;code&gt;!&lt;/code&gt; for shell mode e.g. &lt;code&gt;! ls&lt;/code&gt; or &lt;code&gt;! git commit -a -m &amp;quot;msg&amp;quot;&lt;/code&gt;. Good for
one-offs.
â€” Alternatively, simply open a new shell tab / split / window.
â€” Alternatively, suspend Claude with &lt;code&gt;Ctrl-z&lt;/code&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Claude Code has been suspended. Run `fg` to bring Claude Code back.
Note: ctrl &amp;#43; z now suspends Claude Code, ctrl &amp;#43; _ undoes input.
[1] &amp;#43; 78756 suspended (signal) claude&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/&lt;/code&gt; for commands â€“ TAB completion is available.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;@&lt;/code&gt; for file paths e.g. &lt;code&gt;@README.md&lt;/code&gt; or &lt;code&gt;@.env&lt;/code&gt; â€“ TAB completion is supported
â€” Use &lt;code&gt;@&lt;/code&gt; to provide targeted context in prompts, for example: &lt;code&gt;Upgrade @main.go to incorporate logging. Follow a pattern similar to @vendor/main.go. Update @README.md afterwards&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt; to memorize (a.k.a. &amp;ldquo;add to memory&amp;rdquo;)
â€” I don&amp;rsquo;t use this shortcut much. Instead, prefer editing &lt;code&gt;CLAUDE.md&lt;/code&gt; directly
for pristine, per-repo settings. This is comparable to having a local, per
git repo &lt;code&gt;.gitignore&lt;/code&gt; versus a &lt;code&gt;~/.gitignore_global&lt;/code&gt; that affects all
repositories.
â€” Project memory lives in &lt;code&gt;CLAUDE.md&lt;/code&gt;, user memory lives in
&lt;code&gt;~/.claude/CLAUDE.md&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-o&lt;/code&gt; for verbose output&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-t&lt;/code&gt; to show TODOs&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Shift+Enter&lt;/code&gt; for newline (&lt;code&gt;\n&lt;/code&gt;); pre-requisite: &lt;code&gt;/terminal-setup&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Emacs / readline keybindings generally work for text navigation: &lt;code&gt;C-a&lt;/code&gt;, &lt;code&gt;C-e&lt;/code&gt;,
&lt;code&gt;C-b&lt;/code&gt;, &lt;code&gt;C-f&lt;/code&gt;, &lt;code&gt;C-u&lt;/code&gt;, &lt;code&gt;C-p&lt;/code&gt;, &lt;code&gt;C-n&lt;/code&gt;, &lt;code&gt;C-w&lt;/code&gt;. There&amp;rsquo;s also a vim mode that can be
toggled with &lt;code&gt;/vim&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Gripe&lt;/strong&gt;: &lt;code&gt;Ctrl-l&lt;/code&gt; does not clear the screen. And neither does &lt;code&gt;Esc Esc&lt;/code&gt;.
Surely someone has already filed a feature request for this? There&amp;rsquo;s a
&lt;code&gt;/clear&lt;/code&gt; command, but it is meant to clear history and free up context, which
is totally different.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Ctrl-_&lt;/code&gt; to undo. I prefer &lt;code&gt;C-w&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Gripe&lt;/strong&gt;: It hard-codes mentioning &amp;ldquo;bash&amp;rdquo; in various places, instead of
&amp;ldquo;shell&amp;rdquo;. &lt;code&gt;bash&lt;/code&gt; is not the only POSIX shell out there. Heck, there&amp;rsquo;s even a
&lt;code&gt;/bashes&lt;/code&gt; command to list and manage background tasks.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Esc&lt;/code&gt; to interrupt (think of &lt;code&gt;C-g&lt;/code&gt; on Emacs).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Most of the above reference can be pulled up with:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;?&lt;/code&gt; for help&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A few handy comments not previously mentioned:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/cost&lt;/code&gt;: show total cost + duration of the current session
â€” See also: &lt;a href="https://perrotta.dev/2025/09/claude-ccusage/"&gt;ccusage&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/export&lt;/code&gt;: copy the current conversation to the clipboard, or export it to a
file&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/init&lt;/code&gt;: to bootstrap and scaffold / populate &lt;code&gt;CLAUDE.md&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/mcp&lt;/code&gt; to manage MCP servers&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/resume&lt;/code&gt;: resume a (previous) conversation.
â€” Alternatively, launch &lt;code&gt;claude&lt;/code&gt; with &lt;a href="https://perrotta.dev/2025/09/claude--resume/"&gt;&lt;code&gt;--resume&lt;/code&gt;&lt;/a&gt; in the desired CWD.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="settings"&gt;Settings&lt;/h2&gt;
&lt;p&gt;My &lt;code&gt;~/.claude/settings.json&lt;/code&gt; at the time of this post:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-json"&gt;{
 &amp;#34;env&amp;#34;: {
 &amp;#34;CLAUDE_CODE_ENABLE_TELEMETRY&amp;#34;: &amp;#34;0&amp;#34;
 },
 &amp;#34;permissions&amp;#34;: {
 &amp;#34;allow&amp;#34;: [
 &amp;#34;Bash(ansible-doc:*)&amp;#34;,
 &amp;#34;Bash(command -v:*)&amp;#34;,
 &amp;#34;Bash(fd:*)&amp;#34;,
 &amp;#34;Bash(find:*)&amp;#34;,
 &amp;#34;Bash(gh pr diff:*)&amp;#34;,
 &amp;#34;Bash(gh pr list:*)&amp;#34;,
 &amp;#34;Bash(gh pr review-comment list:*)&amp;#34;,
 &amp;#34;Bash(gh pr view:*)&amp;#34;,
 &amp;#34;Bash(grep:*)&amp;#34;,
 &amp;#34;Bash(hadolint:*)&amp;#34;,
 &amp;#34;Bash(helm template:*)&amp;#34;,
 &amp;#34;Bash(ls:*)&amp;#34;,
 &amp;#34;Bash(rg:*)&amp;#34;,
 &amp;#34;Bash(yamllint:*)&amp;#34;
 ]
 },
 &amp;#34;statusLine&amp;#34;: {
 &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;,
 &amp;#34;command&amp;#34;: &amp;#34;bash ~/.claude/statusline.sh&amp;#34;
 },
 &amp;#34;alwaysThinkingEnabled&amp;#34;: false
}%&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;no telemetry (privacy!)&lt;/li&gt;
&lt;li&gt;allow a couple of often used tools (utilities), especially read-only ones&lt;/li&gt;
&lt;li&gt;add a simple status line; originally scaffolded with &lt;code&gt;/statusline&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;do not always think (it&amp;rsquo;s slow &amp;amp; expensive!)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;settings.json&lt;/code&gt; and &lt;code&gt;statusline.sh&lt;/code&gt; are both in my
&lt;a href="https://github.com/thiagowfx/.dotfiles"&gt;dotfiles&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: cheatsheet"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>An ordinary day with Claude</title><link>https://perrotta.dev/2025/09/an-ordinary-day-with-claude/</link><pubDate>Wed, 24 Sep 2025 13:34:58 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/09/an-ordinary-day-with-claude/</guid><description>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Thiago&lt;/strong&gt;: make the same change &lt;a href="https://github.com/%7Borg%7D/%7Brepo2%7D/pull/5385"&gt;https://github.com/{org}/{repo2}/pull/5385&lt;/a&gt; in this repo&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: I&amp;rsquo;ll help you apply the same changes from the {repo} PR to this repo. Let me first fetch the PR details to understand what changes need to be made.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;âº Fetch(https://github.com/{org}/{repo}/pull/5385)
â¿ Error: Request failed with status code 404&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: Let me try using the GitHub CLI to get the PR information:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Bash(gh pr view 5385 --repo {org}/{repo} --json title,body,files)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/blockquote&gt;
&lt;p&gt;A clever idea! And it works.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Thiago&lt;/strong&gt;: make the same change &lt;a href="https://github.com/%7Borg%7D/%7Brepo3%7D/pull/5385"&gt;https://github.com/{org}/{repo3}/pull/5385&lt;/a&gt; in this repo&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: I&amp;rsquo;ll help you apply the same change from the {repo} PR to this repo. Let me first fetch the PR details to understand what changes need to be made.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;âº Fetch(https://github.com/{org}/{repo}/pull/5385)
â¿ Error: Request failed with status code 404&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: The PR link returns a 404 error, which means it might be a private repository or the PR doesn&amp;rsquo;t exist. Could you please provide:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;The specific changes that were made in that PR, or&lt;/li&gt;
&lt;li&gt;A description of what changes you&amp;rsquo;d like me to apply to this repo, or&lt;/li&gt;
&lt;li&gt;Access to view the PR if it&amp;rsquo;s in a private repository&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;Claude&lt;/strong&gt;: This will help me understand exactly what modifications you need me to make in this repository.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Poor Claude is overworked and needs to sleep and dream of electric sheep&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/09/an-ordinary-day-with-claude/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Seriously: it was exactly the same prompt, a few minutes apart from each
other. Is it so hard to achieve determinism and reproducibility?&amp;#160;&lt;a href="https://perrotta.dev/2025/09/an-ordinary-day-with-claude/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: An ordinary day with Claude"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude: compact context</title><link>https://perrotta.dev/2025/09/claude-compact-context/</link><pubDate>Thu, 04 Sep 2025 15:00:57 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/09/claude-compact-context/</guid><description>&lt;p&gt;These days, Claude Code warns you when you&amp;rsquo;re running &lt;a href="https://claudelog.com/faqs/what-is-claude-code-auto-compact/"&gt;out of
context&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Context left until auto-compact: 5%&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;How Auto-Compact Works&lt;/p&gt;
&lt;p&gt;When your conversation approaches the context window limit, Claude Code
automatically:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Analyzes the conversation to identify key information worth preserving&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start="2"&gt;
&lt;li&gt;Creates a concise summary of previous interactions, decisions, and code
changes&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start="3"&gt;
&lt;li&gt;Compacts the conversation by replacing old messages with the summary&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;ol start="4"&gt;
&lt;li&gt;Continues seamlessly with the preserved context&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s possible to run &lt;code&gt;/compact&lt;/code&gt; manually to compact the context sooner&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/09/claude-compact-context/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Let the machine do the garbage collection though! Why would you bother to
do so manually?&amp;#160;&lt;a href="https://perrotta.dev/2025/09/claude-compact-context/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude: compact context"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude: ccusage</title><link>https://perrotta.dev/2025/09/claude-ccusage/</link><pubDate>Thu, 04 Sep 2025 14:55:15 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/09/claude-ccusage/</guid><description>&lt;p&gt;&lt;a href="https://github.com/ryoppippi/ccusage"&gt;&lt;code&gt;ccusage&lt;/code&gt;&lt;/a&gt; via &lt;a href="https://simonwillison.net/2025/Jul/14/ccusage/"&gt;Simon
Willison&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Claude Code logs detailed usage information to the &lt;code&gt;~/.claude/&lt;/code&gt; directory.
&lt;code&gt;ccusage&lt;/code&gt; is a neat little Node.js tool which reads that information and shows
you a readable summary of your usage patterns, including the estimated cost in
USD per day.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;A CLI tool for analyzing Claude Code usage from local JSONL files.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;strong&gt;Usage&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% npx ccusage@latest
Need to install the following packages:
ccusage@16.2.3
Ok to proceed? (y)

 WARN Fetching latest model pricing from LiteLLM...

â„¹ Loaded pricing for 1544 models

 â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®
 â”‚ â”‚
 â”‚ Claude Code Token Usage Report - Daily â”‚
 â”‚ â”‚
 â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Date â”‚ Models â”‚ Input â”‚ Output â”‚ Cache Create â”‚ Cache Read â”‚ Total Tokens â”‚ Cost (USD) â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025-08-05 â”‚ - sonnet-4 â”‚ 896 â”‚ 30,430 â”‚ 303,782 â”‚ 7,232,685 â”‚ 7,567,793 â”‚ $3.77 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025-08-11 â”‚ - sonnet-4 â”‚ 58 â”‚ 5,870 â”‚ 83,682 â”‚ 1,024,297 â”‚ 1,113,907 â”‚ $0.71 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 2025-08-12 â”‚ - sonnet-4 â”‚ 42 â”‚ 6,758 â”‚ 116,661 â”‚ 777,241 â”‚ 900,702 â”‚ $0.77 â”‚
[...]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Neat!&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude: ccusage"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>claude --resume</title><link>https://perrotta.dev/2025/09/claude--resume/</link><pubDate>Tue, 02 Sep 2025 14:12:07 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2025/09/claude--resume/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: when working with &lt;a href="https://www.anthropic.com/claude-code"&gt;&lt;code&gt;Claude Code&lt;/code&gt;&lt;/a&gt;, how to resume a session after
terminating the &lt;code&gt;claude&lt;/code&gt; process?&lt;/p&gt;
&lt;p&gt;Of course we could simply prompt the LLM agent again, but that is both (i) slow
and (ii) expensive. And I do not want to get into the intricacies of &lt;a href="https://docs.anthropic.com/en/docs/build-with-claude/prompt-caching"&gt;prompt
caching&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The ability to &lt;a href="https://github.com/anthropics/claude-code/issues/371"&gt;resume old
sessions&lt;/a&gt; was recently
added. The tool has great defaults: by default, you see only sessions pertaining
to the directory you&amp;rsquo;re working on.&lt;/p&gt;
&lt;p&gt;For example, when I run it in my blog directory:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% claude --resume
 Modified Created # Messages Git Branch Summary
â¯ 1. 1 week ago 1 week ago 148 master I would like to create a second RSS feed, for...â€¦
 2. 1 week ago 1 week ago 113 master Ensure images respect the page width and do n...â€¦
 3. 1 week ago 1 week ago 31 master Update XSLT. By: should be properly linkifiedâ€¦
 4. 1 week ago 1 week ago 12 master Add space after By: and Published: in the XSL...â€¦
 5. 1 week ago 1 week ago 20 master Hugo XML Link Syntax Troubleshootingâ€¦
 6. 1 week ago 1 week ago 119 rss Create a XSLT for my RSS feed (this is a hugo...â€¦
 7. 1 week ago 1 week ago 42 rss Hugo RSS XSLT Theme Styling and Design Matchâ€¦&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;When I run it from another directory:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% claude --resume
 Modified Created # Messages Git Branch Summary
â¯ 1. 4m ago 8m ago 14 thiagowfx/miss Print out the dates in YYYY-MM-DD form in the...â€¦
 2. 5m ago 12m ago 78 thiagowfx/miss Angular Date Filter Component Implementationâ€¦
 3. 14m ago 22m ago 78 thiagowfx/miss Do not allow whitespace in instance names in ...â€¦
 4. 22m ago 46m ago 191 thiagowfx/miss Whitespace Trim Testing: Comprehensive React Unit Suiteâ€¦&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: claude --resume"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>
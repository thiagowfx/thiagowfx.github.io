<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Dev | not just serendipity</title>
<meta name=keywords content><meta name=description content="not just serendipity"><meta name=author content="Thiago Perrotta"><link rel=canonical href=https://www.perrotta.dev/tags/dev/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://www.perrotta.dev/favicon.ico><link rel=apple-touch-icon href=https://www.perrotta.dev/apple-touch-icon.png><link rel=mask-icon href=https://www.perrotta.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate type=application/rss+xml href=https://www.perrotta.dev/tags/dev/index.xml><link rel=alternate hreflang=en href=https://www.perrotta.dev/tags/dev/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}h1,h2,h3,h4,h5,h6,footer,nav,.toc,.post-meta{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}</style><meta property="og:url" content="https://www.perrotta.dev/tags/dev/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Dev"><meta property="og:description" content="not just serendipity"><meta property="og:locale" content="en-us"><meta property="og:type" content="website"><meta name=twitter:card content="summary"><meta name=twitter:title content="Dev"><meta name=twitter:description content="not just serendipity"></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.perrotta.dev/ accesskey=h title="not just serendipity (Alt + H)"><img src=https://www.perrotta.dev/apple-touch-icon.png alt aria-label=logo height=32>not just serendipity</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.perrotta.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.perrotta.dev/tags/bestof/ title="★ bestof"><span>★ bestof</span></a></li><li><a href=https://www.perrotta.dev/tags/serenity/ title=serenity><span>serenity</span></a></li><li><a href=https://www.perrotta.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://www.perrotta.dev/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://www.perrotta.dev/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><header class=page-header><h1>Dev</h1></header><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>hugo: merge two tags</h2></header><div class=entry-content><p>So far I’ve been using the dev and devops tags pretty much interchangeably (and inconsistently) in this blog. There’s no real difference: Dev and Ops work overlap quite a lot. It’s time to do some house cleaning and merge them. I choose dev as it is more generic / agnostic.
...</p></div><footer class=entry-footer><span title='2024-12-20 00:46:50 -0300 -0300'>December 20, 2024</span>&nbsp;·&nbsp;231 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to hugo: merge two tags" href=https://www.perrotta.dev/2024/12/hugo-merge-two-tags/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>git: push --force with style</h2></header><div class=entry-content><p>TIL:
git push --force: This command forcefully pushes your changes to the remote branch, even if it results in overwriting or losing commits. It does not consider the current state of the remote branch. If someone else has pushed changes to the same branch in the meantime, their changes will be lost.
git push --force-with-lease: This command is a safer alternative to git push — force. It will only force push if the remote branch matches your expectations. It checks if someone else has pushed changes to the branch in the meantime. If the branch on the remote repository has not diverged (i.e., no new commits were pushed by others), your push will be allowed. If someone else has pushed changes, the push will be rejected, ensuring you do not accidentally overwrite someone else’s work.
...</p></div><footer class=entry-footer><span title='2024-12-20 00:38:07 -0300 -0300'>December 20, 2024</span>&nbsp;·&nbsp;255 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to git: push --force with style" href=https://www.perrotta.dev/2024/12/git-push--force-with-style/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>pre-commit: create hooks for unsupported tools</h2></header><div class=entry-content><p>When using pre-commit.com, in an ideal world, every formatter / linter / code analyzer would have a .pre-commit-config.yaml file in its repository root.
In the real world, that’s not always the case.
A recent example: cloudflare/pint:
Prometheus rule linter/validator
It is a golang binary that lints prometheus rules.
Can we bridge the gap?
...</p></div><footer class=entry-footer><span title='2024-12-17 22:46:41 -0300 -0300'>December 17, 2024</span>&nbsp;·&nbsp;184 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to pre-commit: create hooks for unsupported tools" href=https://www.perrotta.dev/2024/12/pre-commit-create-hooks-for-unsupported-tools/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>skopeo: operate container images and registries</h2></header><div class=entry-content><p>When working with docker and private image registries, a common workflow is to copy images from one private registry in the cloud to another. This can be done with skopeo.
This post includes some common recipes for it.
Usage 1) Default / Root to Staging From the default / root account registry to the staging registry:
skopeo sync \ --src-creds "AWS:$(aws ecr get-login-password --region {region} --profile default)" \ --dest-creds "AWS:$(aws ecr get-login-password --region {region} --profile staging)" \ --override-os linux --override-arch amd64 \ --src docker --dest docker \ {account_id_root}.dkr.ecr.{region}.amazonaws.com/{org}/{repository}:{tag} \ {account_id_staging}.dkr.ecr.{region}.amazonaws.com/{org} Example values1:
...</p></div><footer class=entry-footer><span title='2024-12-17 17:49:31 -0300 -0300'>December 17, 2024</span>&nbsp;·&nbsp;301 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to skopeo: operate container images and registries" href=https://www.perrotta.dev/2024/12/skopeo-operate-container-images-and-registries/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Kubernetes: tail logs from pods with stern</h2></header><div class=entry-content><p>You can always use kubectl logs -n {namespace} {pod} [-c {container}] -f to inspect logs from a specific pod1.
Nonetheless that doesn’t scale when you don’t know which pod you want in the first place.
...</p></div><footer class=entry-footer><span title='2024-12-17 16:37:16 -0300 -0300'>December 17, 2024</span>&nbsp;·&nbsp;176 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to Kubernetes: tail logs from pods with stern" href=https://www.perrotta.dev/2024/12/kubernetes-tail-logs-from-pods-with-stern/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Kubernetes: debugging services</h2></header><div class=entry-content><p>I am deploying a new helm chart to our staging environments, and needed a way to ensure its dependencies in values.yaml are properly configured.
From the official kubernetes documentation:
An issue that comes up rather frequently for new installations of Kubernetes is that a Service is not working properly. You’ve run your Pods through a Deployment (or other workload controller) and created a Service, but you get no response when you try to access it. This document will hopefully help you to figure out what’s going wrong.
...</p></div><footer class=entry-footer><span title='2024-12-16 10:14:11 -0300 -0300'>December 16, 2024</span>&nbsp;·&nbsp;296 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to Kubernetes: debugging services" href=https://www.perrotta.dev/2024/12/kubernetes-debugging-services/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>★ Just</h2></header><div class=entry-content><p>Just is a command runner, a modern replacement for GNU Make.
...</p></div><footer class=entry-footer><span title='2024-12-13 01:16:41 -0300 -0300'>December 13, 2024</span>&nbsp;·&nbsp;423 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to ★ Just" href=https://www.perrotta.dev/2024/12/just/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Advent of Code: Day 7</h2></header><div class=entry-content><p>Link to Day #7 puzzle.
...</p></div><footer class=entry-footer><span title='2024-12-12 23:12:31 -0300 -0300'>December 12, 2024</span>&nbsp;·&nbsp;314 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to Advent of Code: Day 7" href=https://www.perrotta.dev/2024/12/advent-of-code-day-7/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Advent of Code: discussion group</h2></header><div class=entry-content><p>Assuming you are following this year’s advent of code, you are welcome to join our Telegram discussion group here1. It is a supergroup, one of its channels is #adventofcode.
It’s a moderated group, and this invitation link will expire within 2 weeks of the time of this post. ↩︎</p></div><footer class=entry-footer><span title='2024-12-12 19:30:53 -0300 -0300'>December 12, 2024</span>&nbsp;·&nbsp;48 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to Advent of Code: discussion group" href=https://www.perrotta.dev/2024/12/advent-of-code-discussion-group/></a></article><article class="post-entry tag-entry"><header class=entry-header><h2 class=entry-hint-parent>Advent of Code: Day 11</h2></header><div class=entry-content><p>Link to Day #11 puzzle.
...</p></div><footer class=entry-footer><span title='2024-12-12 19:15:35 -0300 -0300'>December 12, 2024</span>&nbsp;·&nbsp;453 words&nbsp;·&nbsp;Thiago Perrotta</footer><a class=entry-link aria-label="post link to Advent of Code: Day 11" href=https://www.perrotta.dev/2024/12/advent-of-code-day-11/></a></article><footer class=page-footer><nav class=pagination><a class=next href=https://www.perrotta.dev/tags/dev/page/2/>Next&nbsp;&nbsp;»</a></nav></footer></main><footer class=footer><span>Copyright © 2021 - 2025 Thiago Perrotta · <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> · <a href=/index.xml>RSS</a> · Made with ♥ in 🇨🇦</span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>
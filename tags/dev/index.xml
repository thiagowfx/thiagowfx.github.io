<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev/rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Dev on Â¬ just serendipity ğŸ€</title><link>https://perrotta.dev/</link><description>Recent content in Dev on Â¬ just serendipity ğŸ€</description><generator>Hugo</generator><language>en</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>Â© 2013 - 2026 Thiago Perrotta Â·
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) Â·
a fork of [hugo Ê•â€¢á´¥â€¢Ê” bear](https://github.com/janraasch/hugo-bearblog/)</copyright><lastBuildDate>Mon, 16 Feb 2026 21:04:03 +0100</lastBuildDate><atom:link href="https://perrotta.dev/tags/dev/index.xml" rel="self" type="application/rss+xml"/><item><title>â˜… web radio player</title><link>https://perrotta.dev/2026/02/web-radio-player/</link><pubDate>Mon, 16 Feb 2026 16:53:36 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/02/web-radio-player/</guid><description>&lt;p&gt;I have a &lt;a href="https://github.com/thiagowfx/pancake/tree/master/radio"&gt;&lt;code&gt;radio&lt;/code&gt;&lt;/a&gt; shell
script in &lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt; (=miscellaneous unix
scripts) that streams curated (and free) internet radio stations via &lt;code&gt;mpv&lt;/code&gt;. It
works great from the &lt;a href="https://perrotta.dev/2025/11/radio/"&gt;terminal&lt;/a&gt;, but I wanted to
go one step further and make it available from a web browser as well.&lt;/p&gt;
&lt;p&gt;The script supports:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;playing a specific station,&lt;/li&gt;
&lt;li&gt;picking a random one,&lt;/li&gt;
&lt;li&gt;burst mode (multiple simultaneous streams), and&lt;/li&gt;
&lt;li&gt;listing what&amp;rsquo;s currently running&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of these map well to a web browser UI.&lt;/p&gt;
&lt;p&gt;Fast-forward&amp;hellip; (pun intended)&lt;/p&gt;
&lt;h2 id="gimme-radio"&gt;Gimme radio&lt;/h2&gt;
&lt;p&gt;I added a &lt;a href="https://perrotta.dev/radio/"&gt;&lt;code&gt;/radio/&lt;/code&gt;&lt;/a&gt; page to this blog. It&amp;rsquo;s a single Hugo
layout with inline CSS and JS, following the same pattern as the &lt;a href="https://perrotta.dev/graph/"&gt;graph&lt;/a&gt; page&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;The core is simple (and effective!) â€” a (hash) &lt;code&gt;Map&lt;/code&gt; of station IDs to &lt;code&gt;Audio&lt;/code&gt;
objects:&lt;/p&gt;
&lt;div class="codeblock" data-lang="javascript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;javascript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-javascript"&gt;const playing = new Map();

function play(id) {
 if (playing.has(id)) return;
 const s = getStation(id);
 const audio = new Audio(s.url);
 audio.volume = volume;
 audio.play().catch((e) =&amp;gt; {
 console.warn(&amp;#39;Failed to play &amp;#39; &amp;#43; s.name &amp;#43; &amp;#39;:&amp;#39;, e.message);
 });
 playing.set(id, audio);
 updateUI();
}

function stop(id) {
 const audio = playing.get(id);
 if (!audio) return;
 audio.pause();
 audio.src = &amp;#39;&amp;#39;;
 playing.delete(id);
 updateUI();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Setting &lt;code&gt;audio.src = ''&lt;/code&gt; after pausing is important â€” without it, the browser
keeps the HTTPS connection open to the stream server.&lt;/p&gt;
&lt;h2 id="burst-mode"&gt;Burst mode&lt;/h2&gt;
&lt;p&gt;The shell script has a &lt;code&gt;--burst&lt;/code&gt; flag that launches &lt;code&gt;N&lt;/code&gt; random stations
simultaneously. The browser version does the same (well, it&amp;rsquo;s hard-coded to 3
stations):&lt;/p&gt;
&lt;div class="codeblock" data-lang="javascript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;javascript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-javascript"&gt;function playBurst() {
 stopAll();
 const indices = [];
 while (indices.length &amp;lt; 3 &amp;amp;&amp;amp; indices.length &amp;lt; stations.length) {
 const idx = Math.floor(Math.random() * stations.length);
 if (indices.indexOf(idx) === -1) indices.push(idx);
 }
 indices.forEach((i) =&amp;gt; play(stations[i].id));
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Multiple &lt;code&gt;Audio&lt;/code&gt; objects play concurrently with no issues. The volume slider
applies to all of them.&lt;/p&gt;
&lt;h2 id="stations"&gt;Stations&lt;/h2&gt;
&lt;p&gt;Most stations are from &lt;a href="https://somafm.com/"&gt;SomaFM&lt;/a&gt;, a listener-supported
internet radio service. They have a &lt;a href="https://somafm.com/linktous/"&gt;clear policy&lt;/a&gt;
for third-party players: display the station name and link back. Each card links
to its station homepage.&lt;/p&gt;
&lt;p&gt;I dropped two stations from the original script:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HBR1 Trance and a rain sounds stream from TorontoCast. HBR1 only serves over
&lt;code&gt;http://&lt;/code&gt;, which browsers block as mixed content on HTTPS sites.&lt;/li&gt;
&lt;li&gt;TorontoCast&amp;rsquo;s terms explicitly prohibit embedding streams in third-party
players.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="implementation"&gt;Implementation&lt;/h2&gt;
&lt;p&gt;The UI is a CSS grid of clickable cards with a controls bar (Random, Burst, Stop
All, volume). Playing stations get a highlighted border and a pulsing dot
indicator that respects &lt;code&gt;prefers-reduced-motion&lt;/code&gt;. The whole thing uses the
blog&amp;rsquo;s existing CSS variables so it works in both light and dark mode,
integrating awesomely with its catppuccin theme.&lt;/p&gt;
&lt;p&gt;The page: &lt;a href="https://perrotta.dev/radio/"&gt;&lt;code&gt;/radio/&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s a screenshot (light theme)&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/web-radio-player/radio.png" alt="web radio player"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;Why is this post tagged with &lt;a href="https://perrotta.dev/tags/ai/"&gt;ai&lt;/a&gt;? The radio page
was vibe-coded.&lt;/p&gt;
&lt;p&gt;Suggestions to add more web radios to that page will be welcome.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Is this the future? Various little web apps in this site?&amp;#160;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Taken with &lt;a href="https://playwright.dev/"&gt;playwright&lt;/a&gt; via Claude Code. How
cool!&amp;#160;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: web radio player"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Import legacy posts from my old WordPress blog</title><link>https://perrotta.dev/2026/02/import-legacy-posts-from-my-old-wordpress-blog/</link><pubDate>Sun, 15 Feb 2026 15:25:25 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2026/02/import-legacy-posts-from-my-old-wordpress-blog/</guid><description>&lt;p&gt;I used to have a blog during my university years.&lt;/p&gt;
&lt;p&gt;It was in WordPress, hosted at &lt;a href="https://thiagoperrotta.wordpress.com/"&gt;https://thiagoperrotta.wordpress.com/&lt;/a&gt;, called
&amp;ldquo;Everyday Serendipity&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;At first I would write in my mother tongue (Portuguese), then I would switch to
English. This was a great way to practice and improve my English back then.&lt;/p&gt;
&lt;p&gt;At some point I deleted it. I know, I know, shame on me, &lt;a href="https://www.w3.org/Provider/Style/URI"&gt;Cool URIs don&amp;rsquo;t
change&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;However, as a future-conscious person even back then, I made a full backup
before doing so.&lt;/p&gt;
&lt;p&gt;And now, fast-forward almost 10 years later, I find myself with the desire of
restoring it.&lt;/p&gt;
&lt;p&gt;That was my weekend project!&lt;/p&gt;
&lt;p&gt;I introduced a new tag: &lt;a href="https://perrotta.dev/tags/legacy/"&gt;legacy&lt;/a&gt;, under which I&amp;rsquo;ve been
slowly restoring my old posts, one by one.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s one ground rule: I am not making any editorial changes to them. &lt;strong&gt;All
posts are preserved as is&lt;/strong&gt;, including their poor grammatical errors and typos.
If anything, it&amp;rsquo;s very cool to see how I&amp;rsquo;ve come a long way since then.&lt;/p&gt;
&lt;p&gt;I am also not bothering to audit anything that may have become politically
incorrect since then. This is not social media.&lt;/p&gt;
&lt;p&gt;The only active effort I am doing is to convert the original formatting from
WordPress to a markdown-friendly form, as supported by &lt;a href="https://gohugo.io/"&gt;Hugo&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I am also deleting and/or rephrashing a couple of sentences that point out to
dead links or that include images or videos that are no longer available.&lt;/p&gt;
&lt;h2 id="workflow"&gt;Workflow&lt;/h2&gt;
&lt;p&gt;First, download the backup file: &lt;code&gt;everydayserendipity.wordpress.2015-03-30.xml&lt;/code&gt;.
To give you an idea of its size:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% wc -l everydayserendipity.wordpress.2015-03-30.xml
24165 everydayserendipity.wordpress.2015-03-30.xml

% du -sh everydayserendipity.wordpress.2015-03-30.xml
1.5M everydayserendipity.wordpress.2015-03-30.xml&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then I asked an LLM (&lt;a href="https://ampcode.com"&gt;Amp Code&lt;/a&gt;) to extract its posts,
noting that it is from a WordPress backup, to Hugo-friendly markdown.&lt;/p&gt;
&lt;p&gt;I also asked it to add the legacy tag to all such posts, to make it easier for
me to identify them.&lt;/p&gt;
&lt;p&gt;Afterwards I proceeded to read them one by one (nostalgia!), notice a couple of
poor formatting patterns, then asked the LLM to fix them one by one.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a bit tedious but it worked well! This is currently a work-in-progress:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git st | wc -l
67&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Import legacy posts from my old WordPress blog"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>zsh: glob qualifiers: most recent</title><link>https://perrotta.dev/2026/02/zsh-glob-qualifiers-most-recent/</link><pubDate>Sun, 15 Feb 2026 02:10:49 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><guid>https://perrotta.dev/2026/02/zsh-glob-qualifiers-most-recent/</guid><description>&lt;p&gt;TIL via &lt;a href="https://adamj.eu/tech/2026/01/27/zsh-om1-glob-qualifiers/"&gt;Adam
Johnson&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Zsh: select generated files with (&lt;code&gt;om[1]&lt;/code&gt;) glob qualifiers&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;In Zsh, we can avoid copying such generated filenames by using glob
qualifiers, which are extra syntax you can add to filename globs in Zsh.
Specifically, we want to attach the glob qualifiers &lt;code&gt;om[1]&lt;/code&gt;, which mean:&lt;/p&gt;
&lt;p&gt;â€” &lt;code&gt;o&lt;/code&gt;: sort the matches
â€” &lt;code&gt;m&lt;/code&gt;: by modification time, most recent first
â€” &lt;code&gt;[1]&lt;/code&gt;: select only the first match&lt;/p&gt;
&lt;p&gt;Attaching these qualifiers to appropriate globs allows commands to pick up a
generated file without knowing its exact name.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is akin to &lt;code&gt;ls -t | head -n 1&lt;/code&gt;. For example, here are both commands in the
repository of this blog:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% ls -r -t content/posts/* | head -n 1
content/posts/2026-02-15-zsh-glob-qualifiers-most-recent.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;-r&lt;/code&gt; is &lt;code&gt;--reverse&lt;/code&gt;, so that we get the most recent post instead of the oldest
one.&lt;/p&gt;
&lt;p&gt;Now with &lt;code&gt;zsh&lt;/code&gt; glob qualifiers:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% ls content/posts/*.md(om[1])
content/posts/2026-02-15-zsh-glob-qualifiers-most-recent.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;You could also fetch the two most recent posts:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% ls content/posts/*.md(om[1,2])
content/posts/2026-02-13-new-blog-post-via-claude-code.md
content/posts/2026-02-15-zsh-glob-qualifiers-most-recent.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Or perhaps only the second most recent post:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% ls content/posts/*.md(om[2])
content/posts/2026-02-13-new-blog-post-via-claude-code.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Listing files isn&amp;rsquo;t very interesting. Here&amp;rsquo;s a more practical use case: delete
the most recent file:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% rm *(om[1])&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Or open the most recent file in &lt;code&gt;$EDITOR&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;$EDITOR content/posts/*.md(om[1])&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;om&lt;/code&gt; operates by time of last modification, but there&amp;rsquo;s also &lt;code&gt;on&lt;/code&gt; for
alphabetical sorting and &lt;code&gt;oL&lt;/code&gt; for file size (length) sorting.&lt;/p&gt;
&lt;p&gt;Refer to the &lt;a href="https://zsh.sourceforge.io/Doc/Release/Expansion.html#Glob-Qualifiers"&gt;zsh
docs&lt;/a&gt; for
more.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: zsh: glob qualifiers: most recent"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… new blog post via Claude Code</title><link>https://perrotta.dev/2026/02/new-blog-post-via-claude-code/</link><pubDate>Fri, 13 Feb 2026 21:54:26 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>selfhosted</category><guid>https://perrotta.dev/2026/02/new-blog-post-via-claude-code/</guid><description>&lt;p&gt;It&amp;rsquo;s 2026. Blogging to my static website from a laptop, with vim and markdown, with hugo build and git commit / git push is old-school.&lt;/p&gt;
&lt;p&gt;I can instead create blog posts via the &lt;a href="https://docs.anthropic.com/en/docs/claude-code"&gt;Claude Code&lt;/a&gt; app. It already has access to my git repository. It knows how to clone it, commit to it, test it (when needed) and push it to GitHub.&lt;/p&gt;
&lt;p&gt;If you can read this, it means this experiment worked flawlessly.&lt;/p&gt;
&lt;p&gt;And, you see, everything is still my own text, my own words. The LLM is not writing the prose. It&amp;rsquo;s merely orchestrating the act of publishing it.&lt;/p&gt;
&lt;p&gt;Will this lower my barrier to blogging more often?&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: new blog post via Claude Code"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/selfhosted/"&gt;#selfhosted&lt;/a&gt;&lt;/p&gt;</description></item><item><title>miniflux: block entry matching URL</title><link>https://perrotta.dev/2026/02/miniflux-block-entry-matching-url/</link><pubDate>Fri, 13 Feb 2026 14:10:20 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>selfhosted</category><guid>https://perrotta.dev/2026/02/miniflux-block-entry-matching-url/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: you follow a blog author you like via RSS on
&lt;a href="https://miniflux.app/"&gt;miniflux&lt;/a&gt;, but you&amp;rsquo;re not interested in a subset of
their posts. More specifically, you&amp;rsquo;re not interested in posts that match
&lt;code&gt;https://example.com/interview/paul-atreides&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href="https://miniflux.app/docs/rules.html#filtering-rules"&gt;miniflux entry filtering
rules&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Since Miniflux 2.2.10, filtering rules can be defined for each feed and
globally on the Settings page.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;In this situation we&amp;rsquo;re interested in the &lt;code&gt;EntryURL&lt;/code&gt; field.&lt;/p&gt;
&lt;p&gt;The following rule should work:&lt;/p&gt;
&lt;div class="codeblock" data-lang="ini"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;ini&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ini"&gt;EntryURL=.*/interview/.*&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: miniflux: block entry matching URL"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/selfhosted/"&gt;#selfhosted&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: always be 'verbose'</title><link>https://perrotta.dev/2026/02/claude-code-always-be-verbose/</link><pubDate>Thu, 12 Feb 2026 13:37:25 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/02/claude-code-always-be-verbose/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Claude Code responses have been getting shorter lately.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s been &lt;a href="https://news.ycombinator.com/item?id=46978710"&gt;discussion on HN&lt;/a&gt;
and a &lt;a href="https://symmetrybreak.ing/blog/claude-code-is-being-dumbed-down/"&gt;blog
post&lt;/a&gt; about
Claude Code being &amp;ldquo;dumbed down&amp;rdquo; with increasingly terse outputs.&lt;/p&gt;
&lt;p&gt;Before:
&lt;img src="https://symmetrybreak.ing/images/dont-worry-about-claude/before.png" alt="Claude Code verbose output"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;After:
&lt;img src="https://symmetrybreak.ing/images/dont-worry-about-claude/after.png" alt="Claude Code terse output"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;Simply add &lt;code&gt;&amp;quot;outputStyle&amp;quot;: &amp;quot;verbose&amp;quot;&lt;/code&gt; to your &lt;code&gt;.claude/settings.json&lt;/code&gt; to restore
the original behavior:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;diff --git claude/.claude/settings.json claude/.claude/settings.json
index 13a58d2..7f59e73 100644
--- claude/.claude/settings.json
&amp;#43;&amp;#43;&amp;#43; claude/.claude/settings.json
@@ -95,5 &amp;#43;95,6 @@
 &amp;#34;lua-lsp@claude-plugins-official&amp;#34;: true,
 &amp;#34;gopls-lsp@claude-plugins-official&amp;#34;: true
 },
- &amp;#34;alwaysThinkingEnabled&amp;#34;: true
&amp;#43; &amp;#34;alwaysThinkingEnabled&amp;#34;: true,
&amp;#43; &amp;#34;outputStyle&amp;#34;: &amp;#34;verbose&amp;#34;
 }&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;ldquo;Verbose&amp;rdquo; is misleading in this context.&lt;/p&gt;
&lt;p&gt;It sounds like &lt;code&gt;-vvv&lt;/code&gt; and a firehose of logs and agent thinking traces filling
your terminal screen, but it is not.&lt;/p&gt;
&lt;p&gt;As per Boris from the Claude Code team, in the aforementioned HN thread:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;To be clear: we re-purposed verbose mode to do exactly what you are asking
for. We kept the name &amp;ldquo;verbose mode&amp;rdquo;, but the behavior is what you want,
without the other verbose output.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a comment for this reply:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I don&amp;rsquo;t want verbose mode. I want Claude to tell me what it&amp;rsquo;s reading in the
first 3 seconds, so I can switch gears without fear it&amp;rsquo;s going to the wrong
part of the codebase. By saying that my use case requires verbose mode, you&amp;rsquo;re
saying that I need to see massive levels of babysitting-level output (even if
less massive than before) to be able to do this.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I find it a collective humanity waste of time that a thread like this gathers
600+ comments.&lt;/p&gt;
&lt;p&gt;But it&amp;rsquo;s just another day of a poor UX decision for power users.
You address it with a workaround, and then life moves on.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: always be 'verbose'"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Claude Code: swarm mode (agent teams)</title><link>https://perrotta.dev/2026/02/claude-code-swarm-mode-agent-teams/</link><pubDate>Mon, 09 Feb 2026 18:14:01 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>meta</category><guid>https://perrotta.dev/2026/02/claude-code-swarm-mode-agent-teams/</guid><description>&lt;p&gt;Goodness.&lt;/p&gt;
&lt;p&gt;Who asked for a feature to burn tokens?&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.claude.com/docs/en/agent-teams"&gt;Orchestrate teams of Claude Code sessions&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Coordinate multiple Claude Code instances working together as a team, with
shared tasks, inter-agent messaging, and centralized management.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Demo running in the git repository of this blog:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;
 â–â–›â–ˆâ–ˆâ–ˆâ–œâ–Œ Claude Code v2.1.37
â–â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–›â–˜ Opus 4.6 Â· Claude Team
 â–˜â–˜ â–â– ~/Workspace/perrotta.dev

â¯ swarm mode to analyze my blog

âº I&amp;#39;ll set up a team of agents to analyze your blog from multiple angles in parallel.

âº Now let me spawn 4 agents to work in parallel on each analysis task.

âº 4 agents launched (ctrl&amp;#43;o to expand)
 â”œâ”€ @content-analyst (Explore)
 â”‚ â¿ Analyze blog content and trends (shift&amp;#43;â†‘ to manage)
 â”œâ”€ @tech-analyst (Explore)
 â”‚ â¿ Analyze Hugo technical setup (shift&amp;#43;â†‘ to manage)
 â”œâ”€ @structure-analyst (Explore)
 â”‚ â¿ Analyze site structure and linking (shift&amp;#43;â†‘ to manage)
 â””â”€ @quality-analyst (Explore)
 â¿ Analyze code quality and practices (shift&amp;#43;â†‘ to manage)

âº 4 analysis agents are now running in parallel:
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Agent â”‚ Focus Area â”‚ Status â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ content-analyst â”‚ Posts, topics, tags, writing trends â”‚ Running â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ tech-analyst â”‚ Hugo config, layouts, shortcodes, theme â”‚ Running â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ structure-analyst â”‚ Internal linking, assets, navigation â”‚ Running â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ quality-analyst â”‚ Templates, CSS/JS, code quality â”‚ Running â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 I&amp;#39;ll compile the results as they come in.

âœ¢ Analyzing Hugo technical setupâ€¦ (2m 0s Â· 0 tokens)

 â•’â• team-lead Â· shift &amp;#43; â†‘/â†“ to select
 â”œâ”€ @content-analyst: Running Get recent and oldest posts with metadataâ€¦ Â· 19 tool uses Â· 34.3k tokens
 â”œâ”€ @quality-analyst: Reading 5 filesâ€¦ Â· 24 tool uses Â· 70.6k tokens
 â”œâ”€ @structure-analyst: Reading 5 filesâ€¦ Â· 26 tool uses Â· 38.5k tokens
 â””â”€ @tech-analyst: Searching for 2 patterns, reading 3 filesâ€¦ Â· 73 tool uses Â· 95.9k tokens&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Lesson learned&lt;/strong&gt;: start Claude in &lt;a href="https://simonwillison.net/2025/Oct/22/living-dangerously-with-claude/"&gt;YOLO&lt;/a&gt; mode:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% which claudey
claudey: aliased to claude --dangerously-skip-permissions&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Some folks are starting to suggest to alias this invocation to &lt;code&gt;cc&lt;/code&gt;, but I find
it to be poor taste. &lt;code&gt;cc&lt;/code&gt; is the C compiler.&lt;/p&gt;
&lt;p&gt;&amp;hellip;otherwise you&amp;rsquo;ll be nagged to death with permissions prompts from multiple
agents. &lt;a href="https://en.wikipedia.org/wiki/Decision_fatigue"&gt;Decision fatigue&lt;/a&gt; is
real, folks.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;@tech-analystâ¯ Complete Hugo technical setup analysis

âº Great, the tech analyst has finished. Let me update its task and wait for the others.

âº Excellent analysis from the tech analyst. Waiting on the other 3 agents to finish their analysis...


âº The tech analyst is idle now â€” its work is already captured. Waiting on content, structure, and quality
 analysts to report back.


âº Still waiting on the other 3 agents (content, structure, quality) to complete their analysis...


@quality-analystâ¯ Complete code quality analysis report

âº Quality analyst is done too. Let me update its task.

âº 2 of 4 analyses complete. Still waiting on content-analyst and structure-analyst...


âº Waiting on content-analyst and structure-analyst to finish...


âº Still waiting on the last 2 agents...


âº Waiting for content-analyst and structure-analyst to complete their reports.


@content-analystâ¯ Complete blog content analysis: 1041 posts, trends, tags, topics

âº Content analyst is done with a thorough report. Let me update its task.

âº 3 of 4 complete. Just waiting on structure-analyst now...


âº Waiting on structure-analyst to finish the last report...


âº Still waiting on the structure-analyst...


@structure-analystâ¯ Complete site structure analysis report

âº All 4 agents have reported back! Let me update the last task and shut down the team.

âœ» Baked for 5m 17s

âº ---
 Blog Analysis: perrotta.dev

 Here&amp;#39;s the consolidated analysis from all 4 agents.

 At a Glance
 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚ Metric â”‚ Value â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Total posts â”‚ 1,041 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ First post â”‚ Sep 2014 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Unique tags â”‚ 27 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Top tag â”‚ dev (902 posts) â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Median post length â”‚ 44 lines â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Internal cross-links â”‚ 207 (bidirectional) â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Graph nodes/edges â”‚ 1,039 / 213 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Template files â”‚ 33 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ Pre-commit hooks â”‚ ~40 â”‚
 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚ External theme â”‚ None (fully custom) â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
 ---
 Content Profile

 Growth trajectory is dramatic â€” from 1 post in 2014 and a 5-year hiatus (2017-2021) to 598 posts in 2025
 and 153 already in Feb 2026. The coding section (LeetCode, ByteByteGo, AoC) drives the volume surge, with
 batch publishing days hitting 43 posts in a single day.

 Two distinct voices: 87% of posts are tagged dev (technical), while 19% are tagged serenity
 (philosophical, short reflections â€” some just 9 lines). The bestof tag (148 posts, 14%) provides a
 curated recommendation layer.

 Top topics: LeetCode solutions (201), serenity reflections (194), bestof picks (148), AI/LLM (50), git
 (48), privacy (43), macOS (41), Kubernetes (35).

 Writing style: Overwhelmingly short-form (median 44 lines, longest 367). Text-only â€” only 3 posts contain
 images.

 ---
 Technical Architecture

 Fully custom Hugo setup â€” no external theme, all 33 templates in layouts/. Catppuccin color scheme
 (Latte/Mocha) with modern CSS (light-dark(), view transitions, prefers-reduced-motion). All CSS inlined
 (~1200 lines), JS deferred and fingerprinted.

 Standout features for a static site:
 - Client-side full-text search with lazy-loaded JSON index
 - D3.js interactive force-directed graph (full site &amp;#43; per-post mini-graphs)
 - Precomputed backlinks, related posts, and &amp;#34;Previously&amp;#34; chains (via Python script)
 - Keyboard navigation (j/k, arrows, f for fullscreen)
 - IndieWeb microformats (h-card, h-entry, h-feed)
 - Multiple output formats: HTML, RSS, Markdown, OPML, llms.txt, JSON
 - Multilingual (EN/PT) with conditional language switcher

 Build pipeline is robust: Justfile with 19 recipes, Python precomputation step, and the most thorough
 pre-commit setup I&amp;#39;ve seen for a personal blog (40 hooks covering formatting, security, content quality,
 and Hugo-specific validation).

 ---
 Site Structure

 External links heavily favor GitHub (517), LeetCode (204), Wikipedia (84), and StackOverflow (45).
 Internal cross-referencing centers on the Advent of Code hub post (28 inbound links).

 SEO is comprehensive: JSON-LD, OpenGraph, Twitter Cards, canonical URLs, custom robots.txt blocking AI
 crawlers, sitemap pinging, llms.txt.

 Privacy-first: No analytics, no cookies, no ads, no tracking. Email-based replies. EXIF stripping on
 images. Warrant canary page.

 ---
 Strengths

 1. Performance â€” Inlined CSS, deferred JS, lazy loading, no external fonts, 512KB Club green team member
 2. Automation â€” 40 pre-commit hooks enforce quality, formatting, security, and Hugo-specific rules
 automatically
 3. Rich features â€” Search, graph, backlinks, related posts, keyboard nav, fullscreen â€” all on a static
 site
 4. Privacy â€” Zero tracking, no third-party dependencies for core functionality
 5. Content curation â€” bestof tagging and disciplined taxonomy (only 27 tags for 1,041 posts)

 Potential Improvements

 1. D3.js weight â€” d3.v7.min.js (~270KB) loads on every post page for the mini-graph; could be lazy-loaded
 2. Inline styles in templates â€” Several partials use inline style attributes instead of CSS classes
 3. Chroma CSS always inlined â€” ~78 syntax highlighting rules load even on pages without code blocks
 4. Hugo CI version drift â€” Deploy uses 0.152.2, prek uses 0.140.0, local is 0.155.3
 5. Portuguese content â€” Only 8 PT posts despite multilingual setup; could be expanded or streamlined

âœ» Cooked for 36s


âº All 4 agents have shut down. Let me clean up the team.

âº 4 teammates shut down gracefully

âº Team cleaned up. The full analysis is in my summary above â€” let me know if you&amp;#39;d like to dig deeper into
 any specific area, or if you want actionable recommendations on any of the improvement areas identified.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Lesson learned&lt;/strong&gt;: launch &lt;code&gt;tmux&lt;/code&gt; before activating the swarm.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;ll be able to see in multiple tmux panes at a glance all agents working
simultaneously. This feature is supported out-of-the-box.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: swarm mode (agent teams)"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Claude Code: /insights</title><link>https://perrotta.dev/2026/02/claude-code-/insights/</link><pubDate>Sun, 08 Feb 2026 15:33:50 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/02/claude-code-/insights/</guid><description>&lt;p&gt;&lt;a href="https://aiengineerguide.com/blog/claude-code-insights-command/"&gt;TIL&lt;/a&gt; via Ashik
Nesin:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Claude Code now has support for /insights commands.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;When you run it, Claude Code will read your message history from the past
month. It&amp;rsquo;ll summarize your projects, how you use Claude Code, and give
suggestions on how to improve your workflow.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&amp;rsquo;s try it:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt; â–â–›â–ˆâ–ˆâ–ˆâ–œâ–Œ Claude Code v2.1.37
â–â–œâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–›â–˜ Opus 4.6 Â· Claude Team
 â–˜â–˜ â–â– ~/Workspace/perrotta.dev

â¯ /usage
 â¿ Status dialog dismissed

â¯ /insights

âº Your shareable insights report is ready:
 file:///Users/thiago.perrotta/.claude/usage-data/report.html

 Want to dig into any section or try one of the suggestions?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The generated report is a single self-contained HTML file.&lt;/p&gt;
&lt;p&gt;The report is more useful than I anticipated! It&amp;rsquo;s definitely better than
&lt;code&gt;/stats&lt;/code&gt;: it contains actionable and concrete tips and suggestions to improve
your workflow.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll share a snippet of it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;How You Use Claude Code You are a prolific, infrastructure-focused power user
who drives Claude Code hard across a wide surface area â€” 325 sessions, 809
hours, and 456 commits over roughly 7 weeks. Your workflow centers on
Terraform infrastructure management, Hugo blog optimization, and DevOps
tooling (ArgoCD, pre-commit hooks, CI pipelines). You lean heavily on Bash
(6,780 invocations) as your primary tool, reflecting a hands-on operator style
where you want Claude executing real commands and seeing real output rather
than just generating files. Your use of TodoWrite (411 calls) and Task (124
calls) suggests you frequently tackle complex, multi-step projects â€” like
importing existing AWS infrastructure into Terraform or implementing 8+
performance improvements for your Hugo blog â€” where structured planning is
essential. You consistently push for clean git hygiene: granular commits, PRs,
and proper branch workflows.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Your interaction style is best described as iterative refinement with active
course correction. You don&amp;rsquo;t write exhaustive specs upfront; instead, you give
Claude a clear goal and then steer as it executes. This shows up repeatedly:
you interrupted Claude when it assumed a full 1Password migration (&amp;ldquo;only where
applicable&amp;rdquo;), caught it when it reverted a change you only asked about
(&amp;ldquo;revert. I just asked why&amp;rdquo;), pushed back on CSS inlining that would lose
fingerprinting benefits, and redirected heading placement from shortcode
templates to markdown files. Your friction data tells a consistent story â€” 24
instances of wrong approach and 24 of buggy code â€” but these rarely derail you
because you catch problems quickly and redirect. You&amp;rsquo;re comfortable letting
Claude run on multi-file changes (18 successful multi-file operations) but you
interrupt decisively when the approach is wrong, such as stopping a file write
to ask about pre-commit integration instead, or killing a premature commit
attempt.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;What&amp;rsquo;s striking is your high tolerance for iteration paired with low tolerance
for sloppiness. Terraform import sessions required multiple rounds of fixing
IDs, resource addresses, and provider syntax â€” and you stuck with it. But you
also demanded succinct responses, rejected a poor-quality fullscreen feature
outright, and expected Claude to understand nuances like provider read-only
attributes before making sweeping changes. Your 94% achievement rate (32 fully + 15 mostly out of 50) despite working on genuinely hard infrastructure
problems shows that this iterative, correction-heavy style works well for you.
You treat Claude as a capable but supervision-required junior engineer â€” you
trust it to do the legwork but always review the output critically before
committing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Key pattern: You operate as an active supervisor who assigns complex
infrastructure tasks, lets Claude execute broadly, but intervenes decisively
and frequently to correct approach, scope, and quality â€” treating the tool as
a capable junior engineer that needs real-time steering.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Across 325 sessions and 809 hours, you&amp;rsquo;ve built a highly productive Claude
Code workflow centered on infrastructure-as-code, Hugo blog optimization, and
developer tooling â€” with a 94% goal achievement rate.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;ve developed a sophisticated pattern for standing up new Terraform
projects by importing existing AWS and MongoDB Atlas infrastructure, working
through complex import ID formats and provider quirks across multiple garden
environments. Your approach of creating files, running plans, and iteratively
fixing mismatches shows deep Terraform expertise, and you consistently push
through to clean PRs even when provider limitations surface. The breadth of
this work â€” EKS clusters, security groups, MongoDB Atlas modules, Azure OIDC â€”
demonstrates you&amp;rsquo;re using Claude as a true infrastructure engineering partner.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You systematically drove your Hugo blog toward Lighthouse 100 scores through a
multi-session campaign covering CSS inlining, critical request chain
elimination, SRI hashes, code block enhancements, and RSS feed fixes. You
maintained high standards by pushing back when Claude&amp;rsquo;s suggestions sacrificed
cache fingerprinting or batched too aggressively, ensuring each optimization
was production-sound. The fact that you also created ADRs documenting your
architectural decisions around search and caching shows you treat your
personal blog with the same rigor as production infrastructure.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;ve built a remarkably robust developer experience layer using pre-commit
hooks, Claude Code settings files, and automation scripts â€” from custom
code-block linting parsers to Justfile safety guards that prevent direct
module applies. You research hooks from other major projects like Airflow to
cherry-pick the best ones, and you iterate on implementations until they&amp;rsquo;re
correct (like replacing a regex-based checker with a proper line-by-line
parser after false positives). Your Claude Code settings PR for your Terraform
repo, with carefully curated allow/deny/ask permission lists, shows you&amp;rsquo;re
intentionally shaping how AI tools interact with your codebase.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There&amp;rsquo;s much more to it. I am not sharing actionable suggestions at this time.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s also negative feedback! And suggestions to improve / augment
&lt;code&gt;CLAUDE.md&lt;/code&gt;! &amp;ldquo;New Ways to Use Claude Code&amp;rdquo;!&lt;/p&gt;
&lt;p&gt;I love it. And I definitely need to switch my workflow to writing specs upfront,
though I can&amp;rsquo;t resist an iterative and incremental work style to achieve desired
outcomes ğŸ¤”.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: /insights"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Skim</title><link>https://perrotta.dev/2026/02/skim/</link><pubDate>Sun, 08 Feb 2026 15:16:43 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>macos</category><guid>https://perrotta.dev/2026/02/skim/</guid><description>&lt;p&gt;&lt;a href="https://skim-app.sourceforge.io/"&gt;Skim.app&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Skim is a PDF reader and note-taker for OS X. It is designed to help you read
and annotate scientific papers in PDF, but is also great for viewing any PDF
file.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Installation is a breeze:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;brew install skim&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;In addition to its great note-taking capabilities, a feature I especially like
is its ability to
&lt;a href="https://tex.stackexchange.com/questions/43057/macosx-pdf-viewer-automatic-reload-on-file-modification"&gt;auto-reload&lt;/a&gt;
PDFs upon changes:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Skim provides this feature. It also provides pdfsync synchronization, so I
would consider it as the favorite PDF viewer for LaTeX!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip;which also complements &lt;a href="https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/"&gt;Typst&lt;/a&gt; very well.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://perrotta.dev/2025/01/latex-beamer-slides-with-notes/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Skim"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Making a slides presentation in 2026</title><link>https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/</link><pubDate>Sat, 07 Feb 2026 18:40:50 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: make a &lt;em&gt;slides&lt;/em&gt; presentation for a certain business or
academic use case.&lt;/p&gt;
&lt;h2 id="part-i-what"&gt;Part I: What?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Classic approach&lt;/strong&gt;: pick one of: LibreOffice, Microsoft PowerPoint, Google
Slides.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hipster approach&lt;/strong&gt;: pick one of: Notion, &lt;a href="https://revealjs.com/"&gt;Reveal.JS&lt;/a&gt;
(or similar), &lt;a href="https://pkg.go.dev/golang.org/x/tools/present"&gt;Golang present&lt;/a&gt;,
&lt;a href="https://prezi.com/"&gt;Prezi&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Academic approach&lt;/strong&gt;: &lt;a href="https://www.overleaf.com/learn/latex/Beamer"&gt;LaTeX
beamer&lt;/a&gt;,
&lt;a href="https://www.lyx.org/"&gt;LyX&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Minimalist approach&lt;/strong&gt;: &lt;a href="https://orgmode.org/worg/org-tutorials/non-beamer-presentations.html"&gt;Emacs Org
mode&lt;/a&gt;,
&lt;a href="https://github.com/sotte/presenting.vim"&gt;Terminal&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Of course, I am pioneering â€“ by choosing none of the above!&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll settle with &lt;a href="https://typst.app/"&gt;Typst&lt;/a&gt; +
&lt;a href="https://polylux.dev/book/"&gt;Polylux&lt;/a&gt;, because we want best-in-classâ„¢
presentations:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Polylux is a package for the typesetting system Typst to create presentation
slides, just like you would use the beamer package in LaTeX. (So far, it is
much less advanced than beamer, obviously.)&lt;/p&gt;
&lt;p&gt;If you haven&amp;rsquo;t heard of things like LaTeX&amp;rsquo;s beamer before, here is how this
works: As a rule of thumb, one slide becomes one PDF page, and most PDF
viewers can display PDFs in the form of a slide show (usually by hitting the
F5-key).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But first, a bit of trivia:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Why the name?&lt;/p&gt;
&lt;p&gt;A polylux is a brand of overhead projectors very common in Eastern German
schools (where the main author of this package grew up). It fulfils a similar
function to a projector, namely projecting visuals to a wall to aid a
presentation. The German term for projector is beamer, and now you might
understand how it all comes together. (The original author of the
aforementioned LaTeX package is German as well.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Germans, Germans everywhere&lt;/em&gt; {picture the Buzz Lightyear meme here}&lt;/p&gt;
&lt;h2 id="part-ii-you-are-pretty-and-you-know-it"&gt;Part II: You are pretty and you know it&lt;/h2&gt;
&lt;p&gt;I am not using the default theme. Sorry, that&amp;rsquo;s just not gonna happen.&lt;/p&gt;
&lt;p&gt;Built-in
&lt;a href="https://deic.uab.cat/~iblanes/beamer_gallery/index_by_theme.html"&gt;beamer&lt;/a&gt;
&lt;a href="https://www.overleaf.com/learn/latex/Beamer"&gt;themes&lt;/a&gt; inspire me. I choose
&lt;a href="https://typst.app/universe/package/metropolis-polylux/"&gt;metropolis&lt;/a&gt;, with a few
bits of &lt;a href="https://deic.uab.cat/~iblanes/beamer_gallery/large/Frankfurt-default-default-12.png"&gt;beamer
frankfurt&lt;/a&gt;
sprinkled in (mainly the top navigation guides).&lt;/p&gt;
&lt;p&gt;Such a short section, so cute! âœ¨&lt;/p&gt;
&lt;h2 id="part-iii-how"&gt;Part III: How?&lt;/h2&gt;
&lt;p&gt;It&amp;rsquo;s 2026. Agentic LLMs are all the rage.&lt;/p&gt;
&lt;p&gt;Obviously, we&amp;rsquo;re going to use &lt;a href="https://code.claude.com/docs/en/overview"&gt;Claude
Code&lt;/a&gt;. It&amp;rsquo;s the obvious choice.
&lt;a href="https://acecombat.fandom.com/wiki/Loading_quotes"&gt;Nothing else comes close&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;OK, I&amp;rsquo;ll also give you a break if you use OpenAI, it comes in a close second. No
other choice is possible. Not if you want to become state-of-the-art. Sorry.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.goodreads.com/book/show/6667514-the-checklist-manifesto"&gt;Checklist&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;have claude code installed? Check&lt;/li&gt;
&lt;li&gt;have enough, readily available tokens to burn? Check&lt;/li&gt;
&lt;li&gt;have a &lt;a href="https://perrotta.dev/2025/12/try/"&gt;workspace&lt;/a&gt; ready? Check&lt;/li&gt;
&lt;li&gt;have &lt;code&gt;git init&lt;/code&gt; run in the workspace? Check&lt;/li&gt;
&lt;li&gt;have two claude code sessions open, one for content and one for form? Check&lt;/li&gt;
&lt;li&gt;have a &lt;code&gt;Justfile&lt;/code&gt; ready? Check&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock" data-lang="make"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;Justfile&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;make&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-make"&gt;watch:
 typst watch slides.typ&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="part-iv-the-future-starts-with-you"&gt;Part IV: &lt;a href="https://www.youtube.com/watch?v=XJIgHWnkcnA"&gt;The Future Starts With You&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Good luck out there!&lt;/p&gt;
&lt;p&gt;Iterate.
Tell the LLM what you want.
Be verbose in your prompting.
Course-correct as needed.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s no right or wrong from here.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=ZXsQAXx_ao0"&gt;&lt;strong&gt;Just do it&lt;/strong&gt;&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Making a slides presentation in 2026"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>â˜… Open Source security in spite of AI</title><link>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</link><pubDate>Sat, 07 Feb 2026 11:12:24 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>fosdem</category><category>meta</category><category>posse</category><category>security</category><category>serenity</category><guid>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</guid><description>&lt;p&gt;&lt;a href="https://daniel.haxx.se/blog/2026/02/03/open-source-security-in-spite-of-ai/"&gt;Open Source security in spite of
AI&lt;/a&gt;
by &lt;a href="https://daniel.haxx.se/blog/"&gt;Daniel Stenberg&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; (of &lt;em&gt;curl&lt;/em&gt; fame):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The title of my ending keynote at FOSDEM February 1, 2026.&lt;/p&gt;
&lt;p&gt;As the last talk of the conference, at 17:00 on the Sunday lots of people had
already left, and presumably a lot of the remaining people were quite tired
and ready to call it a day.&lt;/p&gt;
&lt;p&gt;Still, the 1500 seats in Janson got occupied and there was even a group of
more people outside wanting to get in that had to be refused entry.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They say: &lt;a href="https://en.wiktionary.org/wiki/never_meet_your_heroes"&gt;&amp;ldquo;never meet your
heroes&amp;rdquo;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is unwise to seek personal acquaintance with people whom one has regarded
with high esteem, as they often fail to fulfill one&amp;rsquo;s expectations, resulting
in disappointment&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I had the opportunity to meet Daniel in person and I&amp;rsquo;m glad to state that I am
not disappointed.&lt;/p&gt;
&lt;p&gt;I was the volunteer who held the Q&amp;amp;A at the end for his talk, and that was a
pleasure.&lt;/p&gt;
&lt;p&gt;In my opinion, this was the best talk from FOSDEM 2026.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/open-source-security-in-spite-of-ai-daniel-stenberg.webp" alt="Open Source security in spite of AI â€” Daniel Stenberg"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=6wYSwZ20NJU"&gt;Recording&lt;/a&gt;.
&lt;a href="https://daniel.haxx.se/media/FOSDEM%202026%20OSS%20security%20in%20spite%20of%20AI.pdf"&gt;Slides&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Open Source security in spite of AI"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/fosdem/"&gt;#fosdem&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>pre-commit: hazmat n1</title><link>https://perrotta.dev/2026/02/pre-commit-hazmat-n1/</link><pubDate>Fri, 06 Feb 2026 18:28:16 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>pre-commit</category><guid>https://perrotta.dev/2026/02/pre-commit-hazmat-n1/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: some CLI tools accept only a single file as an argument.
Create a &lt;a href="https://pre-commit.com/"&gt;pre-commit&lt;/a&gt; local hook for them.&lt;/p&gt;
&lt;p&gt;A common workaround is to wrap it in a bash for-loop (&lt;code&gt;.pre-commit-config.yaml&lt;/code&gt;):&lt;/p&gt;
&lt;div class="codeblock" data-lang="yaml"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;yaml&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-yaml"&gt;repos:
 - repo: local
 hooks:
 - id: my-formatter
 name: my-formatter
 language: system
 entry: bash -c &amp;#39;for file in &amp;#34;$@&amp;#34;; do my-formatter fmt &amp;#34;$file&amp;#34;; done&amp;#39; --
 files: ^path/to/files/&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This works, but it&amp;rsquo;s noisy and easy to get wrong. Plus it&amp;rsquo;s not elegant at all.&lt;/p&gt;
&lt;p&gt;It turns out pre-commit has a built-in mechanism for this: &lt;a href="https://pre-commit.com/#codepre-commit-hazmat-n1code"&gt;&lt;code&gt;hazmat n1&lt;/code&gt;&lt;/a&gt;. It runs the hook
once per file, one at a time:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;some hooks only take one filename argument. this runs them one at a time
(which is super slow!)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock" data-lang="yaml"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;yaml&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-yaml"&gt;repos:
 - repo: local
 hooks:
 - id: my-formatter
 name: my-formatter
 language: system
 entry: pre-commit hazmat n1 my-formatter fmt --
 files: ^path/to/files/&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Note the trailing &lt;code&gt;--&lt;/code&gt; at the end of &lt;code&gt;entry&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This is a super recent feature, added in &lt;a href="https://github.com/pre-commit/pre-commit/commit/1af6c8fa9502336c6977c2ff3e79185bd97a6e57"&gt;pre-commit 4.5.0, in Nov
2025&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The name &amp;ldquo;hazmat&amp;rdquo; is supposedly intended to discourage people from using it.
Yet, here we are.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&amp;ldquo;hazardous materials&amp;rdquo;&lt;/p&gt;
&lt;p&gt;pre-commit provides a few entry prefix &amp;ldquo;helpers&amp;rdquo; for unusual situations.&lt;/p&gt;
&lt;p&gt;in case it&amp;rsquo;s not clear, using these is usually a bad idea.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is a bad idea, but sometimes the underlying hook / script simply does not
support multiple arguments.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: pre-commit: hazmat n1"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/pre-commit/"&gt;#pre-commit&lt;/a&gt;&lt;/p&gt;</description></item><item><title>macOS: enable dictation</title><link>https://perrotta.dev/2026/02/macos-enable-dictation/</link><pubDate>Fri, 06 Feb 2026 15:57:18 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><category>macos</category><guid>https://perrotta.dev/2026/02/macos-enable-dictation/</guid><description>&lt;p&gt;&lt;a href="https://support.apple.com/guide/mac-help/use-dictation-mh40584/mac"&gt;Dictate messages and documents on Mac&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;With Dictation, you can speak to enter text anywhere you can type it.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Turn Dictation on or off&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;On your Mac, choose Apple menu &amp;gt; System Settings, then click Keyboard in the
sidebar. (You may need to scroll down.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It is possible to set it to the microphone key (F5 key in Macbooks) or to a
double-press of the Globe (Fn) key.&lt;/p&gt;
&lt;p&gt;This is a good starting point to try out dictating prompts to LLMs.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: macOS: enable dictation"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;</description></item><item><title>prefers-color-scheme â†’ light-dark</title><link>https://perrotta.dev/2026/02/prefers-color-scheme-light-dark/</link><pubDate>Thu, 05 Feb 2026 18:19:35 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>meta</category><guid>https://perrotta.dev/2026/02/prefers-color-scheme-light-dark/</guid><description>&lt;p&gt;&lt;a href="https://victor.kropp.name/blog/2026/site-update/"&gt;TIL&lt;/a&gt; via Victor Kropp:&lt;/p&gt;
&lt;p&gt;The
&lt;a href="https://developer.mozilla.org/en-US/docs/Web/CSS/Reference/Values/color_value/light-dark"&gt;&lt;code&gt;light-dark()&lt;/code&gt;&lt;/a&gt;
CSS function is a modern replacement for the &lt;code&gt;prefers-color-scheme&lt;/code&gt; media
feature query.&lt;/p&gt;
&lt;p&gt;As usual lately, the almighty &lt;a href="https://ampcode.com/"&gt;Amp&lt;/a&gt; did all the heavy
lifting to
&lt;a href="https://github.com/thiagowfx/thiagowfx.github.io/commit/41bae9eb21eec37867e425fb12f63abc459d6e34"&gt;modernize&lt;/a&gt;
this blog.&lt;/p&gt;
&lt;p&gt;One-shot prompting is still imperfect, even with Opus 4.5. I still find myself
needing to follow-up a couple of times to ensure the feature is properly
implemented. Agents still need to be babysat and explicitly asked to test their
changes.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: prefers-color-scheme â†’ light-dark"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Alpine Linux: clear /tmp upon reboot</title><link>https://perrotta.dev/2026/02/alpine-linux-clear-/tmp-upon-reboot/</link><pubDate>Thu, 05 Feb 2026 18:02:12 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>alpine-linux</category><category>dev</category><guid>https://perrotta.dev/2026/02/alpine-linux-clear-/tmp-upon-reboot/</guid><description>&lt;p&gt;&lt;a href="https://chromic.org/blog/alpinelinux-clear-tmp-on-reboot/"&gt;Clear /tmp at reboot on Alpine Linux&lt;/a&gt; via Chimo:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, Alpine Linux doesn&amp;rsquo;t (completely) clear the /tmp directory on
reboot (unless you mount it as tmpfs). If you would like to enable this
feature, change &amp;ldquo;wipe_tmp&amp;rdquo; to &amp;ldquo;YES&amp;rdquo;&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My current config:&lt;/p&gt;
&lt;div class="codeblock" data-lang="conf"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;/etc/conf.d/bootmisc&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;conf&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ini"&gt;# List of /tmp directories we should clean up
clean_tmp_dirs=&amp;#34;/tmp&amp;#34;

# Should we wipe the tmp paths completely or just selectively remove known
# locks / files / etc... ?
wipe_tmp=&amp;#34;NO&amp;#34;

# Write the initial dmesg log into /var/log/dmesg after boot
# This may be useful if you need the kernel boot log afterwards
log_dmesg=&amp;#34;YES&amp;#34;

# Save the previous dmesg log to dmesg.old
# This may be useful if you need to compare the current boot to the
# previous one.
#previous_dmesg=no&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I find that to be a sensible change indeed:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doasedit /etc/conf.d/bootmisc
# [...]
# update from NO:
# wipe_tmp=&amp;#34;YES&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I left my config like this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="conf"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;/etc/conf.d/bootmisc&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;conf&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ini"&gt;[...]
# Should we wipe the tmp paths completely or just selectively remove known
# locks / files / etc... ?
# wipe_tmp=&amp;#34;NO&amp;#34;
wipe_tmp=&amp;#34;YES&amp;#34;
[...]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I like to leave the previous / default value commented out, it is a good paper
trail&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/alpine-linux-clear-/tmp-upon-reboot/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; for my future self.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;em&gt;tombstone&lt;/em&gt;, in software engineering parlance&amp;#160;&lt;a href="https://perrotta.dev/2026/02/alpine-linux-clear-/tmp-upon-reboot/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Alpine Linux: clear /tmp upon reboot"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>ğŸ”— Reply to: Why Am I Doing the Thinking for You?</title><link>https://perrotta.dev/2026/02/reply-to-why-am-i-doing-the-thinking-for-you/</link><pubDate>Thu, 05 Feb 2026 17:51:13 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>commentary</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2026/02/reply-to-why-am-i-doing-the-thinking-for-you/</guid><description>&lt;blockquote&gt;
&lt;p&gt;I got a Slack message the other week, just &amp;ldquo;What do you think?&amp;rdquo; with a link to
a Notion document.&lt;/p&gt;
&lt;p&gt;No context or indication of what this person actually believed. Just a link
and a question mark.&lt;/p&gt;
&lt;p&gt;I stared at it for a minute, trying to decide if I was annoyed or just tired
(both, probably).&lt;/p&gt;
&lt;p&gt;What&amp;rsquo;s this message is actually saying is: &amp;ldquo;I haven&amp;rsquo;t figured this out yet and
I&amp;rsquo;d like you to do the thinking for me.&amp;rdquo;&lt;/p&gt;
&lt;p&gt;That sounds harsh, but it&amp;rsquo;s true. When you ask someone &amp;ldquo;what do you think?&amp;rdquo;
without sharing what you think, you&amp;rsquo;re not collaborating, but more like
outsourcing? You&amp;rsquo;re taking all the work you should have done (reading and
understanding the doc, weighing the trade-offs, forming an opinion) and
dumping it on someone else&amp;rsquo;s lap.&lt;/p&gt;
&lt;p&gt;It looks like a question, but it&amp;rsquo;s more like a task assignment.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I must concur with this.&lt;/p&gt;
&lt;p&gt;Throughout my university years I&amp;rsquo;ve been slowly shaped to adopt this ethos, via
&lt;a href="https://wiki.archlinux.org/title/Arch_terminology#The_Arch_Way"&gt;The Arch Way&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s good character to upfront your interlocutor with just enough context to get
them unblocked for whatever purpose or outcome you&amp;rsquo;re striving to achieve.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Reply to: Why Am I Doing the Thinking for You?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>npm error code EBADF</title><link>https://perrotta.dev/2026/02/npm-error-code-ebadf/</link><pubDate>Thu, 05 Feb 2026 13:21:00 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>macos</category><category>pre-commit</category><category>security</category><guid>https://perrotta.dev/2026/02/npm-error-code-ebadf/</guid><description>&lt;p&gt;Symptom:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% pre-commit run -a
[INFO] Installing environment for https://github.com/rbubley/mirrors-prettier.
[INFO] Once installed this environment will be reused.
[INFO] This may take a few minutes...
An unexpected error has occurred: CalledProcessError: command: (&amp;#39;/Users/thiago.perrotta/.cache/pre-commit/repo78y8p1fk/node_env-system/bin/node&amp;#39;, &amp;#39;/opt/homebrew/bin/npm&amp;#39;, &amp;#39;install&amp;#39;, &amp;#39;-g&amp;#39;, &amp;#39;/Users/thiago.perrotta/.cache/pre-commit/repo78y8p1fk/placeholder_package-0.0.0.tgz&amp;#39;, &amp;#39;prettier@3.8.1&amp;#39;)
return code: 1
stdout: (none)
stderr:
 npm error code EBADF
 npm error errno EBADF
 npm error request to https://registry.npmjs.org/prettier failed, reason:
 npm error A complete log of this run can be found in: /Users/thiago.perrotta/.npm/_logs/2026-02-04T12_22_05_104Z-debug-0.log
Check the log at /Users/thiago.perrotta/.cache/pre-commit/pre-commit.log&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Initially I thought it was an issue with &lt;code&gt;prettier&lt;/code&gt;. The pre-commit repository
is deprecated after all:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is a fork of the (now archived)
&lt;a href="https://github.com/pre-commit/mirrors-prettier"&gt;https://github.com/pre-commit/mirrors-prettier&lt;/a&gt; with the only difference being
that it only references release versions of prettier, not e.g. alpha/beta
versions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The actual error was &lt;a href="https://www.obdev.at/products/littlesnitch/index.html"&gt;Little
Snitch&lt;/a&gt; on macOS blocking
all outgoing connections to the NPM registry.&lt;/p&gt;
&lt;p&gt;How to address it?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Click &amp;ldquo;Manage Rules&amp;hellip;&amp;rdquo;&lt;/li&gt;
&lt;li&gt;Click &amp;ldquo;Deny&amp;rdquo; to list all network blocks&lt;/li&gt;
&lt;li&gt;Delete the NPM registry entry&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: npm error code EBADF"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/pre-commit/"&gt;#pre-commit&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item><item><title>GitHub: approve PRs from CLI</title><link>https://perrotta.dev/2026/02/github-approve-prs-from-cli/</link><pubDate>Wed, 04 Feb 2026 11:10:58 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/02/github-approve-prs-from-cli/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: approve a given github pull request from the CLI.&lt;/p&gt;
&lt;p&gt;Why?&lt;/p&gt;
&lt;p&gt;Presumably you would do the PR review outside the GitHub web UI (it&amp;rsquo;s slow,
eh?). How to do this is out of scope of this post.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s assume the review is done, and all that is left is to approve the PR.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s also assume you have a local checkout of the repository, and your CWD is
set to it.&lt;/p&gt;
&lt;p&gt;First, check the PR out:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;thiago.perrotta ~/Corp/terraform git:main
% gh co
? Select a pull request [Use arrows to move, type to filter]
&amp;gt; 509 OPEN Change ai-resources repository visibility to internal [fix/ai-resources-visibility-internal]
[...]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now approve it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;thiago.perrotta ~/Corp/terraform git:fix/ai-resources-visibility-internal? #509
% gh pr review --approve
âœ“ Approved pull request corp/terraform#509&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It&amp;rsquo;s possible to approve the PR without checking it out:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% gh pr review -h
Add a review to a pull request.

Without an argument, the pull request that belongs to the current branch is reviewed.


USAGE
 gh pr review [&amp;lt;number&amp;gt; | &amp;lt;url&amp;gt; | &amp;lt;branch&amp;gt;] [flags]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% gh pr review 509 --approve&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: GitHub: approve PRs from CLI"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>just apply it</title><link>https://perrotta.dev/2026/02/just-apply-it/</link><pubDate>Wed, 04 Feb 2026 11:08:58 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>serenity</category><category>terraform</category><guid>https://perrotta.dev/2026/02/just-apply-it/</guid><description>&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Thiago&lt;/strong&gt;: now that your PR is merged, you can &lt;em&gt;just apply&lt;/em&gt; it&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Teammate&lt;/strong&gt;: ah never did that, what would I need to do?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Thiago&lt;/strong&gt;: &lt;code&gt;just apply github-{corp}-ai-resources&lt;/code&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/just-apply-it/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I love these accidental word puns (ft. &lt;a href="https://just.systems/"&gt;just&lt;/a&gt;).&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;In this context, &lt;code&gt;just apply&lt;/code&gt; is a wrapper of &lt;code&gt;terraform apply&lt;/code&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/just-apply-it/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: just apply it"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/terraform/"&gt;#terraform&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Miniflux themes</title><link>https://perrotta.dev/2026/01/miniflux-themes/</link><pubDate>Fri, 30 Jan 2026 11:31:40 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/01/miniflux-themes/</guid><description>&lt;p&gt;I&amp;rsquo;ve been using &lt;a href="https://miniflux.app/"&gt;miniflux&lt;/a&gt; &lt;a href="https://perrotta.dev/2022/01/miniflux-rolling-my-own-rss-reader/"&gt;for ages&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And yet I never bothered to customize it much. Its vanilla settings are great
out-of-the-box â€“ as it should be!&lt;/p&gt;
&lt;p&gt;That said, it&amp;rsquo;s quite straightforward to add custom CSS to miniflux.&lt;/p&gt;
&lt;p&gt;I found two themes that are visually appealing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://gist.github.com/echoriiku/1fe309493a58e86c082d3f4c39c3e122"&gt;solarized&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/catppuccin/miniflux/blob/main/themes/catppuccin-latte.css#L8"&gt;catppuccin latte&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Copy the CSS snippet, go to Settings &amp;gt; Custom CSS in the miniflux UI, paste it
there and save the config. Enjoy.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Miniflux themes"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>starship: github PR prompt</title><link>https://perrotta.dev/2026/01/starship-github-pr-prompt/</link><pubDate>Fri, 30 Jan 2026 00:51:51 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>git</category><guid>https://perrotta.dev/2026/01/starship-github-pr-prompt/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/12/starship/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: add to &lt;a href="https://starship.rs/"&gt;starship&lt;/a&gt; the GitHub PR
associated with the current git branch.&lt;/p&gt;
&lt;p&gt;The following starship custom module does the trick:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;[custom.github_pr]
command = &amp;#34;bkt --ttl=10m --scope=\&amp;#34;$(git rev-parse --show-toplevel):$(git branch --show-current)\&amp;#34; -- gh pr view --json number --jq &amp;#39;\&amp;#34;#\&amp;#34; &amp;#43; (.number | tostring)&amp;#39; 2&amp;gt;/dev/null&amp;#34;
when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null&amp;#34;
format = &amp;#34; [$output](magenta)&amp;#34;
ignore_timeout = true&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The module is activated only within git repositories (see the &lt;code&gt;when&lt;/code&gt; variable).&lt;/p&gt;
&lt;p&gt;The &lt;code&gt;command&lt;/code&gt; consists of the &lt;code&gt;gh&lt;/code&gt; CLI, as you would expect. There&amp;rsquo;s one major
problem: it makes a network call on every prompt. This is super inefficient.
Can&amp;rsquo;t do.&lt;/p&gt;
&lt;p&gt;That&amp;rsquo;s why we use &lt;a href="https://perrotta.dev/2024/12/bkt-cache-command-outputs/"&gt;&lt;code&gt;bkt&lt;/code&gt;&lt;/a&gt;:
it caches the PR info for a certain amount of time (10 minutes in the
aforementioned example), which makes this a feasible prompt.&lt;/p&gt;
&lt;p&gt;The full prompt (without colors) looks roughly like this:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;thiago.perrotta ~/.dotfiles git:master! â‡ #466
â¯&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The full git commit that implements and uses it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git --no-pager show
commit d2a80f6b8edfa6a07204a1d97b278abacba57813 (HEAD -&amp;gt; master)
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Fri Jan 30 00:55:02 2026 &amp;#43;0100

 starship: add github pr

diff --git starship/.config/starship.toml starship/.config/starship.toml
index 2c5e78e..9fbf19b 100644
--- starship/.config/starship.toml
&amp;#43;&amp;#43;&amp;#43; starship/.config/starship.toml
@@ -1,5 &amp;#43;1,5 @@
 # Minimal starship config matching grml prompt
-format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}$line_break$character&amp;#34;
&amp;#43;format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status${custom.git_worktree}${custom.github_pr}$line_break$character&amp;#34;
 right_format = &amp;#34;$cmd_duration$jobs&amp;#34;
 add_newline = true

@@ -52,3 &amp;#43;52,9 @@ command = &amp;#34;printf &amp;#39;â‡&amp;#39;&amp;#34;
 when = &amp;#34;[ -f .git ]&amp;#34;
 format = &amp;#34; [$output]($style)&amp;#34;
 style = &amp;#34;bold yellow&amp;#34;
&amp;#43;
&amp;#43;[custom.github_pr]
&amp;#43;command = &amp;#34;bkt --ttl=10m --scope=\&amp;#34;$(git rev-parse --show-toplevel):$(git branch --show-current)\&amp;#34; -- gh pr view --json number --jq &amp;#39;\&amp;#34;#\&amp;#34; &amp;#43; (.number | tostring)&amp;#39; 2&amp;gt;/dev/null&amp;#34;
&amp;#43;when = &amp;#34;git rev-parse --is-inside-work-tree 2&amp;gt;/dev/null&amp;#34;
&amp;#43;format = &amp;#34; [$output](magenta)&amp;#34;
&amp;#43;ignore_timeout = true&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: starship: github PR prompt"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>GitHub: disable coding agent</title><link>https://perrotta.dev/2026/01/github-disable-coding-agent/</link><pubDate>Wed, 28 Jan 2026 15:15:14 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>dev</category><guid>https://perrotta.dev/2026/01/github-disable-coding-agent/</guid><description>&lt;p&gt;If you don&amp;rsquo;t like the new &amp;ldquo;Agents&amp;rdquo; tab in GitHub (repo view), you can disable
it here: &lt;a href="https://github.com/settings/copilot/coding_agent"&gt;https://github.com/settings/copilot/coding_agent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Set it to &amp;ldquo;No repositories&amp;rdquo;.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;â€” -&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;If you don&amp;rsquo;t like the Copilot chat featires in GitHub, you can disable them
here: &lt;a href="https://github.com/settings/copilot/features"&gt;https://github.com/settings/copilot/features&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Dashboard Entry Point
Allows instant chatting when landing on GitHub.com&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Set it to &amp;ldquo;Disabled&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: GitHub: disable coding agent"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>atuin: new machine setup</title><link>https://perrotta.dev/2026/01/atuin-new-machine-setup/</link><pubDate>Sat, 24 Jan 2026 18:46:02 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>fosdem</category><category>selfhosted</category><guid>https://perrotta.dev/2026/01/atuin-new-machine-setup/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/11/atuin/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: you&amp;rsquo;re already using &lt;code&gt;atuin&lt;/code&gt;, and have sync configured.
You just got a new machine. Now, configure &lt;code&gt;atuin&lt;/code&gt; in it.&lt;/p&gt;
&lt;p&gt;If you self-host, configure your sync server first:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;$EDITOR ~/.config/atuin/config.toml
# ---
## address of the sync server
# sync_address = &amp;#34;https://api.atuin.sh&amp;#34;
sync_address = &amp;#34;https://{your-server-here}&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then log in to your server:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;atuin login --username {username}
&amp;lt;type in password&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;You can also provide the password with the &lt;code&gt;--password&lt;/code&gt; switch, but keep in mind
it will be logged to your shell history unless you take precautions.&lt;/p&gt;
&lt;p&gt;The next step is to import your current history into atuin. If this is a
fresh new machine then there&amp;rsquo;s no need to do so.&lt;/p&gt;
&lt;p&gt;If you had been using it for a while but didn&amp;rsquo;t set up &lt;code&gt;atuin&lt;/code&gt; from the
beginning, go on:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;atuin import auto&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Finally, sync it once:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;atuin sync&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Syncing happens automatically, but it&amp;rsquo;s sensible to manually kick-off the
initial sync upfront.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Fin&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: atuin: new machine setup"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/fosdem/"&gt;#fosdem&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/selfhosted/"&gt;#selfhosted&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Chrome â†’ Brave</title><link>https://perrotta.dev/2026/01/chrome-brave/</link><pubDate>Sat, 24 Jan 2026 18:08:51 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>privacy</category><guid>https://perrotta.dev/2026/01/chrome-brave/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/11/chrome-orion/"&gt;Earlier&lt;/a&gt; I tried to switch from
Chrome to Orion (from the &lt;a href="https://kagi.com/"&gt;Kagi&lt;/a&gt; folks). That did not last.&lt;/p&gt;
&lt;p&gt;Even though Orion has various interesting and innovative features, it did
not prove to be stable for my workflow. There were various times it has totally
frozen or crashed, making me lose track of my open tabs. This is not acceptable,
reliability is prime.&lt;/p&gt;
&lt;p&gt;You can only realize this by fully switching to it. It is not reproducible, it&amp;rsquo;s
not idempotent; only &amp;ldquo;vibes&amp;rdquo; can make you perceive its instability.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;d be willing to retry it in a few years. Not in 2026 though.&lt;/p&gt;
&lt;p&gt;I am not even keeping it around as a secondary browser: I have simply
uninstalled it.&lt;/p&gt;
&lt;p&gt;The situation on mobile is better. Orion for iOS is great. I&amp;rsquo;ve been using it as
my default iOS browser for ages. Presumably it is stable on iOS because it is
actually employing Safari / WebKit underpinnings, as every browser in iOS is
required to do.&lt;/p&gt;
&lt;p&gt;Now let&amp;rsquo;s go back to the elephant in the room: I did not want to switch back to
Google Chrome:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% brew uninstall google-chrome
==&amp;gt; Uninstalling Cask google-chrome
==&amp;gt; Backing App &amp;#39;Google Chrome.app&amp;#39; up to &amp;#39;/opt/homebrew/Caskroom/google-chrome/141.0.7390.55/Google Chrome.app&amp;#39;
==&amp;gt; Removing App &amp;#39;/Applications/Google Chrome.app&amp;#39;
==&amp;gt; Purging files for version 141.0.7390.55 of Cask google-chrome&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Upon re-evaluating my options, I decided to give Brave a try. There are many
things I dislike about Brave in terms of philosophy and politics (for example,
Web3 and Crypto), so I cannot endorse it in any way.&lt;/p&gt;
&lt;p&gt;However, I realized there are many things that Brave does right out-of-the-box.
It has a very decent focus on privacy and adblocking. It strips off Google
telemetry and sync (e.g. bookmarks, passwords) features. Its performance and
stability is comparable to Chrome â€“ well, they both use Chromium underneath.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been daily driving Brave as my default / main desktop browser for about 2
months now and I&amp;rsquo;ve been quite happy with it. It hasn&amp;rsquo;t crashed at all, not even
once. All familiar Chromium features are there. All the Google-proprietary
nuisance is gone.&lt;/p&gt;
&lt;p&gt;Again, I&amp;rsquo;d have a hard time to recommend Brave personally. Still, it has been
working well for me, so far.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Chrome â†’ Brave"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/privacy/"&gt;#privacy&lt;/a&gt;&lt;/p&gt;</description></item><item><title>terraform import arrays</title><link>https://perrotta.dev/2026/01/terraform-import-arrays/</link><pubDate>Sat, 24 Jan 2026 17:00:07 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>terraform</category><guid>https://perrotta.dev/2026/01/terraform-import-arrays/</guid><description>&lt;p&gt;Given an existing resource
&lt;code&gt;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed[0]&lt;/code&gt;
to be imported into terraform state through an
&lt;a href="https://developer.hashicorp.com/terraform/language/v1.14.x/import/bulk?page=import&amp;amp;page=bulk"&gt;&lt;code&gt;imports.tf&lt;/code&gt;&lt;/a&gt;
file with &lt;a href="https://developer.hashicorp.com/terraform/language/import"&gt;&lt;code&gt;import&lt;/code&gt;&lt;/a&gt;
blocks, a targeted imported can be performed like this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;terraform apply -target=&amp;#39;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed[0]&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Nothing special here.
The &amp;ldquo;TIL&amp;rdquo; bit of the day is that the array suffix &lt;code&gt;[0]&lt;/code&gt; is not needed:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;terraform apply -target=&amp;#39;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;works as well.&lt;/p&gt;
&lt;p&gt;It feels like a silly optimization to know about but, when you double-click the
resource name in most terminal emulators, only
&lt;code&gt;module.atlas_mongo_external.mongodbatlas_alert_configuration.maintenance_no_longer_needed&lt;/code&gt;
gets selected by default, stopping right before &lt;code&gt;[&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: terraform import arrays"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/terraform/"&gt;#terraform&lt;/a&gt;&lt;/p&gt;</description></item><item><title>LeetCode #2166: Design Bitset</title><link>https://perrotta.dev/2026/01/leetcode-%232166-design-bitset/</link><pubDate>Tue, 20 Jan 2026 22:20:59 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2026/01/leetcode-%232166-design-bitset/</guid><description>&lt;p&gt;&lt;a href="https://leetcode.com/problems/design-bitset"&gt;LeetCode #2166: Design Bitset&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;Time limit exceeded:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;class Bitset:

 def __init__(self, size: int):
 self.bits = [False] * size


 def fix(self, idx: int) -&amp;gt; None:
 self.bits[idx] = 1


 def unfix(self, idx: int) -&amp;gt; None:
 self.bits[idx] = 0


 def flip(self) -&amp;gt; None:
 self.bits = [not bit for bit in self.bits]


 def all(self) -&amp;gt; bool:
 return all(self.bits)


 def one(self) -&amp;gt; bool:
 return any(self.bits)


 def count(self) -&amp;gt; int:
 return len([bit for bit in self.bits if bit])


 def toString(self) -&amp;gt; str:
 return &amp;#39;&amp;#39;.join(&amp;#39;1&amp;#39; if bit else &amp;#39;0&amp;#39; for bit in self.bits)



# Your Bitset object will be instantiated and called as such:
# obj = Bitset(size)
# obj.fix(idx)
# obj.unfix(idx)
# obj.flip()
# param_4 = obj.all()
# param_5 = obj.one()
# param_6 = obj.count()
# param_7 = obj.toString()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Optimized:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;class Bitset:

 def __init__(self, size: int):
 self.bits = [False] * size
 self.ones = 0
 self.flipped = False


 def fix(self, idx: int) -&amp;gt; None:
 if self.flipped:
 # When flipped, fixing means setting underlying bit to 0
 if self.bits[idx]:
 self.bits[idx] = False
 self.ones -= 1
 else:
 # Normal case: set to 1
 if not self.bits[idx]:
 self.bits[idx] = True
 self.ones &amp;#43;= 1


 def unfix(self, idx: int) -&amp;gt; None:
 if self.flipped:
 # When flipped, unfixing means setting underlying bit to 1
 if not self.bits[idx]:
 self.bits[idx] = True
 self.ones &amp;#43;= 1
 else:
 # Normal case: set to 0
 if self.bits[idx]:
 self.bits[idx] = False
 self.ones -= 1


 def flip(self) -&amp;gt; None:
 self.flipped = not self.flipped


 def all(self) -&amp;gt; bool:
 if self.flipped:
 return self.ones == 0
 else:
 return self.ones == len(self.bits)


 def one(self) -&amp;gt; bool:
 if self.flipped:
 # When flipped, we need at least one 0 in underlying array (which becomes 1)
 return self.ones &amp;lt; len(self.bits)
 else:
 return self.ones &amp;gt; 0


 def count(self) -&amp;gt; int:
 if self.flipped:
 return len(self.bits) - self.ones
 else:
 return self.ones


 def toString(self) -&amp;gt; str:
 if self.flipped:
 return &amp;#39;&amp;#39;.join(&amp;#39;0&amp;#39; if bit else &amp;#39;1&amp;#39; for bit in self.bits)
 else:
 return &amp;#39;&amp;#39;.join(&amp;#39;1&amp;#39; if bit else &amp;#39;0&amp;#39; for bit in self.bits)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LeetCode #2166: Design Bitset"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;</description></item><item><title>LeetCode #1047: Remove All Adjacent Duplicates In String</title><link>https://perrotta.dev/2026/01/leetcode-%231047-remove-all-adjacent-duplicates-in-string/</link><pubDate>Sun, 18 Jan 2026 13:37:46 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2026/01/leetcode-%231047-remove-all-adjacent-duplicates-in-string/</guid><description>&lt;p&gt;&lt;a href="https://leetcode.com/problems/remove-all-adjacent-duplicates-in-string"&gt;LeetCode #1047: Remove All Adjacent Duplicates In String&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;Initial:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;class Solution:
 def removeDuplicates(self, s: str) -&amp;gt; str:
 stack = []
 ans = []

 for c in s:
 if not stack:
 stack.append(c)
 ans.append(c)
 else:
 if stack[-1] != c:
 stack.append(c)
 ans.append(c)
 else:
 stack.pop()
 ans.pop()

 return &amp;#39;&amp;#39;.join(ans)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Optimized:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;class Solution:
 def removeDuplicates(self, s: str) -&amp;gt; str:
 stack = []
 ans = []

 for c in s:
 if not stack or stack[-1] != c:
 stack.append(c)
 ans.append(c)
 else:
 stack.pop()
 ans.pop()

 return &amp;#39;&amp;#39;.join(ans)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LeetCode #1047: Remove All Adjacent Duplicates In String"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;</description></item><item><title>LeetCode #380: Insert Delete GetRandom O(1)</title><link>https://perrotta.dev/2026/01/leetcode-%23380-insert-delete-getrandom-o1/</link><pubDate>Sun, 18 Jan 2026 02:54:25 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2026/01/leetcode-%23380-insert-delete-getrandom-o1/</guid><description>&lt;p&gt;&lt;a href="https://leetcode.com/problems/insert-delete-getrandom-o%281%29"&gt;LeetCode #380: Insert Delete GetRandom O(1)&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;Initial solution:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;import random

class RandomizedSet:

 def __init__(self):
 self.l = []

 self.d = {}
 ## self.d = dict()

 def insert(self, val: int) -&amp;gt; bool:
 if val not in self.d:
 self.d[val] = len(self.l)
 self.l.append(val)
 return True

 return False


 def remove(self, val: int) -&amp;gt; bool:
 if val in self.d:
 del self.d[val]
 ## self.l: do not touch. Removal is O(n)
 return True

 return False


 def getRandom(self) -&amp;gt; int:
 return random.choice(list(self.d.keys()))


# Your RandomizedSet object will be instantiated and called as such:
# obj = RandomizedSet()
# param_1 = obj.insert(val)
# param_2 = obj.remove(val)
# param_3 = obj.getRandom()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;However, &lt;code&gt;getRandom()&lt;/code&gt; is &lt;code&gt;O(n)&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Better solution:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;import random

class RandomizedSet:

 def __init__(self):
 self.l = []

 self.d = {}
 ## self.d = dict()

 def insert(self, val: int) -&amp;gt; bool:
 if val not in self.d:
 self.d[val] = len(self.l)
 self.l.append(val)
 return True

 return False


 def remove(self, val: int) -&amp;gt; bool:
 if val in self.d:
 i = self.d[val]
 del self.d[val]

 del self.l[i]
 return True

 return False


 def getRandom(self) -&amp;gt; int:
 return random.choice(self.l)


# Your RandomizedSet object will be instantiated and called as such:
# obj = RandomizedSet()
# param_1 = obj.insert(val)
# param_2 = obj.remove(val)
# param_3 = obj.getRandom()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;But it&amp;rsquo;s still &lt;code&gt;O(n)&lt;/code&gt; because of the list deletion.&lt;/p&gt;
&lt;p&gt;Even better:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;import random

class RandomizedSet:

 def __init__(self):
 self.l = []

 self.d = {}
 ## self.d = dict()

 def insert(self, val: int) -&amp;gt; bool:
 if val not in self.d:
 self.d[val] = len(self.l)
 self.l.append(val)
 return True

 return False


 def remove(self, val: int) -&amp;gt; bool:
 if val in self.d:
 i = self.d[val]
 del self.d[val]

 last_val = self.l[-1]

 # Swap with the last element
 self.l[i] = last_val
 self.l.pop()

 # Update the dictionary for the swapped element only if it&amp;#39;s not the same as removed valA
 # i.e. not the last element
 if i &amp;lt; len(self.l):
 ## if i != len(self.l):
 self.d[last_val] = i

 return True

 return False


 def getRandom(self) -&amp;gt; int:
 return random.choice(self.l)


# Your RandomizedSet object will be instantiated and called as such:
# obj = RandomizedSet()
# param_1 = obj.insert(val)
# param_2 = obj.remove(val)
# param_3 = obj.getRandom()&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LeetCode #380: Insert Delete GetRandom O(1)"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;</description></item><item><title>'New' series: Raspberry Pi fun with DevOps, redux</title><link>https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/</link><pubDate>Sat, 17 Jan 2026 23:14:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>alpine-linux</category><category>dev</category><guid>https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/</guid><description>&lt;p&gt;Once upon a time, &lt;a href="https://www.youtube.com/watch?v=vNoKguSdy4Y"&gt;a few mistakes
ago&lt;/a&gt;, I wanted to start a blog
series about doing projects with my two Raspberry Pi units at home.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://perrotta.dev/2024/10/new-series-raspberry-pi-fun-with-devops/"&gt;initial post&lt;/a&gt; described my vision, but it was never followed upon. There was a mix of
reasons for that:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;lack of time and proper prioritization&lt;/li&gt;
&lt;li&gt;being overwhelmed by choice&lt;/li&gt;
&lt;li&gt;a desire to stay digitally disconnected&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;lack of structure in this blog&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Needless to say, my motivation is still well alive, and I have an itch to move
forward with this project this year. Let&amp;rsquo;s see how it will flow.&lt;/p&gt;
&lt;p&gt;I want to start by commenting on my ideas from 15 months ago. New Thiago reviews
old Thiago.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;For a long time I&amp;rsquo;ve been wanting to do something useful with them, while
increasing my DevOps toolkit knowledge.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;And trying out new tools and workflows that I am not able to try at work â€“
either because they don&amp;rsquo;t make sense there, or due to lack of prioritization.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The roadblock to do so was the most classic excuse: lack of non-interrupted
time.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s plenty of motivation, and ideas. These will likely &lt;em&gt;never&lt;/em&gt; run out,
any time soon.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Still true! Hah!&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There&amp;rsquo;s no guarantee I will follow up on all of these ideas but,&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I can foresee the future! ğŸ”®&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Guiding principles&lt;/p&gt;
&lt;p&gt;&lt;em&gt;a.k.a. rules of engagement&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My revised goals:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;It must run unix â†’ &lt;strong&gt;unchanged&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;It must be vanilla / upstream â†’ &lt;strong&gt;unchanged&lt;/strong&gt;.&lt;/li&gt;
&lt;li&gt;Every software installation &lt;em&gt;must&lt;/em&gt; come from a package â†’ packages are still
OK, but I am opening up the possibility for container images as well (e.g.
via docker or podman). Ad-hoc installations are still explicitly ruled out,
UNLESS they are scripted in an idempotent manner e.g. via Ansible or pyinfra,
but only as a last resort.&lt;/li&gt;
&lt;li&gt;It must have no X11 nor Wayland nor a graphical system â†’ &lt;strong&gt;unchanged&lt;/strong&gt;. Web
server management interfaces are acceptable though.&lt;/li&gt;
&lt;li&gt;Software updates must happen with a single command â†’ &lt;strong&gt;unchanged&lt;/strong&gt;. These
days I have
&lt;a href="https://github.com/thiagowfx/pancake/tree/master/sd_world"&gt;sd_world&lt;/a&gt;. A
custom &lt;a href="https://just.systems/"&gt;Justfile&lt;/a&gt; recipe would also be acceptable:
&lt;code&gt;just update&lt;/code&gt; or &lt;code&gt;just upgrade&lt;/code&gt; or &lt;code&gt;just world&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;It should be reasonably popular and well-supported â†’ &lt;strong&gt;unchanged&lt;/strong&gt;. No
abandonware.&lt;/li&gt;
&lt;li&gt;It should support Raspberry Pi (the ARM architecture, for that matter) as a first-class citizen â†’ &lt;strong&gt;unchanged&lt;/strong&gt;.&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Revised distributions / operating systems:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Debian
â€” RaspberryPi OS&lt;/li&gt;
&lt;li&gt;Fedora&lt;/li&gt;
&lt;li&gt;Alpine Linux&lt;/li&gt;
&lt;li&gt;Arch Linux (Arch Linux ARM)&lt;/li&gt;
&lt;li&gt;Gentoo Linux&lt;/li&gt;
&lt;li&gt;NixOS&lt;/li&gt;
&lt;li&gt;FreeBSD&lt;/li&gt;
&lt;li&gt;OpenBSD&lt;/li&gt;
&lt;li&gt;&lt;del&gt;openSUSE&lt;/del&gt;: I decided that, if I invest in the &lt;code&gt;.rpm&lt;/code&gt; world, Fedora is the
way to go.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Ubuntu&lt;/del&gt;: I decided that, if I invest in the &lt;code&gt;.deb&lt;/code&gt; world, Debian is the way
to go. Ubuntu remains solid for commercial / enterprise usage, but this is a
personal project.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Void Linux&lt;/del&gt;: too niche, no enthusiasm for Void Linux in my circle these
days. If I ever tried it, I feel it would be used as a Desktop distro.&lt;/li&gt;
&lt;li&gt;&lt;del&gt;Slackware Linux&lt;/del&gt;: updated on 2025-09-11. Too niche, no enthusiasm for it in
my circle these days.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;This list is still quite large.
I will need to trim it down further in the following days. Stay tuned.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now it&amp;rsquo;s shorter: 4 less distros. Progress!&lt;/p&gt;
&lt;p&gt;One big question is whether I&amp;rsquo;ll treat my Raspberries &lt;a href="https://cloudscaling.com/blog/cloud-computing/the-history-of-pets-vs-cattle/0"&gt;as pets or as
cattle&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;To be continued â– &lt;sup id="fnref:3"&gt;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fn:3" class="footnote-ref" role="doc-noteref"&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://sive.rs/n"&gt;Life is short&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;More specifically: linking related posts to each other, and having an easy
way to go from the previous to the next post in a series.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;Wishful thinking.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/new-series-raspberry-pi-fun-with-devops-redux/#fnref:3" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 'New' series: Raspberry Pi fun with DevOps, redux"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>LeetCode #288: Unique Word Abbreviation</title><link>https://perrotta.dev/2026/01/leetcode-%23288-unique-word-abbreviation/</link><pubDate>Sat, 17 Jan 2026 03:00:13 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2026/01/leetcode-%23288-unique-word-abbreviation/</guid><description>&lt;p&gt;&lt;a href="https://leetcode.com/problems/unique-word-abbreviation"&gt;LeetCode #288: Unique Word Abbreviation&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;from collections import Counter

def abbrev(word):
 if len(word) &amp;lt; 3:
 return word

 return f&amp;#39;{word[0]}{len(word) - 2}{word[-1]}&amp;#39;

assert abbrev(&amp;#34;dg&amp;#34;) == &amp;#34;dg&amp;#34;
assert abbrev(&amp;#34;dog&amp;#34;) == &amp;#34;d1g&amp;#34;
assert abbrev(&amp;#34;a&amp;#34;) == &amp;#34;a&amp;#34;


class ValidWordAbbr:

 def __init__(self, words: List[str]):
 self.words = words

 ## self.mappings = Counter() # abbrev -&amp;gt; word
 ## for word in set(words):
 ## self.mappings[abbrev(word)] &amp;#43;= 1

 self.mappings = Counter(abbrev(word) for word in set(words))

 def isUnique(self, word: str) -&amp;gt; bool:
 ab = abbrev(word)

 return self.mappings[ab] &amp;lt; 1 or (self.mappings[ab] == 1 and word in self.words)


# Your ValidWordAbbr object will be instantiated and called as such:
# obj = ValidWordAbbr(dictionary)
# param_1 = obj.isUnique(word)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LeetCode #288: Unique Word Abbreviation"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;</description></item><item><title>Random</title><link>https://perrotta.dev/2026/01/random/</link><pubDate>Fri, 16 Jan 2026 23:08:32 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/01/random/</guid><description>&lt;p&gt;I love to add little random features to this blog.&lt;/p&gt;
&lt;p&gt;â†’ &lt;a href="https://perrotta.dev/random"&gt;https://perrotta.dev/random&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;I am trying to keep the navigation bar lean&amp;hellip;therefore, a link to &lt;code&gt;/random&lt;/code&gt; was
added under the &amp;ldquo;Explore&amp;rdquo; item.&lt;/p&gt;
&lt;p&gt;The initial implementation was very simple:&lt;/p&gt;
&lt;div class="codeblock" data-lang="js"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;js&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-js"&gt;&amp;lt;script&amp;gt;
 const posts = [
 {{- range $index, $page := where .Site.RegularPages &amp;#34;Section&amp;#34; &amp;#34;posts&amp;#34; }}
 {{- if $index }},{{ end }}
 &amp;#34;{{ $page.RelPermalink }}&amp;#34;
 {{- end }}
 ];
 if (posts.length &amp;gt; 0) {
 const randomPost = posts[Math.floor(Math.random() * posts.length)];
 window.location.replace(randomPost);
 }
&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;later on it was updated to exclude &amp;ldquo;coding&amp;rdquo; posts.&lt;/p&gt;
&lt;p&gt;Randomness is often a great source of serendipity!&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Random"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>LeetCode #23: Merge k Sorted Lists</title><link>https://perrotta.dev/2026/01/leetcode-%2323-merge-k-sorted-lists/</link><pubDate>Thu, 15 Jan 2026 23:20:52 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2026/01/leetcode-%2323-merge-k-sorted-lists/</guid><description>&lt;p&gt;&lt;a href="https://leetcode.com/problems/merge-k-sorted-lists"&gt;LeetCode #23: Merge k Sorted Lists&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;Heap of ListNodes:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;import heapq

# Definition for singly-linked list.
# class ListNode:
# def __init__(self, val=0, next=None):
# self.val = val
# self.next = next
class HeapNode:
 def __init__(self, node: ListNode):
 self.node = node

 def __lt__(self, other: HeapNode):
 return self.node.val &amp;lt; other.node.val

class Solution:
 def mergeKLists(self, lists: List[Optional[ListNode]]) -&amp;gt; Optional[ListNode]:
 prehead = ListNode(None)

 curr = prehead
 heap = []

 for lst in lists:
 if lst:
 heapq.heappush(heap, HeapNode(lst))

 while heap:
 # find next element: val
 next_heap_node = heapq.heappop(heap)
 next_node = next_heap_node.node

 curr.next = ListNode(next_node.val)
 curr = curr.next

 next_node = next_node.next
 if next_node:
 heapq.heappush(heap, HeapNode(next_node))


 head = prehead.next
 return head&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LeetCode #23: Merge k Sorted Lists"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;</description></item><item><title>LeetCode #362: Design Hit Counter</title><link>https://perrotta.dev/2026/01/leetcode-%23362-design-hit-counter/</link><pubDate>Thu, 15 Jan 2026 23:10:19 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><category>leetcode</category><guid>https://perrotta.dev/2026/01/leetcode-%23362-design-hit-counter/</guid><description>&lt;p&gt;&lt;a href="https://leetcode.com/problems/design-hit-counter"&gt;LeetCode #362: Design Hit Counter&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;With &lt;code&gt;Counter&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;import bisect
from collections import Counter

class HitCounter:

 def __init__(self):
 self.hits = Counter()
 ## timestamp -&amp;gt; hits

 def hit(self, timestamp: int) -&amp;gt; None:
 self.hits[timestamp] &amp;#43;= 1

 def getHits(self, timestamp: int) -&amp;gt; int:
 ## 3 * 60 -&amp;gt; 2
 ## 4 * 60 -&amp;gt; 1
 ## getHits(8 * 60) -&amp;gt; 3

 ## (exclusive, inclusive)
 ## (self.hits[timestamp - 300], self.hits[timestamp])

 items = list(sorted(self.hits.items()))
 ## (timestamp, counter)

 ## inclusive
 ts_left = bisect.bisect_right(items, timestamp - 300, key=lambda item: item[0])
 ts_right = bisect.bisect_left(items, timestamp, key=lambda item: item[0])

 ans = 0

 for (timestamp, hits) in items[ts_left:]:
 ans &amp;#43;= hits

 return ans


# Your HitCounter object will be instantiated and called as such:
# obj = HitCounter()
# obj.hit(timestamp)
# param_2 = obj.getHits(timestamp)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Alternatively, maintain our own sorted list of tuple:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;import bisect

class HitCounter:

 def __init__(self):
 self.hits = []
 ## (timestamp, hits)

 def hit(self, timestamp: int) -&amp;gt; None:
 i = bisect.bisect_left(self.hits, timestamp, key=lambda item: item[0])
 if i &amp;lt; len(self.hits) and self.hits[i][0] == timestamp:
 self.hits[i] = (timestamp, self.hits[i][1] &amp;#43; 1)
 else:
 self.hits.insert(i, (timestamp, 1))

 def getHits(self, timestamp: int) -&amp;gt; int:
 ## 3 * 60 -&amp;gt; 2
 ## 4 * 60 -&amp;gt; 1
 ## getHits(8 * 60) -&amp;gt; 3

 ## (exclusive, inclusive)
 ## (self.hits[timestamp - 300], self.hits[timestamp])

 ## (timestamp, counter)

 ## inclusive
 ts_left = bisect.bisect_right(self.hits, timestamp - 300, key=lambda item: item[0])
 ts_right = bisect.bisect_left(self.hits, timestamp, key=lambda item: item[0])

 ans = 0

 for (timestamp, hits) in self.hits[ts_left:]:
 ans &amp;#43;= hits

 return ans


# Your HitCounter object will be instantiated and called as such:
# obj = HitCounter()
# obj.hit(timestamp)
# param_2 = obj.getHits(timestamp)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: LeetCode #362: Design Hit Counter"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/leetcode/"&gt;#leetcode&lt;/a&gt;&lt;/p&gt;</description></item><item><title>PostgreSQL major version upgrade on Alpine Linux, redux</title><link>https://perrotta.dev/2026/01/postgresql-major-version-upgrade-on-alpine-linux-redux/</link><pubDate>Thu, 15 Jan 2026 22:25:09 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>alpine-linux</category><category>dev</category><guid>https://perrotta.dev/2026/01/postgresql-major-version-upgrade-on-alpine-linux-redux/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/05/postgresql-major-version-upgrade-on-alpine-linux/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id="problem-statement"&gt;Problem statement&lt;/h2&gt;
&lt;p&gt;Given Alpine Linux 3.23 running PostgreSQL 17, upgrade to PostgreSQL 18. For
this specific example, consider a &lt;a href="https://miniflux.app/"&gt;miniflux&lt;/a&gt; database.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://perrotta.dev/2025/05/postgresql-major-version-upgrade-on-alpine-linux/"&gt;previous&lt;/a&gt; post still applies, with only one exception:&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.credativ.de/en/blog/postgresql-en/postgresql-18-enables-datachecksums-by-default"&gt;PostgreSQL 18 enables dataâ€‘checksums by default&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Version 18 enables dataâ€‘checksums by default. In earlier versions, initdb
required the &lt;code&gt;--dataâ€‘checksums&lt;/code&gt; flag. The new release notes explicitly list
the change in the incompatibilities section: &amp;ldquo;Change initdb default to enable
data checksumsâ€¦ Checksums can be disabled with the new &lt;code&gt;--noâ€‘dataâ€‘checksums&lt;/code&gt;
option&amp;rdquo;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a better sensible default, but it breaks the normal upgrade flow:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;~/18/tmp $ pg_upgrade -b /usr/libexec/postgresql17/ -B /usr/libexec/postgresql18/ -d /var/lib/postgresql/17
/olddata/ -D /var/lib/postgresql/18/data
Performing Consistency Checks
-----------------------------
Checking cluster versions ok

old cluster does not use data checksums but the new one does
Failure, exiting&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The stable upgrade path is to initialize the new cluster database (v18) with
&lt;code&gt;--no-data-checksums&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;~/18/tmp $ initdb --no-data-checksums -D /var/lib/postgresql/18/data --locale=en_US.UTF-8 --encoding=UTF8
The files belonging to this database system will be owned by user &amp;#34;postgres&amp;#34;.
This user must also own the server process.

The database cluster will be initialized with locale &amp;#34;en_US.UTF-8&amp;#34;.
The default text search configuration will be set to &amp;#34;english&amp;#34;.

Data page checksums are disabled.

fixing permissions on existing directory /var/lib/postgresql/18/data ... ok
creating subdirectories ... ok
selecting dynamic shared memory implementation ... posix
selecting default &amp;#34;max_connections&amp;#34; ... 100
selecting default &amp;#34;shared_buffers&amp;#34; ... 128MB
selecting default time zone ... America/Toronto
creating configuration files ... ok
running bootstrap script ... ok
performing post-bootstrap initialization ... ok
syncing data to disk ... ok

initdb: warning: enabling &amp;#34;trust&amp;#34; authentication for local connections
initdb: hint: You can change this by editing pg_hba.conf or using the option -A, or --auth-local and --auth-host, the next time you run initdb.

Success.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then perform the migration as usual. Once the migration is complete, for the
sake of improving the reliability of the database, enable checksums:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;~/18/tmp $ pg_checksums --enable -D /var/lib/postgresql/18/data
Checksum operation completed
Files scanned: 1380
Blocks scanned: 89609
Files written: 1151
Blocks written: 89605
pg_checksums: syncing data directory
pg_checksums: updating control file
Checksums enabled in cluster&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;strong&gt;Note&lt;/strong&gt;: You must run &lt;code&gt;pg_checksums&lt;/code&gt; while the cluster is off-line, otherwise:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;~/18/tmp $ pg_checksums --enable -D /var/lib/postgresql/18/data
pg_checksums: error: cluster must be shut down&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Remember to delete the previous package once the upgrade is fully complete:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;/var/lib/postgresql # doas apk del postgresql17
(1/3) Purging postgresql17-openrc (17.7-r1)
(2/3) Purging postgresql17 (17.7-r1)
 Executing postgresql17-17.7-r1.pre-deinstall
(3/3) Purging postgresql17-client (17.7-r1)
Executing busybox-1.37.0-r31.trigger
Executing postgresql-common-1.3-r0.trigger
OK: 1271.3 MiB in 577 packages&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;That&amp;rsquo;s all!&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: PostgreSQL major version upgrade on Alpine Linux, redux"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>merge sort</title><link>https://perrotta.dev/2026/01/merge-sort/</link><pubDate>Wed, 14 Jan 2026 19:09:04 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><guid>https://perrotta.dev/2026/01/merge-sort/</guid><description>&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;def merge_sort(a):
 if len(a) &amp;lt; 2: ## [0, 1]
 return a

 ## (0 1) (2 3)
 ## m
 ##
 ## (0 1) (2 3 4)
 ## m

 mid = len(a) // 2

 left = a[:mid]
 right = a[mid:]

 left = merge_sort(left)
 right = merge_sort(right)

 return merge(left, right)

def merge(left, right):
 ans = []

 i = j = 0
 while i &amp;lt; len(left) and j &amp;lt; len(right):
 if left[i] &amp;lt; right[j]:
 ans.append(left[i])
 i &amp;#43;= 1
 else:
 ans.append(right[j])
 j &amp;#43;= 1
 ans.extend(left[i:])
 ans.extend(right[j:])

 return ans

a = list(range(10))[::-1]
assert merge_sort(a) == list(range(10))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: merge sort"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>quick sort</title><link>https://perrotta.dev/2026/01/quick-sort/</link><pubDate>Wed, 14 Jan 2026 18:56:43 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><guid>https://perrotta.dev/2026/01/quick-sort/</guid><description>&lt;p&gt;First element is the pivot:&lt;/p&gt;
&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;def quick_sort(a):
 if len(a) &amp;lt; 2: ## [0, 1]
 return a

 pivot = a[0]
 left = [x for x in a[1:] if x &amp;lt; pivot]
 right = [x for x in a[1:] if x &amp;gt;= pivot]

 left = quick_sort(left)
 right = quick_sort(right)

 return left &amp;#43; [pivot] &amp;#43; right

a = list(range(10))[::-1]

# it&amp;#39;s usually easier to do it with a copy
assert quick_sort(a) == list(range(10))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;With a random pivot:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;import random

def quick_sort(a):
 if len(a) &amp;lt; 2: ## [0, 1]
 return a

 pivot = random.choice(a)
 a_nopivot = [x for x in a if x != pivot]

 left = [x for x in a_nopivot if x &amp;lt; pivot]
 right = [x for x in a_nopivot if x &amp;gt;= pivot]

 left = quick_sort(left)
 right = quick_sort(right)

 return left &amp;#43; [pivot] &amp;#43; right

a = list(range(10))[::-1]

# it&amp;#39;s usually easier to do it with a copy
assert quick_sort(a) == list(range(10))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: quick sort"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>bisect: list of tuple</title><link>https://perrotta.dev/2026/01/bisect-list-of-tuple/</link><pubDate>Wed, 14 Jan 2026 18:47:50 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><guid>https://perrotta.dev/2026/01/bisect-list-of-tuple/</guid><description>&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;a = [(1, 3), (1, 4), (2, 5), (3, 6), (3, 7), (5, 8)]
b = [1, 1, 2, 3, 3, 5]
c = [x for (x, _) in a]
assert b == c

import bisect
assert bisect.bisect_right(b, 1) == 2
assert bisect.bisect_right(b, 3) == 5
assert bisect.bisect_right(b, 6) == len(b)

## use:
## i = bisect.bisect_right(b, 3)
## return a[i - 1][1]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: bisect: list of tuple"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>sorting algorithms</title><link>https://perrotta.dev/2026/01/sorting-algorithms/</link><pubDate>Wed, 14 Jan 2026 03:30:25 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><guid>https://perrotta.dev/2026/01/sorting-algorithms/</guid><description>&lt;div class="codeblock" data-lang="python"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;python&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-python"&gt;def swap(a, x, y):
 a[x], a[y] = a[y], a[x]

def bubble_sort(a):
 for i in range(len(a)):
 for j in range(i &amp;#43; 1, len(a)):
 if a[i] &amp;gt; a[j]:
 swap(a, i, j)

a = list(range(10)[::-1])
bubble_sort(a)
assert a == list(range(10))

def selection_sort(a):
 for i in range(len(a) - 1):
 ## el = min(a[i &amp;#43; 1:])
 ## eli = a.index(el)
 el = float(&amp;#39;inf&amp;#39;)
 eli = None
 for j in range(i &amp;#43; 1, len(a)):
 if a[j] &amp;lt; el:
 el = a[j]
 eli = j
 if eli:
 if a[i] &amp;gt; a[eli]:
 swap(a, i, eli)

a = list(range(10)[::-1])
selection_sort(a)
assert a == list(range(10))

def merge_sort_inplace(a):
 a[:] = merge_sort(a)

def merge_sort(a): ## no indices! (indexes)
 n = len(a)

 if n &amp;lt; 2: ## in [0, 1]
 return a

 # 0 1 2 3 4
 # 0 m n

 # 0 1 2 3
 # 0 m n
 mid = n // 2

 ## left: [0, mid - 1]
 ## right: [mid, len(a) - 1]
 A = merge_sort(a[:mid])
 B = merge_sort(a[mid:])

 ## A
 ## 1 4 7
 ## 2 3 6
 ## B

 return merge(A, B)

def merge(A, B):
 ans = []

 a = 0
 b = 0

 while a &amp;lt; len(A) and b &amp;lt; len(B):
 if A[a] &amp;lt; B[b]:
 ans.append(A[a])
 a &amp;#43;= 1
 else:
 ans.append(B[b])
 b &amp;#43;= 1

 ans.extend(A[a:])
 ans.extend(B[b:])

 return ans


a = list(range(10)[::-1])
merge_sort_inplace(a)
assert a == list(range(10))

def quick_sort(a):
 if len(a) &amp;lt; 2:
 return
 pivot = a[0]
 left = [x for x in a[1:] if x &amp;lt; pivot]
 right = [x for x in a[1:] if x &amp;gt;= pivot]

 quick_sort(left)
 quick_sort(right)
 a[:] = left &amp;#43; [pivot] &amp;#43; right

a = list(range(10)[::-1])
quick_sort(a)
assert a == list(range(10))&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: sorting algorithms"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>rca</title><link>https://perrotta.dev/2026/01/rca/</link><pubDate>Wed, 14 Jan 2026 02:47:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><guid>https://perrotta.dev/2026/01/rca/</guid><description>&lt;p&gt;RCA = Root-Cause Analysis = Postmortem&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;5 Whys. Why?? Why?? &lt;a href="https://www.youtube.com/watch?v=yki_bWIMvIU"&gt;Tell me
why!!!!&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;CAPAs =&amp;gt; corrective actions, preventive actions&lt;/li&gt;
&lt;li&gt;Corrective: fix the issue right away. Stop the bleeding.&lt;/li&gt;
&lt;li&gt;Preventive: how to stop it from reoccurring?&lt;/li&gt;
&lt;li&gt;Is there a monitoring gap? Did we find out about the issue by ourselves or via
the customer?&lt;/li&gt;
&lt;li&gt;If there was an alert, was it lost in the noise? Did it have the right
priority? Did it have proper routing, to the relevant (oncall) teams?&lt;/li&gt;
&lt;li&gt;Do we have an incident management process (IRM / Requiem)?&lt;/li&gt;
&lt;li&gt;Who is the incident commander?&lt;/li&gt;
&lt;li&gt;Do we have a status page that our customers can follow? Example:
&lt;a href="http://status.github.com/"&gt;http://status.github.com/&lt;/a&gt;. Uptime dashboard (UptimeKuma). Atlassian
StatusPage.&lt;/li&gt;
&lt;li&gt;What is our burn rate?&lt;/li&gt;
&lt;li&gt;What are our SLAs (agreement, contract)? SLOs (objective)? SLIs (indicator)?&lt;/li&gt;
&lt;li&gt;Prometheus. PromQL. Time-series database (TRDB), time-series tracking.
Cardinality of metrics.&lt;/li&gt;
&lt;li&gt;Cause: trigger of an immediate event vs contributing factor that made it
worse.&lt;/li&gt;
&lt;li&gt;Blameless postmortem culture. Psychological safety!&lt;/li&gt;
&lt;li&gt;Grafana. Dashboard. Render.&lt;/li&gt;
&lt;li&gt;AlertManager. Alert routing. Silencing. Snoozing.&lt;/li&gt;
&lt;li&gt;Maintenance mode. Maintenance windows.&lt;/li&gt;
&lt;li&gt;Logs collection. Loki. Analog.&lt;/li&gt;
&lt;li&gt;Logging (&lt;code&gt;/var/log/&lt;/code&gt;) â€” logging framework, or even good ol&amp;rsquo; &lt;code&gt;print(f)&lt;/code&gt; /
&lt;code&gt;echo&lt;/code&gt;. stdout vs stderr. Log levels. Debugging logs vs error (panic) logs.
Exceptions, stack traces. ThirdEye / Sentry. Error, warning, info. Logs
collection and aggregation.&lt;/li&gt;
&lt;li&gt;Analytics (more product-based e.g. PM, UX are interested in them) â€” page views
/ hits, number of daily/weekly/monthly active users.&lt;/li&gt;
&lt;li&gt;Metrics. Buckets. Histograms. Counters. Gauges. Number of responses with a
given HTTP status code. Latency in ms. Rates e.g. success / total.&lt;/li&gt;
&lt;li&gt;Alerts. Conditions observed during a certain time window. Surpassed a certain
threshold. Flapping.&lt;/li&gt;
&lt;li&gt;(Distributed) Tracing. Life of a request. Honeycomb. Microservices.0&lt;/li&gt;
&lt;li&gt;Bisection (e.g. &lt;code&gt;git bisect&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;When a bug is found, write a test to prevent it from reoccurring.&lt;/li&gt;
&lt;li&gt;Profiling. Function latency breakdown.&lt;/li&gt;
&lt;li&gt;Metrics correlation.&lt;/li&gt;
&lt;li&gt;Incident lifecycle: detection (alert? customer?) -&amp;gt; triage (P0?) -&amp;gt; mitigation
(CA) -&amp;gt; resolution (PA) -&amp;gt; postmortem / RCA.&lt;/li&gt;
&lt;li&gt;RCAs are only useful if action items are addressed. Prioritization is
important.&lt;/li&gt;
&lt;li&gt;Action items need to be&amp;hellip;actionable! Story-sized, not epic-sized.&lt;/li&gt;
&lt;li&gt;Playbooks (runbooks). Manual! How to address an alert. What to do? What to
look out for?&lt;/li&gt;
&lt;li&gt;Failures: technical (code, infra); observability (gaps, tooling); process
(SOP).&lt;/li&gt;
&lt;li&gt;Golden metrics: latency (overloaded, preempting), traffic (e.g. spikes),
errors (kubectl logs? / loki), saturation (e.g. disk, memory â€” OOM, cpu â€“
thrasing)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: rca"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>cicd</title><link>https://perrotta.dev/2026/01/cicd/</link><pubDate>Tue, 13 Jan 2026 20:46:35 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>coding</category><category>dev</category><guid>https://perrotta.dev/2026/01/cicd/</guid><description>&lt;p&gt;&lt;strong&gt;CI/CD&lt;/strong&gt;: continuous integration / continuous delivery.&lt;/p&gt;
&lt;p&gt;What do we care about?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Velocity / Speed&lt;/strong&gt;: If it takes too long, it adds friction.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Correctness / Safety / Reliability&lt;/strong&gt;: Reduce the blast radius. The pipeline
should be readily available.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Architecture (CI):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Pre-submit checks&lt;/strong&gt;: At Google, TAP Presubmit. In the open, pre-commit.com.
There&amp;rsquo;s also husky (nodejs centric). And you could always use plain old
vanilla &lt;code&gt;.git/hooks&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Post-submit checks&lt;/strong&gt;: At Google, TAP PostSubmit. In the open, nightly cron
jobs (e.g. with github workflows). There needs to be a notification mechanism.
Email, slack, a CD dashboard.&lt;/li&gt;
&lt;li&gt;Test coverage report&lt;/li&gt;
&lt;li&gt;Formatters, linters, style guide&lt;/li&gt;
&lt;li&gt;Analyzers (static &amp;amp; dynamic)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Architecture (CD):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Canary (mitigate risks) â€“ guinea pigs. Smoke testing.&lt;/li&gt;
&lt;li&gt;Gradual rollouts â€“ replace little by little -&amp;gt; rolling update.&lt;/li&gt;
&lt;li&gt;Blue-green deployments â€“ maintain two sets of deployments, switch them
dynamically. Zero-downtime, instant rollback, isolation for testing.&lt;/li&gt;
&lt;li&gt;Feature flags â€“ dynamically toggle code paths on-demand (e.g. launchdarkly.com).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Testing pipeline â€“ Pyramid of testing:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Small, frequent, fast.&lt;/li&gt;
&lt;li&gt;Big, occasional, slow.&lt;/li&gt;
&lt;li&gt;Unit tests (single module) -&amp;gt; integration tests (various modules) -&amp;gt;
end-to-end tests (various parts of the system) -&amp;gt; smoke tests (sanity check).&lt;/li&gt;
&lt;li&gt;Mocks, fakes, stubs.&lt;/li&gt;
&lt;li&gt;RpcReplay (Tin)&lt;/li&gt;
&lt;li&gt;Non-determinism: e.g. time, snynchronization, network, load, race conditions.&lt;/li&gt;
&lt;li&gt;Run tests locally vs in CI. Run tests hermetically, in an isolated fashion.
Chrome for Testing.&lt;/li&gt;
&lt;li&gt;Multiple live environments: dev -&amp;gt; staging -&amp;gt; preprod -&amp;gt; prod, or daily-7,
daily-6, &amp;hellip;, daily-1. Simpler: staging vs prod. Prod should be
access-restricted / gated. Minimize permissions. Principle of least privilege.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Infrastructure as Code (IaC): the best ever!!&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ansible, Chef, Puppet, SaltStack, Pyinfra.&lt;/li&gt;
&lt;li&gt;Terraform, OpenTofu and friends: Pulumi (programming languages instead of HCL
e.g. python, typescript), Terraform CDK.&lt;/li&gt;
&lt;li&gt;Crossplane (Kubernetes IaC).&lt;/li&gt;
&lt;li&gt;Declarative vs Imperative.&lt;/li&gt;
&lt;li&gt;Idempotency.&lt;/li&gt;
&lt;li&gt;In general, make updates via git / gitops, and let the harness apply changes
to the cloud infra. Avoid modifying live servers directly (live patching),
unless during emergencies (oncall -&amp;gt; breakglass mechanisms).&lt;/li&gt;
&lt;li&gt;YAML, HCL, JSON. Gluing configuration languages all over the place.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Migrations of new DB schema without downtime?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Decouple the migration from the code deployment&lt;/li&gt;
&lt;li&gt;Make the DB support both schemas (when possible), add new columns&lt;/li&gt;
&lt;li&gt;Deploy the new code (binary change)&lt;/li&gt;
&lt;li&gt;Deprecate the old schema / column&lt;/li&gt;
&lt;li&gt;Once all replicas are updated, remove the old schema / column&lt;/li&gt;
&lt;li&gt;Backwards compatibility for the win!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Slow build times?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Caching (download of dependencies, generated artifacts, generated layers e.g.
docker images)&lt;/li&gt;
&lt;li&gt;Parallelism â€“ split + kick off multiple builds / tests (e.g. pytest supports
this)&lt;/li&gt;
&lt;li&gt;Incremental builds â€“ e.g. ccache, bazel/blaze, only build the parts of the
graph that have changed&lt;/li&gt;
&lt;li&gt;Only build/test/run modified files -&amp;gt; detect via simple patterns, wildcards&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;When chaos ensues, what do you do?&lt;/p&gt;
&lt;p&gt;Roll back immediately! Fix issues later. Do a postmortem analysis later. Easier
when you have cheap and/or automated rollbacks.&lt;/p&gt;
&lt;p&gt;GitOps: ArgoCD, FluxCD. Operator. Agent continually polls, instead of CI pushing
changes. CI does not need access to prod.&lt;/p&gt;
&lt;p&gt;Hermetic / reproducible builds. Code signing. SBOM.&lt;/p&gt;
&lt;p&gt;DORA metrics / product health: deployment frequency, lead time for changes,
change failure rate, time to restore service.&lt;/p&gt;
&lt;p&gt;How to secure CI/CD? Signed commits. Dependency pinning. Dependency cooldowns.
Dependency scanning (some tools available for that). Beware of supply-chain
attacks! Don&amp;rsquo;t store secrets in the repo. Instead, use an external secrets
manager like AWS&amp;rsquo;s, HashiCorp Vault, etc.&lt;/p&gt;
&lt;p&gt;Flaky tests? Quarantine. Disable. Investigate off-line. Do not ever block the
pipeline! Risks losing confidence there.&lt;/p&gt;
&lt;p&gt;Monorepo or various repos? Various repos: harder to maintain consistency,
enforce patterns. Monorepo: LSCs (large-scale changes). CODEOWNERS.&lt;/p&gt;
&lt;p&gt;Security principles?&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Confidentiality (pssssh!!)&lt;/li&gt;
&lt;li&gt;Integrity (hashes)&lt;/li&gt;
&lt;li&gt;Availability (99.999%&amp;hellip;)&lt;/li&gt;
&lt;li&gt;Authentication (it&amp;rsquo;s me!)&lt;/li&gt;
&lt;li&gt;Authorization (yes, we can!)&lt;/li&gt;
&lt;li&gt;Non-repudiation (can&amp;rsquo;t deny it!)&lt;/li&gt;
&lt;li&gt;Least privilege. Avoid: security through obscurity.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A kubernetes operator is a specialized controller that aims to reconcile state +
extends the base API with its own CRDs (e.g. external secrets, argocd,
prometheus stack). Watch CRDs, implement lifecycle tasks.&lt;/p&gt;
&lt;p&gt;Do not forget hooks! Even Claude Code has them.&lt;/p&gt;
&lt;p&gt;A Softwareâ€¯Billâ€¯ofâ€¯Materials is a structured list that enumerates every
component, library, and dependency that makes up a software product. It provides
provenance and version information for each item, enabling stakeholders to
assess security, licensing, and supplyâ€‘chain risks. Good for CVEs.&lt;/p&gt;
&lt;p&gt;â€” Â§ â€”&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: cicd"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>
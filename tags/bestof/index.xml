<?xml version="1.0" encoding="utf-8" standalone="yes"?><?xml-stylesheet type="text/xsl" href="https://perrotta.dev/rss.xsl"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Bestof on ¬¨ just serendipity üçÄ</title><link>https://perrotta.dev/</link><description>Recent content in Bestof on ¬¨ just serendipity üçÄ</description><generator>Hugo</generator><language>en</language><managingEditor>serendipity@perrotta.dev (Thiago Perrotta)</managingEditor><webMaster>serendipity@perrotta.dev (Thiago Perrotta)</webMaster><copyright>¬© 2013 - 2026 Thiago Perrotta ¬∑
[some rights reserved](https://creativecommons.org/licenses/by-nc-sa/4.0/) ¬∑
a fork of [hugo  ï‚Ä¢·¥•‚Ä¢ î bear](https://github.com/janraasch/hugo-bearblog/)</copyright><lastBuildDate>Wed, 18 Feb 2026 17:49:02 +0100</lastBuildDate><atom:link href="https://perrotta.dev/tags/bestof/index.xml" rel="self" type="application/rss+xml"/><item><title>‚òÖ New APKBUILD: LLM edition</title><link>https://perrotta.dev/2026/02/new-apkbuild-llm-edition/</link><pubDate>Wed, 18 Feb 2026 11:23:05 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>alpine-linux</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/02/new-apkbuild-llm-edition/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: package &lt;a href="http://prek.j178.dev/"&gt;&lt;code&gt;prek&lt;/code&gt;&lt;/a&gt; for &lt;a href="https://alpinelinux.org/"&gt;Alpine
Linux&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;prek&lt;/code&gt; is a modern replacement for &lt;a href="https://pre-commit.com/"&gt;&lt;code&gt;pre-commit&lt;/code&gt;&lt;/a&gt;,
covered (&lt;a href="https://perrotta.dev/tags/pre-commit/"&gt;many times&lt;/a&gt;) in this blog&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://perrotta.dev/2022/01/alpine-linux-new-apkbuild-workflow/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s already a breeze to create &lt;code&gt;APKBUILD&lt;/code&gt;s. I&amp;rsquo;ve been doing so for ages.&lt;/p&gt;
&lt;p&gt;Now, in 2026, with agentic LLMs, it&amp;rsquo;s even more so!&lt;/p&gt;
&lt;p&gt;I can be more useful to the Alpine Linux community by increasing my efficiency
as a package maintainer.&lt;/p&gt;
&lt;p&gt;Yesterday I used &lt;a href="https://ampcode.com"&gt;Amp Free&lt;/a&gt; in &lt;em&gt;smart&lt;/em&gt; mode (Ops 4.6) to
scaffold the &lt;code&gt;APKBUILD&lt;/code&gt; for &lt;code&gt;prek&lt;/code&gt;, using the &lt;a href="https://aur.archlinux.org/packages/prek"&gt;AUR
&lt;code&gt;PKGBUILD&lt;/code&gt;&lt;/a&gt; as a baseline. Prompt:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;write an APKBUILD for prek, inspired by https://aur.archlinux.org/packages/prek

once written, copy it to knol (ssh knol)
aports dir: ~/workspace/aports (in knol)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The result:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Maintainer: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
pkgname=pre
pkgver=0.3.3
pkgrel=0
pkgdesc=&amp;#34;Better pre-commit, re-engineered in Rust&amp;#34;
url=&amp;#34;https://github.com/j178/prek&amp;#34;
arch=&amp;#34;all&amp;#34;
license=&amp;#34;MIT&amp;#34;
makedepends=&amp;#34;cargo cargo-auditable&amp;#34;
subpackages=&amp;#34;
	$pkgname-bash-completion
	$pkgname-fish-completion
	$pkgname-zsh-completion
	$pkgname-doc
	&amp;#34;
source=&amp;#34;$pkgname-$pkgver.tar.gz::https://github.com/j178/prek/archive/v$pkgver.tar.gz&amp;#34;
options=&amp;#34;net&amp;#34; # fetch dependencies

prepare() {
	default_prepare
	cargo fetch --target=&amp;#34;$CTARGET&amp;#34; --locked
}

build() {
	cargo auditable build --release --frozen

	target/release/prek util generate-shell-completion bash &amp;gt; $pkgname.bash
	target/release/prek util generate-shell-completion fish &amp;gt; $pkgname.fish
	target/release/prek util generate-shell-completion zsh &amp;gt; $pkgname.zsh
}

check() {
	cargo test --frozen
	cargo test --frozen -- --skip cache_gc_keeps_local_hook_env --skip cache_gc_removes_unreferenced_entries
}

package() {
	install -Dm755 target/release/$pkgname -t &amp;#34;$pkgdir&amp;#34;/usr/bin/

	install -Dm644 $pkgname.bash &amp;#34;$pkgdir&amp;#34;/usr/share/bash-completion/completions/$pkgname
	install -Dm644 $pkgname.fish &amp;#34;$pkgdir&amp;#34;/usr/share/fish/vendor_completions.d/$pkgname.fish
	install -Dm644 $pkgname.zsh &amp;#34;$pkgdir&amp;#34;/usr/share/zsh/site-functions/_$pkgname

	install -Dm644 LICENSE -t &amp;#34;$pkgdir&amp;#34;/usr/share/licenses/$pkgname/
	install -Dm644 README.md -t &amp;#34;$pkgdir&amp;#34;/usr/share/doc/$pkgname/
}

sha512sums=&amp;#34;
87f5b5905d0c95b7f55a789eb00b463bb987c5fc981d83500f34a41b8e9ea2e4a0ac9d45a0c3a029a7957de33f5ade866c396c399252eb4a7a9e09e32e270b99 prek-0.3.3.tar.gz
&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This was a great initial attempt, but
&lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223891"&gt;tests&lt;/a&gt; failed:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Stopped on the first failure. Run `cargo insta test` to run all snapshots.
thread &amp;#39;cache_gc_removes_unreferenced_entries&amp;#39; (15179) panicked at /builds/thiagowfx/aports/testing/prek/tmp/cargo/registry/src/index.crates.io-1949cf8c6b5b557f/insta-1.46.3/src/runtime.rs:719:13:
snapshot assertion for &amp;#39;cache_gc_removes_unreferenced_entries-2&amp;#39; failed in line 234
failures:
 cache_gc_keeps_local_hook_env
 cache_gc_removes_unreferenced_entries&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;A follow-up edit yielded this diff:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;@@ -30,7 &amp;#43;30,7 @@ build() {
}

check() {
-	cargo test --frozen
&amp;#43;	cargo test --frozen -- --skip cache_gc_keeps_local_hook_env --skip cache_gc_removes_unreferenced_entries
}

package() {&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;but that caused more failures. Then I got interrupted and the night ended.&lt;/p&gt;
&lt;p&gt;Today, I continued with &lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Original prompt to &lt;code&gt;claudey&lt;/code&gt;&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; using Opus 4.6:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;we&amp;rsquo;re packaging prek for alpine linux (APKBUILD)&lt;/p&gt;
&lt;p&gt;we&amp;rsquo;re using &lt;a href="https://aur.archlinux.org/packages/prek"&gt;https://aur.archlinux.org/packages/prek&lt;/a&gt; as reference&lt;/p&gt;
&lt;p&gt;we have access to an alpine system in knol (&lt;code&gt;ssh knol&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;the aports tree lives in ~/workspace/aports in knol&lt;/p&gt;
&lt;p&gt;we&amp;rsquo;re already in the right branch, the prek APKBUILD lives in testing/prek within knol&lt;/p&gt;
&lt;p&gt;the problem is that the test is failing in our MR pipeline: &lt;a href="https://gitlab.alpinelinux.org/alpine/aports/-/merge_requests/97666"&gt;https://gitlab.alpinelinux.org/alpine/aports/-/merge_requests/97666&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;sample job: &lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963"&gt;https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963&lt;/a&gt; (raw log: &lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963/raw"&gt;https://gitlab.alpinelinux.org/thiagowfx/aports/-/jobs/2223963/raw&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;fix the APKBUILD!&lt;/p&gt;
&lt;p&gt;I think it&amp;rsquo;s a missing checkdep&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;A couple of burned tokens later:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;APKBUILD updated. Here&amp;rsquo;s what changed:&lt;/p&gt;
&lt;p&gt;Added checkdepends=&amp;ldquo;bash python3&amp;rdquo;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;python3 ‚Äî prek&amp;rsquo;s pygrep language handler uses uv to find a Python
interpreter. Without system Python, uv python find fails, causing all 11
pygrep tests to fail. Also needed for the windows_script_run test which uses
a #!/usr/bin/env python3 shebang.&lt;/li&gt;
&lt;li&gt;bash ‚Äî the script tests use #!/usr/bin/env bash shebangs, and Alpine doesn&amp;rsquo;t
ship bash by default (only busybox ash).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Added &amp;ndash;skip for language integration tests needing unavailable runtimes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;docker ‚Äî needs Docker daemon (also covers docker_image via substring match)&lt;/li&gt;
&lt;li&gt;julia ‚Äî Julia not available in Alpine&lt;/li&gt;
&lt;li&gt;lua:: ‚Äî Lua interpreter not available&lt;/li&gt;
&lt;li&gt;haskell ‚Äî GHC/cabal not available&lt;/li&gt;
&lt;li&gt;node:: ‚Äî Node.js/npm not available&lt;/li&gt;
&lt;li&gt;ruby:: ‚Äî Ruby not available&lt;/li&gt;
&lt;li&gt;rust:: ‚Äî Rust toolchain tests (rustup) not available&lt;/li&gt;
&lt;li&gt;swift:: ‚Äî Swift not available&lt;/li&gt;
&lt;li&gt;bun:: ‚Äî Bun not available&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The unit tests (282) plus other integration suites (auto_update,
builtin_hooks, cache, hook_impl, identify, install) still run fully. You can
commit and push to re-trigger the pipeline.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That&amp;rsquo;s spot on. Here&amp;rsquo;s the diff:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;üßô thiago@knol ~/workspace/aports/testing/prek git:prek
‚ùØ git --no-pager show
commit 8f702c5f1ee1b6d153a4f957c309f2badd452d31 (HEAD -&amp;gt; prek)
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Wed Feb 18 05:30:14 2026 -0500

 skip language integration tests

diff --git testing/prek/APKBUILD testing/prek/APKBUILD
index 5e134457bc..d6080fa977 100644
--- testing/prek/APKBUILD
&amp;#43;&amp;#43;&amp;#43; testing/prek/APKBUILD
@@ -7,6 &amp;#43;7,7 @@ url=&amp;#34;https://github.com/j178/prek&amp;#34;
 arch=&amp;#34;all&amp;#34;
 license=&amp;#34;MIT&amp;#34;
 makedepends=&amp;#34;cargo cargo-auditable&amp;#34;
&amp;#43;checkdepends=&amp;#34;bash python3&amp;#34;
 subpackages=&amp;#34;
 	$pkgname-bash-completion
 	$pkgname-fish-completion
@@ -30,7 &amp;#43;31,18 @@ build() {
 }

 check() {
-	cargo test --frozen -- --skip cache_gc_keeps_local_hook_env --skip cache_gc_removes_unreferenced_entries
&amp;#43;	cargo test --frozen -- \
&amp;#43;		--skip cache_gc_keeps_local_hook_env \
&amp;#43;		--skip cache_gc_removes_unreferenced_entries \
&amp;#43;		--skip &amp;#34;docker&amp;#34; \
&amp;#43;		--skip &amp;#34;julia&amp;#34; \
&amp;#43;		--skip &amp;#34;lua::&amp;#34; \
&amp;#43;		--skip &amp;#34;haskell&amp;#34; \
&amp;#43;		--skip &amp;#34;node::&amp;#34; \
&amp;#43;		--skip &amp;#34;ruby::&amp;#34; \
&amp;#43;		--skip &amp;#34;rust::&amp;#34; \
&amp;#43;		--skip &amp;#34;swift::&amp;#34; \
&amp;#43;		--skip &amp;#34;bun::&amp;#34;
 }

 package() {&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I had to continue with a few more follow-ups though. Eventually, that led to
Merge Request (MR)
&lt;a href="https://gitlab.alpinelinux.org/alpine/aports/-/merge_requests/97666"&gt;!97666&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Maintainer: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
pkgname=prek
pkgver=0.3.3
pkgrel=0
pkgdesc=&amp;#34;Better pre-commit, re-engineered in Rust&amp;#34;
url=&amp;#34;https://github.com/j178/prek&amp;#34;
arch=&amp;#34;all&amp;#34;
license=&amp;#34;MIT&amp;#34;
makedepends=&amp;#34;cargo cargo-auditable&amp;#34;
subpackages=&amp;#34;
	$pkgname-bash-completion
	$pkgname-fish-completion
	$pkgname-zsh-completion
	$pkgname-doc
	&amp;#34;
source=&amp;#34;$pkgname-$pkgver.tar.gz::https://github.com/j178/prek/archive/v$pkgver.tar.gz&amp;#34;
options=&amp;#34;net&amp;#34; # fetch dependencies

prepare() {
	default_prepare
	cargo fetch --target=&amp;#34;$CTARGET&amp;#34; --locked
}

build() {
	cargo auditable build --release --frozen

	target/release/prek util generate-shell-completion bash &amp;gt; $pkgname.bash
	target/release/prek util generate-shell-completion fish &amp;gt; $pkgname.fish
	target/release/prek util generate-shell-completion zsh &amp;gt; $pkgname.zsh
}

check() {
	cargo test --frozen --lib
}

package() {
	install -Dm755 target/release/$pkgname -t &amp;#34;$pkgdir&amp;#34;/usr/bin/

	install -Dm644 $pkgname.bash &amp;#34;$pkgdir&amp;#34;/usr/share/bash-completion/completions/$pkgname
	install -Dm644 $pkgname.fish &amp;#34;$pkgdir&amp;#34;/usr/share/fish/vendor_completions.d/$pkgname.fish
	install -Dm644 $pkgname.zsh &amp;#34;$pkgdir&amp;#34;/usr/share/zsh/site-functions/_$pkgname

	install -Dm644 LICENSE -t &amp;#34;$pkgdir&amp;#34;/usr/share/licenses/$pkgname/
	install -Dm644 README.md -t &amp;#34;$pkgdir&amp;#34;/usr/share/doc/$pkgname/
}

sha512sums=&amp;#34;
87f5b5905d0c95b7f55a789eb00b463bb987c5fc981d83500f34a41b8e9ea2e4a0ac9d45a0c3a029a7957de33f5ade866c396c399252eb4a7a9e09e32e270b99 prek-0.3.3.tar.gz
&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;wherein &lt;a href="https://gitlab.alpinelinux.org/thiagowfx/aports/-/pipelines/407211"&gt;all tests
pass&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I can&amp;rsquo;t compile &lt;code&gt;prek&lt;/code&gt; on my little alpine linux VPS (1GB RAM). Apparently Rust
is a monster that requires a lot of RAM for compiling and linking software with
hundreds of dependencies.&lt;/p&gt;
&lt;p&gt;I tested it by grabbing the built &lt;code&gt;.apk&lt;/code&gt; package from the GitLab pipeline from
my MR:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;‚è∫ x86_64 passed. Let&amp;#39;s grab the artifact and install it:

‚è∫ Bash(ssh knol &amp;#34;curl -L -o /tmp/prek-x86_64.zip
 &amp;#39;https://gitlab.alpinelinux.org/api/v4/projects/3998/jobs/2224483/artifacts&amp;#39; &amp;amp;&amp;amp; cd /tmp &amp;amp;&amp;amp; unzip -o
 prek-x86_64.zip &amp;amp;&amp;amp;‚Ä¶)
 ‚éø % Total % Received % Xferd Average Speed Time Time Time Current
 Dload Upload Total Spent Left Speed
 0 0 0 0 0 0 0 0 0100 3.51M 100 3.
 ‚Ä¶ &amp;#43;19 lines (ctrl&amp;#43;o to expand)

‚è∫ Bash(ssh knol &amp;#34;sudo apk add --allow-untrusted /tmp/packages/testing/x86_64/prek-0.3.3-r0.apk &amp;amp;&amp;amp; prek
 --version&amp;#34;)
 ‚éø (1/1) Installing prek (0.3.3-r0)
 Executing busybox-1.37.0-r31.trigger
 OK: 1257.5 MiB in 579 packages
 prek 0.3.3

‚è∫ Installed and working. prek 0.3.3 on knol. All 8 completed architectures passed (riscv64 is still
 building).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The LLM tries to use &lt;code&gt;sudo&lt;/code&gt; instead of &lt;code&gt;doas&lt;/code&gt;, which is not correct on Alpine
Linux.&lt;/p&gt;
&lt;p&gt;It works anyway because I have the &lt;a href="https://pkgs.alpinelinux.org/package/edge/main/x86_64/doas-sudo-shim"&gt;&lt;code&gt;doas-sudo-shim&lt;/code&gt;&lt;/a&gt; package installed:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% sudo -h
Usage:
 sudo (-i | -s) [-n] [-u &amp;lt;user&amp;gt;] [&amp;lt;command&amp;gt; [--] [&amp;lt;args&amp;gt;...]]
 sudo [-ins] [-u &amp;lt;user&amp;gt;] &amp;lt;command&amp;gt; [--] [&amp;lt;args&amp;gt;...]
 sudo [-h]

Execute a command as another user using doas(1).

This is not the original sudo, but the doas shim for sudo. It supports only
a subset of the sudo options (both short and long) that have an equivalent in
doas, plus option -i (--login). Refer to sudo(1) for more information.

If you need some sudo features that are not supported in doas, replace
package &amp;#39;doas-sudo-shim&amp;#39; with &amp;#39;sudo&amp;#39;: apk add sudo !doas-sudo-shim.

Please report bugs at &amp;lt;https://github.com/jirutka/doas-sudo-shim/issues&amp;gt;.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Expect a post about &lt;code&gt;prek&lt;/code&gt; soon.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;&lt;code&gt;alias claudey=claude --dangerously-skip-permissions&lt;/code&gt;, with no annoying
confirmation prompts&amp;#160;&lt;a href="https://perrotta.dev/2026/02/new-apkbuild-llm-edition/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: New APKBUILD: LLM edition"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ web radio player</title><link>https://perrotta.dev/2026/02/web-radio-player/</link><pubDate>Mon, 16 Feb 2026 16:53:36 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2026/02/web-radio-player/</guid><description>&lt;p&gt;I have a &lt;a href="https://github.com/thiagowfx/pancake/tree/master/radio"&gt;&lt;code&gt;radio&lt;/code&gt;&lt;/a&gt; shell
script in &lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt; (=miscellaneous unix
scripts) that streams curated (and free) internet radio stations via &lt;code&gt;mpv&lt;/code&gt;. It
works great from the &lt;a href="https://perrotta.dev/2025/11/radio/"&gt;terminal&lt;/a&gt;, but I wanted to
go one step further and make it available from a web browser as well.&lt;/p&gt;
&lt;p&gt;The script supports:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;playing a specific station,&lt;/li&gt;
&lt;li&gt;picking a random one,&lt;/li&gt;
&lt;li&gt;burst mode (multiple simultaneous streams), and&lt;/li&gt;
&lt;li&gt;listing what&amp;rsquo;s currently running&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All of these map well to a web browser UI.&lt;/p&gt;
&lt;p&gt;Fast-forward&amp;hellip; (pun intended)&lt;/p&gt;
&lt;h2 id="gimme-radio"&gt;Gimme radio&lt;/h2&gt;
&lt;p&gt;I added a &lt;a href="https://perrotta.dev/radio/"&gt;&lt;code&gt;/radio/&lt;/code&gt;&lt;/a&gt; page to this blog. It&amp;rsquo;s a single Hugo
layout with inline CSS and JS, following the same pattern as the &lt;a href="https://perrotta.dev/graph/"&gt;graph&lt;/a&gt; page&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;The core is simple (and effective!) ‚Äî a (hash) &lt;code&gt;Map&lt;/code&gt; of station IDs to &lt;code&gt;Audio&lt;/code&gt;
objects:&lt;/p&gt;
&lt;div class="codeblock" data-lang="javascript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;javascript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-javascript"&gt;const playing = new Map();

function play(id) {
 if (playing.has(id)) return;
 const s = getStation(id);
 const audio = new Audio(s.url);
 audio.volume = volume;
 audio.play().catch((e) =&amp;gt; {
 console.warn(&amp;#39;Failed to play &amp;#39; &amp;#43; s.name &amp;#43; &amp;#39;:&amp;#39;, e.message);
 });
 playing.set(id, audio);
 updateUI();
}

function stop(id) {
 const audio = playing.get(id);
 if (!audio) return;
 audio.pause();
 audio.src = &amp;#39;&amp;#39;;
 playing.delete(id);
 updateUI();
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Setting &lt;code&gt;audio.src = ''&lt;/code&gt; after pausing is important ‚Äî without it, the browser
keeps the HTTPS connection open to the stream server.&lt;/p&gt;
&lt;h2 id="burst-mode"&gt;Burst mode&lt;/h2&gt;
&lt;p&gt;The shell script has a &lt;code&gt;--burst&lt;/code&gt; flag that launches &lt;code&gt;N&lt;/code&gt; random stations
simultaneously. The browser version does the same (well, it&amp;rsquo;s hard-coded to 3
stations):&lt;/p&gt;
&lt;div class="codeblock" data-lang="javascript"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;javascript&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-javascript"&gt;function playBurst() {
 stopAll();
 const indices = [];
 while (indices.length &amp;lt; 3 &amp;amp;&amp;amp; indices.length &amp;lt; stations.length) {
 const idx = Math.floor(Math.random() * stations.length);
 if (indices.indexOf(idx) === -1) indices.push(idx);
 }
 indices.forEach((i) =&amp;gt; play(stations[i].id));
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Multiple &lt;code&gt;Audio&lt;/code&gt; objects play concurrently with no issues. The volume slider
applies to all of them.&lt;/p&gt;
&lt;h2 id="stations"&gt;Stations&lt;/h2&gt;
&lt;p&gt;Most stations are from &lt;a href="https://somafm.com/"&gt;SomaFM&lt;/a&gt;, a listener-supported
internet radio service. They have a &lt;a href="https://somafm.com/linktous/"&gt;clear policy&lt;/a&gt;
for third-party players: display the station name and link back. Each card links
to its station homepage.&lt;/p&gt;
&lt;p&gt;I dropped two stations from the original script:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;HBR1 Trance and a rain sounds stream from TorontoCast. HBR1 only serves over
&lt;code&gt;http://&lt;/code&gt;, which browsers block as mixed content on HTTPS sites.&lt;/li&gt;
&lt;li&gt;TorontoCast&amp;rsquo;s terms explicitly prohibit embedding streams in third-party
players.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="implementation"&gt;Implementation&lt;/h2&gt;
&lt;p&gt;The UI is a CSS grid of clickable cards with a controls bar (Random, Burst, Stop
All, volume). Playing stations get a highlighted border and a pulsing dot
indicator that respects &lt;code&gt;prefers-reduced-motion&lt;/code&gt;. The whole thing uses the
blog&amp;rsquo;s existing CSS variables so it works in both light and dark mode,
integrating awesomely with its catppuccin theme.&lt;/p&gt;
&lt;p&gt;The page: &lt;a href="https://perrotta.dev/radio/"&gt;&lt;code&gt;/radio/&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;And here&amp;rsquo;s a screenshot (light theme)&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/web-radio-player/radio.png" alt="web radio player"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;p&gt;Why is this post tagged with &lt;a href="https://perrotta.dev/tags/ai/"&gt;ai&lt;/a&gt;? The radio page
was vibe-coded.&lt;/p&gt;
&lt;p&gt;Suggestions to add more web radios to that page will be welcome.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Is this the future? Various little web apps in this site?&amp;#160;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Taken with &lt;a href="https://playwright.dev/"&gt;playwright&lt;/a&gt; via Claude Code. How
cool!&amp;#160;&lt;a href="https://perrotta.dev/2026/02/web-radio-player/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: web radio player"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ new blog post via Claude Code</title><link>https://perrotta.dev/2026/02/new-blog-post-via-claude-code/</link><pubDate>Fri, 13 Feb 2026 21:54:26 +0000</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>meta</category><category>selfhosted</category><guid>https://perrotta.dev/2026/02/new-blog-post-via-claude-code/</guid><description>&lt;p&gt;It&amp;rsquo;s 2026. Blogging to my static website from a laptop, with vim and markdown, with hugo build and git commit / git push is old-school.&lt;/p&gt;
&lt;p&gt;I can instead create blog posts via the &lt;a href="https://docs.anthropic.com/en/docs/claude-code"&gt;Claude Code&lt;/a&gt; app. It already has access to my git repository. It knows how to clone it, commit to it, test it (when needed) and push it to GitHub.&lt;/p&gt;
&lt;p&gt;If you can read this, it means this experiment worked flawlessly.&lt;/p&gt;
&lt;p&gt;And, you see, everything is still my own text, my own words. The LLM is not writing the prose. It&amp;rsquo;s merely orchestrating the act of publishing it.&lt;/p&gt;
&lt;p&gt;Will this lower my barrier to blogging more often?&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: new blog post via Claude Code"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/selfhosted/"&gt;#selfhosted&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude Code: /insights</title><link>https://perrotta.dev/2026/02/claude-code-/insights/</link><pubDate>Sun, 08 Feb 2026 15:33:50 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/02/claude-code-/insights/</guid><description>&lt;p&gt;&lt;a href="https://aiengineerguide.com/blog/claude-code-insights-command/"&gt;TIL&lt;/a&gt; via Ashik
Nesin:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Claude Code now has support for /insights commands.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;When you run it, Claude Code will read your message history from the past
month. It&amp;rsquo;ll summarize your projects, how you use Claude Code, and give
suggestions on how to improve your workflow.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Let&amp;rsquo;s try it:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt; ‚ñê‚ñõ‚ñà‚ñà‚ñà‚ñú‚ñå Claude Code v2.1.37
‚ñù‚ñú‚ñà‚ñà‚ñà‚ñà‚ñà‚ñõ‚ñò Opus 4.6 ¬∑ Claude Team
 ‚ñò‚ñò ‚ñù‚ñù ~/Workspace/perrotta.dev

‚ùØ /usage
 ‚éø Status dialog dismissed

‚ùØ /insights

‚è∫ Your shareable insights report is ready:
 file:///Users/thiago.perrotta/.claude/usage-data/report.html

 Want to dig into any section or try one of the suggestions?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The generated report is a single self-contained HTML file.&lt;/p&gt;
&lt;p&gt;The report is more useful than I anticipated! It&amp;rsquo;s definitely better than
&lt;code&gt;/stats&lt;/code&gt;: it contains actionable and concrete tips and suggestions to improve
your workflow.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ll share a snippet of it:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;How You Use Claude Code You are a prolific, infrastructure-focused power user
who drives Claude Code hard across a wide surface area ‚Äî 325 sessions, 809
hours, and 456 commits over roughly 7 weeks. Your workflow centers on
Terraform infrastructure management, Hugo blog optimization, and DevOps
tooling (ArgoCD, pre-commit hooks, CI pipelines). You lean heavily on Bash
(6,780 invocations) as your primary tool, reflecting a hands-on operator style
where you want Claude executing real commands and seeing real output rather
than just generating files. Your use of TodoWrite (411 calls) and Task (124
calls) suggests you frequently tackle complex, multi-step projects ‚Äî like
importing existing AWS infrastructure into Terraform or implementing 8+
performance improvements for your Hugo blog ‚Äî where structured planning is
essential. You consistently push for clean git hygiene: granular commits, PRs,
and proper branch workflows.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Your interaction style is best described as iterative refinement with active
course correction. You don&amp;rsquo;t write exhaustive specs upfront; instead, you give
Claude a clear goal and then steer as it executes. This shows up repeatedly:
you interrupted Claude when it assumed a full 1Password migration (&amp;ldquo;only where
applicable&amp;rdquo;), caught it when it reverted a change you only asked about
(&amp;ldquo;revert. I just asked why&amp;rdquo;), pushed back on CSS inlining that would lose
fingerprinting benefits, and redirected heading placement from shortcode
templates to markdown files. Your friction data tells a consistent story ‚Äî 24
instances of wrong approach and 24 of buggy code ‚Äî but these rarely derail you
because you catch problems quickly and redirect. You&amp;rsquo;re comfortable letting
Claude run on multi-file changes (18 successful multi-file operations) but you
interrupt decisively when the approach is wrong, such as stopping a file write
to ask about pre-commit integration instead, or killing a premature commit
attempt.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;What&amp;rsquo;s striking is your high tolerance for iteration paired with low tolerance
for sloppiness. Terraform import sessions required multiple rounds of fixing
IDs, resource addresses, and provider syntax ‚Äî and you stuck with it. But you
also demanded succinct responses, rejected a poor-quality fullscreen feature
outright, and expected Claude to understand nuances like provider read-only
attributes before making sweeping changes. Your 94% achievement rate (32 fully + 15 mostly out of 50) despite working on genuinely hard infrastructure
problems shows that this iterative, correction-heavy style works well for you.
You treat Claude as a capable but supervision-required junior engineer ‚Äî you
trust it to do the legwork but always review the output critically before
committing.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Key pattern: You operate as an active supervisor who assigns complex
infrastructure tasks, lets Claude execute broadly, but intervenes decisively
and frequently to correct approach, scope, and quality ‚Äî treating the tool as
a capable junior engineer that needs real-time steering.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;Across 325 sessions and 809 hours, you&amp;rsquo;ve built a highly productive Claude
Code workflow centered on infrastructure-as-code, Hugo blog optimization, and
developer tooling ‚Äî with a 94% goal achievement rate.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;ve developed a sophisticated pattern for standing up new Terraform
projects by importing existing AWS and MongoDB Atlas infrastructure, working
through complex import ID formats and provider quirks across multiple garden
environments. Your approach of creating files, running plans, and iteratively
fixing mismatches shows deep Terraform expertise, and you consistently push
through to clean PRs even when provider limitations surface. The breadth of
this work ‚Äî EKS clusters, security groups, MongoDB Atlas modules, Azure OIDC ‚Äî
demonstrates you&amp;rsquo;re using Claude as a true infrastructure engineering partner.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You systematically drove your Hugo blog toward Lighthouse 100 scores through a
multi-session campaign covering CSS inlining, critical request chain
elimination, SRI hashes, code block enhancements, and RSS feed fixes. You
maintained high standards by pushing back when Claude&amp;rsquo;s suggestions sacrificed
cache fingerprinting or batched too aggressively, ensuring each optimization
was production-sound. The fact that you also created ADRs documenting your
architectural decisions around search and caching shows you treat your
personal blog with the same rigor as production infrastructure.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;You&amp;rsquo;ve built a remarkably robust developer experience layer using pre-commit
hooks, Claude Code settings files, and automation scripts ‚Äî from custom
code-block linting parsers to Justfile safety guards that prevent direct
module applies. You research hooks from other major projects like Airflow to
cherry-pick the best ones, and you iterate on implementations until they&amp;rsquo;re
correct (like replacing a regex-based checker with a proper line-by-line
parser after false positives). Your Claude Code settings PR for your Terraform
repo, with carefully curated allow/deny/ask permission lists, shows you&amp;rsquo;re
intentionally shaping how AI tools interact with your codebase.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There&amp;rsquo;s much more to it. I am not sharing actionable suggestions at this time.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s also negative feedback! And suggestions to improve / augment
&lt;code&gt;CLAUDE.md&lt;/code&gt;! &amp;ldquo;New Ways to Use Claude Code&amp;rdquo;!&lt;/p&gt;
&lt;p&gt;I love it. And I definitely need to switch my workflow to writing specs upfront,
though I can&amp;rsquo;t resist an iterative and incremental work style to achieve desired
outcomes ü§î.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: /insights"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Making a slides presentation in 2026</title><link>https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/</link><pubDate>Sat, 07 Feb 2026 18:40:50 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2026/02/making-a-slides-presentation-in-2026/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: make a &lt;em&gt;slides&lt;/em&gt; presentation for a certain business or
academic use case.&lt;/p&gt;
&lt;h2 id="part-i-what"&gt;Part I: What?&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Classic approach&lt;/strong&gt;: pick one of: LibreOffice, Microsoft PowerPoint, Google
Slides.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Hipster approach&lt;/strong&gt;: pick one of: Notion, &lt;a href="https://revealjs.com/"&gt;Reveal.JS&lt;/a&gt;
(or similar), &lt;a href="https://pkg.go.dev/golang.org/x/tools/present"&gt;Golang present&lt;/a&gt;,
&lt;a href="https://prezi.com/"&gt;Prezi&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Academic approach&lt;/strong&gt;: &lt;a href="https://www.overleaf.com/learn/latex/Beamer"&gt;LaTeX
beamer&lt;/a&gt;,
&lt;a href="https://www.lyx.org/"&gt;LyX&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Minimalist approach&lt;/strong&gt;: &lt;a href="https://orgmode.org/worg/org-tutorials/non-beamer-presentations.html"&gt;Emacs Org
mode&lt;/a&gt;,
&lt;a href="https://github.com/sotte/presenting.vim"&gt;Terminal&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Of course, I am pioneering ‚Äì by choosing none of the above!&lt;/p&gt;
&lt;p&gt;We&amp;rsquo;ll settle with &lt;a href="https://typst.app/"&gt;Typst&lt;/a&gt; +
&lt;a href="https://polylux.dev/book/"&gt;Polylux&lt;/a&gt;, because we want best-in-class‚Ñ¢
presentations:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Polylux is a package for the typesetting system Typst to create presentation
slides, just like you would use the beamer package in LaTeX. (So far, it is
much less advanced than beamer, obviously.)&lt;/p&gt;
&lt;p&gt;If you haven&amp;rsquo;t heard of things like LaTeX&amp;rsquo;s beamer before, here is how this
works: As a rule of thumb, one slide becomes one PDF page, and most PDF
viewers can display PDFs in the form of a slide show (usually by hitting the
F5-key).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;But first, a bit of trivia:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Why the name?&lt;/p&gt;
&lt;p&gt;A polylux is a brand of overhead projectors very common in Eastern German
schools (where the main author of this package grew up). It fulfils a similar
function to a projector, namely projecting visuals to a wall to aid a
presentation. The German term for projector is beamer, and now you might
understand how it all comes together. (The original author of the
aforementioned LaTeX package is German as well.)&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;Germans, Germans everywhere&lt;/em&gt; {picture the Buzz Lightyear meme here}&lt;/p&gt;
&lt;h2 id="part-ii-you-are-pretty-and-you-know-it"&gt;Part II: You are pretty and you know it&lt;/h2&gt;
&lt;p&gt;I am not using the default theme. Sorry, that&amp;rsquo;s just not gonna happen.&lt;/p&gt;
&lt;p&gt;Built-in
&lt;a href="https://deic.uab.cat/~iblanes/beamer_gallery/index_by_theme.html"&gt;beamer&lt;/a&gt;
&lt;a href="https://www.overleaf.com/learn/latex/Beamer"&gt;themes&lt;/a&gt; inspire me. I choose
&lt;a href="https://typst.app/universe/package/metropolis-polylux/"&gt;metropolis&lt;/a&gt;, with a few
bits of &lt;a href="https://deic.uab.cat/~iblanes/beamer_gallery/large/Frankfurt-default-default-12.png"&gt;beamer
frankfurt&lt;/a&gt;
sprinkled in (mainly the top navigation guides).&lt;/p&gt;
&lt;p&gt;Such a short section, so cute! ‚ú®&lt;/p&gt;
&lt;h2 id="part-iii-how"&gt;Part III: How?&lt;/h2&gt;
&lt;p&gt;It&amp;rsquo;s 2026. Agentic LLMs are all the rage.&lt;/p&gt;
&lt;p&gt;Obviously, we&amp;rsquo;re going to use &lt;a href="https://code.claude.com/docs/en/overview"&gt;Claude
Code&lt;/a&gt;. It&amp;rsquo;s the obvious choice.
&lt;a href="https://acecombat.fandom.com/wiki/Loading_quotes"&gt;Nothing else comes close&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;OK, I&amp;rsquo;ll also give you a break if you use OpenAI, it comes in a close second. No
other choice is possible. Not if you want to become state-of-the-art. Sorry.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.goodreads.com/book/show/6667514-the-checklist-manifesto"&gt;Checklist&lt;/a&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;have claude code installed? Check&lt;/li&gt;
&lt;li&gt;have enough, readily available tokens to burn? Check&lt;/li&gt;
&lt;li&gt;have a &lt;a href="https://perrotta.dev/2025/12/try/"&gt;workspace&lt;/a&gt; ready? Check&lt;/li&gt;
&lt;li&gt;have &lt;code&gt;git init&lt;/code&gt; run in the workspace? Check&lt;/li&gt;
&lt;li&gt;have two claude code sessions open, one for content and one for form? Check&lt;/li&gt;
&lt;li&gt;have a &lt;code&gt;Justfile&lt;/code&gt; ready? Check&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock" data-lang="make"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;Justfile&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;make&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-make"&gt;watch:
 typst watch slides.typ&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="part-iv-the-future-starts-with-you"&gt;Part IV: &lt;a href="https://www.youtube.com/watch?v=XJIgHWnkcnA"&gt;The Future Starts With You&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;Good luck out there!&lt;/p&gt;
&lt;p&gt;Iterate.
Tell the LLM what you want.
Be verbose in your prompting.
Course-correct as needed.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s no right or wrong from here.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=ZXsQAXx_ao0"&gt;&lt;strong&gt;Just do it&lt;/strong&gt;&lt;/a&gt;!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Making a slides presentation in 2026"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Open Source security in spite of AI</title><link>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</link><pubDate>Sat, 07 Feb 2026 11:12:24 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>fosdem</category><category>meta</category><category>posse</category><category>security</category><category>serenity</category><guid>https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/</guid><description>&lt;p&gt;&lt;a href="https://daniel.haxx.se/blog/2026/02/03/open-source-security-in-spite-of-ai/"&gt;Open Source security in spite of
AI&lt;/a&gt;
by &lt;a href="https://daniel.haxx.se/blog/"&gt;Daniel Stenberg&lt;/a&gt;&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; (of &lt;em&gt;curl&lt;/em&gt; fame):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The title of my ending keynote at FOSDEM February 1, 2026.&lt;/p&gt;
&lt;p&gt;As the last talk of the conference, at 17:00 on the Sunday lots of people had
already left, and presumably a lot of the remaining people were quite tired
and ready to call it a day.&lt;/p&gt;
&lt;p&gt;Still, the 1500 seats in Janson got occupied and there was even a group of
more people outside wanting to get in that had to be refused entry.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They say: &lt;a href="https://en.wiktionary.org/wiki/never_meet_your_heroes"&gt;&amp;ldquo;never meet your
heroes&amp;rdquo;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It is unwise to seek personal acquaintance with people whom one has regarded
with high esteem, as they often fail to fulfill one&amp;rsquo;s expectations, resulting
in disappointment&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I had the opportunity to meet Daniel in person and I&amp;rsquo;m glad to state that I am
not disappointed.&lt;/p&gt;
&lt;p&gt;I was the volunteer who held the Q&amp;amp;A at the end for his talk, and that was a
pleasure.&lt;/p&gt;
&lt;p&gt;In my opinion, this was the best talk from FOSDEM 2026.&lt;/p&gt;
&lt;p&gt;&lt;img src="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/open-source-security-in-spite-of-ai-daniel-stenberg.webp" alt="Open Source security in spite of AI ‚Äî Daniel Stenberg"
 loading="lazy" decoding="async" /&gt;
&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;a href="https://www.youtube.com/watch?v=6wYSwZ20NJU"&gt;Recording&lt;/a&gt;.
&lt;a href="https://daniel.haxx.se/media/FOSDEM%202026%20OSS%20security%20in%20spite%20of%20AI.pdf"&gt;Slides&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/02/open-source-security-in-spite-of-ai/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Open Source security in spite of AI"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/fosdem/"&gt;#fosdem&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/posse/"&gt;#posse&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Bravery</title><link>https://perrotta.dev/2026/02/bravery/</link><pubDate>Wed, 04 Feb 2026 23:31:57 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>commentary</category><category>bestof</category><category>movies</category><category>serenity</category><guid>https://perrotta.dev/2026/02/bravery/</guid><description>&lt;p&gt;After reading the book &lt;a href="https://www.goodreads.com/book/show/6404803-highest-duty"&gt;Highest Duty: My Search for What Really
Matters&lt;/a&gt; by Chesley
&amp;ldquo;Sully&amp;rdquo; B. Sullenberger III, to which I gave &lt;strong&gt;5 stars&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Now a major motion picture from Clint Eastwood, starring Tom Hanks ‚Äî the
inspirational autobiography by one of the most captivating American heroes of
our time, Capt. &amp;lsquo;Sully&amp;rsquo; Sullenberger ‚Äî the pilot who miraculously landed a
crippled US Airways Flight 1549 in New York&amp;rsquo;s Hudson River, saving the lives
of all 155 passengers and crew.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip;I finally had the opportunity to listen to the cockpit
&lt;a href="https://www.youtube.com/watch?v=MSPsrhCPt-0"&gt;recording&lt;/a&gt;
(&lt;a href="https://www.youtube.com/watch?v=umEX9qzrnJw"&gt;alt&lt;/a&gt;) of the US Airways 1549
flight ordeal.&lt;/p&gt;
&lt;p&gt;Goodness, I have no words to describe how amazing and miraculous everything was!
It feels shocking and unlikely, because it is. And yet, after reading the book,
after learning about Capt. Sully&amp;rsquo;s upbringing, perspective / viewpoint,
experience and, most importantly, his skill set and aptitude, it&amp;rsquo;s simply
magical: everything makes sense, all pieces just fit, wisdom flows.&lt;/p&gt;
&lt;p&gt;I find this story deeply inspiring.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s a &lt;a href="https://www.imdb.com/title/tt3263904/"&gt;movie&lt;/a&gt; (2016) about it as
well, starring Tom Hanks. I am looking forward to watching it.
I find that watching a movie is way more enjoyable after reading its
corresponding book.&lt;/p&gt;
&lt;p&gt;Here is &lt;a href="https://www.youtube.com/watch?v=w6EblErBJqw"&gt;an interview&lt;/a&gt; with Captain
Sully.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Bravery"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/movies/"&gt;#movies&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ 500 days of Summer (2009)</title><link>https://perrotta.dev/2026/01/500-days-of-summer-2009/</link><pubDate>Tue, 27 Jan 2026 00:49:32 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>movies</category><category>serenity</category><guid>https://perrotta.dev/2026/01/500-days-of-summer-2009/</guid><description>&lt;p&gt;Recently I had to opportunity to watch &lt;a href="https://www.imdb.com/title/tt1022603/"&gt;this classic&lt;/a&gt; during a flight.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s such a great movie&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;!-- from IMDB --&gt;
&lt;p&gt;
 &lt;img src="https://m.media-amazon.com/images/M/MV5BMTk5MjM4OTU1OV5BMl5BanBnXkFtZTcwODkzNDIzMw@@._V1_FMjpg_UX400_.jpg" alt="cover"&gt;
&lt;/p&gt;
&lt;p&gt;It was the second time I watched it. The first one was during my teenage years,
probably around 15-16.&lt;/p&gt;
&lt;p&gt;Many years later, with a few bits of wisdom and experience by the means of
romances, heartbreaks, and situationships, it feels so natural (and perhaps
dangerously familiar) to empathize with both protagonists.&lt;/p&gt;
&lt;p&gt;In the old days I could only empathize with Tom (&lt;em&gt;Joseph Gordon-Levitt&lt;/em&gt;). I&amp;rsquo;d
get frustrated at Summer (&lt;em&gt;Zooey Deschanel&lt;/em&gt;). Like, why, just whyyyyy do you act
like this?&lt;/p&gt;
&lt;p&gt;Today, suddenly, Summer&amp;rsquo;s perspective totally resonates with me. Even though it
is seemingly irrational (&lt;em&gt;you don&amp;rsquo;t want a boyfriend, but then all of a sudden
you marry someone else right after breaking up with me? WTH?!&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;And the most interesting part, perhaps, is to reach the conclusion that there is
no ultimate right or wrong side. Moral is subjective. Each character is equally
beautiful in their own way, with their own desires and insecurities, with their
own definition of happiness, their own emotions and pragmatism, and their own
way of shielding out from unknowns.&lt;/p&gt;
&lt;p&gt;The soundtrack is relaxing and satisfying. It hasn&amp;rsquo;t aged at all. &lt;a href="https://www.youtube.com/watch?v=EErSKhC0CZs"&gt;&lt;em&gt;You make my
dreams come true&lt;/em&gt;&lt;/a&gt; üé∂. Each and
every day &amp;lt;3.&lt;/p&gt;
&lt;p&gt;Vivid experience makes you easily recognize &lt;a href="https://www.goodreads.com/book/show/9547888-attached"&gt;attachment
styles&lt;/a&gt; in each character.
The avoidant is afraid of closeness and love. The anxious is afraid of
rejection.&lt;/p&gt;
&lt;p&gt;Is it fair to always label the avoidant as the villain, or is that just another
perfectly acceptable way of l{o,i}ving? Is it fair to always label the anxious
as a (the) victim, to judge that they should know better?&lt;/p&gt;
&lt;p&gt;Aren&amp;rsquo;t we always picturing ourselves in the perfect scenario, constantly
juggling &lt;em&gt;expectations versus reality&lt;/em&gt;? The happy path user journey is often
just an illusion, a simplified model that doesn&amp;rsquo;t match reality in any universe
known to mankind, except in imaginary mathematical land. The real word is
beautifully complex&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;I love the direction of the movie. The narration. The flashbacks. &lt;em&gt;This
is not a love story&lt;/em&gt;&lt;sup id="fnref:3"&gt;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fn:3" class="footnote-ref" role="doc-noteref"&gt;3&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Is is true? Do you like me?&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Joseph-Gordon Levitt and Zooey Deschanel are peak charisma.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s a masterpiece.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;7.6 / 10 ‚≠êÔ∏è on IMDB is underrated.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Which is sometimes annoying to us Engineers. But can&amp;rsquo;t complain, that
justifies the raison d&amp;rsquo;√™tre‚Ñ¢ of the profession.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;&amp;ldquo;You have been warned&amp;rdquo;, but who does
&lt;a href="https://en.wikipedia.org/wiki/RTFM"&gt;RTFM&lt;/a&gt;?&amp;#160;&lt;a href="https://perrotta.dev/2026/01/500-days-of-summer-2009/#fnref:3" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: 500 days of Summer (2009)"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/movies/"&gt;#movies&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ ADRs and LLMs</title><link>https://perrotta.dev/2026/01/adrs-and-llms/</link><pubDate>Sun, 11 Jan 2026 09:07:46 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/adrs-and-llms/</guid><description>&lt;p&gt;The first time I heard about &lt;a href="https://adr.github.io/"&gt;Architectural Decision
Records&lt;/a&gt; (ADRs) was with &lt;a href="https://www.georgefairbanks.com/"&gt;George
Fairbanks&lt;/a&gt; (GHF) and &lt;a href="https://www.linkedin.com/in/tituswinters"&gt;Titus
Winters&lt;/a&gt; in an internal training for
software engineers at Google Canada.&lt;/p&gt;
&lt;p&gt;The concept has resonated with me:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;An Architectural Decision (AD) is a justified design choice that addresses a
functional or non-functional requirement that is architecturally significant.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;An Architectural Decision Record (ADR) captures a single AD and its rationale;
Put it simply, ADR can help you understand the reasons for a chosen
architectural decision, along with its trade-offs and consequences.&lt;/p&gt;
&lt;p&gt;The collection of ADRs created and maintained in a project constitute its
decision log. All these are within the topic of Architectural Knowledge
Management (AKM), but ADR usage can be extended to design and other decisions
(&amp;ldquo;any decision record&amp;rdquo;).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Some people liken these to
&lt;a href="https://en.wikipedia.org/wiki/Request_for_Comments"&gt;RFCs&lt;/a&gt;, although they are
not quite the same concept. RFCs tend to be much more formal and go through
rigorous review/approval before it becomes a standard.&lt;/p&gt;
&lt;p&gt;ADRs, on the other hand, tend to be lightweight and objective. An archetypical
ADR captures a single decision about architecture in document form, alongside
its &lt;strong&gt;rationale&lt;/strong&gt;, context and alternatives considered. &lt;strong&gt;Rationale&lt;/strong&gt; is the
keyword here.&lt;/p&gt;
&lt;p&gt;Rephrasing, in simpler terms: ADRs are a collection of rationales about a
project (software repository, if you will). They are incremental, long-living,
ever-evolving guidelines / rules of engagement for a given software realm.&lt;/p&gt;
&lt;p&gt;ADRs (and RFCs as well, for that matter) are typically stored alongside source
code in a version‚Äëcontrolled repository (&lt;em&gt;cof&lt;/em&gt; git &lt;em&gt;cof&lt;/em&gt;):&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% tree
.
‚îî‚îÄ‚îÄ adrs
 ‚îú‚îÄ‚îÄ 0001-foo.md
 ‚îú‚îÄ‚îÄ 0002-bar.md
 ‚îî‚îÄ‚îÄ 0003-baz.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;They are usually numbered, though there&amp;rsquo;s no hard rule saying that you have to
do so with monotonically increasing numbers. You could use calendar versioning
(&lt;code&gt;2025-11-11-foo.md&lt;/code&gt;), or any other numbering scheme if desired.&lt;/p&gt;
&lt;p&gt;GHF has an introductory
&lt;a href="https://www.georgefairbanks.com/blog/comparch-wicsa-2011-panel-discussion-and-haiku-tutorial/"&gt;article&lt;/a&gt;
about them. At the time (2011!), the coined term was &amp;ldquo;Architecture Haiku&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;You can&amp;rsquo;t say anything in one page ‚Äî or can you? An Architecture Haiku is a
one-page, quick-to-build, √ºber-terse design description. No project wants
&amp;ldquo;shelfware&amp;rdquo; documentation, but many must communicate their design to others.
Brevity is hard ‚Äî what would you say in one page? With no page limit, experts
suggest documenting everything but the kitchen sink. The one-page limit forces
you to convey the essence of your design using compact language and concepts.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Enough introduction, here is my hot take.&lt;/p&gt;
&lt;p&gt;I would like to argue that codebases that continually evolve with heavy usage of
LLM coding agents will strongly benefit from ADRs now, and especially in the
future.&lt;/p&gt;
&lt;p&gt;The &lt;a href="https://agents.md/"&gt;AGENTS.md&lt;/a&gt; format is a starting point, but it&amp;rsquo;s a far
cry from disciplined ADR enactment. Bootstrapping your git repository with
scattered &lt;code&gt;AGENTS.md&lt;/code&gt; / &lt;code&gt;CLAUDE.md&lt;/code&gt; all over the place is a good initial
practice to tell the agent what to do and/or how to behave, but it does not
capture &lt;em&gt;decision records&lt;/em&gt; effectively.&lt;/p&gt;
&lt;p&gt;The workflow I am starting to adopt in important repositories wherein I work
with teammates resembles this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% tree docs/
docs/
‚îú‚îÄ‚îÄ adrs
‚îÇ ‚îú‚îÄ‚îÄ 0001-aws-secrets-manager-migration.md
‚îÇ ‚îú‚îÄ‚îÄ 0002-cluster-infrastructure-architecture.md
‚îÇ ‚îú‚îÄ‚îÄ 0003-slack-drift-notifications.md
‚îÇ ‚îî‚îÄ‚îÄ README.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;A top-level &lt;code&gt;docs/&lt;/code&gt; directory is the entrypoint for all &lt;code&gt;.md&lt;/code&gt; files docs. Inside
it, we store our ADRs.&lt;/p&gt;
&lt;p&gt;A &lt;code&gt;README.md&lt;/code&gt; describes how to define an ADR:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Architecture Decision Records

This directory contains Architecture Decision Records (ADRs) for significant
technical decisions in the Terraform infrastructure.

## ADRs

&amp;lt;!-- markdownlint-disable MD013 --&amp;gt;
`&amp;gt; echo &amp;#34;| Number | Title | Status | Date |&amp;#34;; echo &amp;#34;|--------|-------|--------|------|&amp;#34;; for f in 0*.md; do num=$(basename &amp;#34;$f&amp;#34; .md | cut -d- -f1); title=$(head -1 &amp;#34;$f&amp;#34; | sed &amp;#39;s/^# ADR-[0-9]*: //&amp;#39;); status=$(awk &amp;#39;/^## Status/{getline;getline;print}&amp;#39; &amp;#34;$f&amp;#34;); date=$(awk &amp;#39;/^## Date/{getline;getline;print}&amp;#39; &amp;#34;$f&amp;#34;); echo &amp;#34;| [$num]($f) | $title | $status | $date |&amp;#34;; done`

&amp;lt;!-- BEGIN mdsh --&amp;gt;
| Number | Title | Status | Date |
|--------|-------|--------|------|
| [0001](0001-aws-secrets-manager-migration.md) | AWS Secrets Manager Migration | Proposed (Not Yet Implemented) | 2025-11-22 |
| [0002](0002-cluster-infrastructure-architecture.md) | Cluster Infrastructure Architecture | Accepted | 2025-12-01 |
| [0003](0003-slack-drift-notifications.md) | Slack Drift Notifications | Accepted | 2024-12-01 |
&amp;lt;!-- END mdsh --&amp;gt;
&amp;lt;!-- markdownlint-enable MD013 --&amp;gt;

## Adding New ADRs

1. Create a new file: `NNNN-short-title.md` (increment the number)
2. Use this template:

```markdown
# ADR-NNNN: Title

## Status

Proposed | Accepted | Deprecated | Superseded

## Date

YYYY-MM-DD

## Context

What is the issue that we&amp;#39;re seeing that is motivating this decision?

## Decision

What is the change that we&amp;#39;re proposing and/or doing?
Include its rationale.
Include alternatives considered where applicable.

## Consequences

What becomes easier or more difficult to do because of this change?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Whenever a new significant direction is adopted in the repository, or whenever
something (a tool, a dependency, a process) &lt;em&gt;quasi&lt;/em&gt;-disrupting is introduced, it
probably deserves its own ADR.&lt;/p&gt;
&lt;p&gt;It used to be tedious to write them by hand, but nowadays your LLM agent can
draft ADRs for you. Arguably, a plan&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; file maps naturally to an ADR. All you
have to do is to add &lt;em&gt;some&lt;/em&gt; structure to them&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;See also&lt;/strong&gt;: &lt;a href="https://en.wikipedia.org/wiki/Architectural_decision"&gt;https://en.wikipedia.org/wiki/Architectural_decision&lt;/a&gt;&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;em&gt;Plan&lt;/em&gt; in the context of &amp;ldquo;planning mode&amp;rdquo; that various agents have these
days e.g. &lt;a href="https://code.claude.com/docs/en/model-config"&gt;Claude Code&lt;/a&gt;,
&lt;a href="https://opencode.ai/docs/modes/#plan"&gt;OpenCode&lt;/a&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;But &lt;a href="https://danielmiessler.com/blog/personal-ai-infrastructure"&gt;don&amp;rsquo;t&lt;/a&gt;
&lt;a href="https://github.com/steveyegge/beads"&gt;&lt;em&gt;overdo&lt;/em&gt;&lt;/a&gt; it.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/adrs-and-llms/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: ADRs and LLMs"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Oneshot prompting</title><link>https://perrotta.dev/2026/01/oneshot-prompting/</link><pubDate>Sat, 03 Jan 2026 16:35:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2026/01/oneshot-prompting/</guid><description>&lt;p&gt;I just wrote &lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/"&gt;this post&lt;/a&gt; about &lt;code&gt;neovim&lt;/code&gt; and &lt;code&gt;git&lt;/code&gt; hunks.&lt;/p&gt;
&lt;p&gt;In it I mentioned various git repositories, but did not link to them whilst
writing the post. Ah, these lazy engineers.&lt;/p&gt;
&lt;p&gt;Why not ask the LLM to link to them for me, especially because they are popular
projects? Then I had the idea to try to do it without opening an interactive
coding agent as I&amp;rsquo;m used to (think of Claude Code, OpenAI Codex, Amp Code, Open
Code).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% amp -x &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;
Error: Insufficient credit balance.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% amp --mode free -x &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;
Error: Execute mode is not permitted with --mode &amp;#39;free&amp;#39;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Oh. Okay.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/badlogic/pi-mono"&gt;Pi&lt;/a&gt; + Gemini 3 Pro Preview:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% pi -p &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;
I have added the requested GitHub repository links for the Git TUIs (gitui, tig, lazygit) in the blog post `content/posts/2026-01-03-neovim--inline-git-hunk-control.md`.

Here are the changes made:
- `gitui` -&amp;gt; `[gitui](https://github.com/extrawurst/gitui)`
- `tig` -&amp;gt; `[tig](https://github.com/jonas/tig)`
- `lazygit` -&amp;gt; `[lazygit](https://github.com/jesseduffield/lazygit)`&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Great job! Let&amp;rsquo;s &lt;code&gt;git stash&lt;/code&gt; it and try again with other agents I use, for the
sake of completeness. I&amp;rsquo;ll use the same prompt.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://claude.com/product/claude-code"&gt;Claude Code&lt;/a&gt; + Sonnet 4.5:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude -p &amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#39;
I need your permission to edit the file `content/posts/2026-01-03-neovim--inline-git-hunk-control.md` to add GitHub repository links to the git TUIs (gitui, tig, and lazygit).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;claude --dangerously-skip-permissions -p &amp;#39;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#39;
Perfect! I&amp;#39;ve added GitHub repository links to all three git TUIs mentioned in the post:

1. **gitui** ‚Üí https://github.com/extrawurst/gitui
2. **tig** ‚Üí https://github.com/jonas/tig
3. **lazygit** ‚Üí https://github.com/jesseduffield/lazygit

The links are now properly formatted as Markdown links in the post at `content/posts/2026-01-03-neovim--inline-git-hunk-control.md:52-54`.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://openai.com/codex/"&gt;OpenAI Codex&lt;/a&gt; + GPT 5.1 Codex Max:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% codex exec &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;
[...lots of output...]
-- **gitui**
-- tig
-- lazygit
&amp;#43;- **[gitui](https://github.com/extrawurst/gitui)**
&amp;#43;- [tig](https://github.com/jonas/tig)
&amp;#43;- [lazygit](https://github.com/jesseduffield/lazygit)

 ...or graphically with IDEs with as VSCode.


tokens used
7,432
- Added GitHub repository links for gitui, tig, and lazygit in `content/posts/2026-01-03-neovim--inline-git-hunk-control.md` so readers can jump to each TUI.
- No tests run (doc-only change).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://opencode.ai/"&gt;Open Code&lt;/a&gt; + GLM 4.7 Free:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% opencode --model opencode/glm-4.7-free run &amp;#34;add github repository links to git tuis in this post: @content/posts/2026-01-03-neovim--inline-git-hunk-control.md&amp;#34;
| Read content/posts/2026-01-03-neovim--inline-git-hunk-control.md
| Search Web search: tig git tui github repository
| Search Web search: gitui github repository
| Search Web search: lazygit github repository
| Edit content/posts/2026-01-03-neovim--inline-git-hunk-control.md

Done. Added GitHub links for gitui, tig, and lazygit to the post.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git --no-pager diff
diff --git content/posts/2026-01-03-neovim--inline-git-hunk-control.md content/posts/2026-01-03-neovim--inline-git-hunk-control.md
index 1a6465f3b..3324a71c7 100644
--- content/posts/2026-01-03-neovim--inline-git-hunk-control.md
&amp;#43;&amp;#43;&amp;#43; content/posts/2026-01-03-neovim--inline-git-hunk-control.md
@@ -49,9 &amp;#43;49,9 @@ What now&amp;gt;

 It&amp;#39;s also possible to manage hunks via git TUIs (=from the terminal) such as:

-- **gitui**
-- tig
-- lazygit
&amp;#43;- **[gitui](https://github.com/gitui-org/gitui)**
&amp;#43;- [tig](https://github.com/jonas/tig)
&amp;#43;- [lazygit](https://github.com/jesseduffield/lazygit)

 ...or graphically with IDEs with as VSCode.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Guess which one is my favorite for simple tasks?&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Oneshot prompting"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ neovim: inline git hunk control</title><link>https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/</link><pubDate>Sat, 03 Jan 2026 15:41:21 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>git</category><category>vim</category><guid>https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/</guid><description>&lt;p&gt;What is a
&lt;a href="https://stackoverflow.com/questions/37620729/in-the-context-of-git-and-diff-what-is-a-hunk"&gt;hunk&lt;/a&gt;?&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;When comparing two files, diff finds sequences of lines common to both files,
interspersed with groups of differing lines called hunks&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are various ways to treat git hunks as first-class citizens, manipulating
them one at a time ‚Äì staging, unstaging, or reverting them.&lt;/p&gt;
&lt;p&gt;The classic one is &lt;a href="https://millerb.co.uk/2021/11/16/git-add-patch.html"&gt;&lt;code&gt;git add [-p | --patch]&lt;/code&gt;&lt;/a&gt;. Hit yes or no
for each hunk, one by one:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git add -p
diff --git a/Justfile b/Justfile
index bbb3779a9..70840a008 100755
--- a/Justfile
&amp;#43;&amp;#43;&amp;#43; b/Justfile
@@ -175,3 &amp;#43;175,6 @@ update-pre-commit:
 # Update JSON schemas
 update-json-schemas:
 pre-commit run -a update-json-schemas --hook-stage manual
&amp;#43;
&amp;#43;hello:
&amp;#43; echo world
(1/1) Stage this hunk [y,n,q,a,d,e,p,P,?]?&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;There&amp;rsquo;s also &lt;a href="https://nuclearsquid.com/writings/git-add/"&gt;&lt;code&gt;git add [-i | --interactive]&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git add -i

*** Commands ***
 1: status 2: update 3: revert 4: add untracked
 5: patch 6: diff 7: quit 8: help
What now&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It&amp;rsquo;s also possible to manage hunks via git TUIs (=from the terminal) such as:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="https://github.com/gitui-org/gitui"&gt;gitui&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jonas/tig"&gt;tig&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/jesseduffield/lazygit"&gt;lazygit&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip;or graphically with IDEs with as VSCode.&lt;/p&gt;
&lt;p&gt;An honorable mention also goes to
&lt;a href="https://github.com/andrewshadura/git-crecord"&gt;&lt;code&gt;git-crecord&lt;/code&gt;&lt;/a&gt;, which I
originally discovered by looking for an open source alternative to Google&amp;rsquo;s
Fig&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; interactive commit and split commands.&lt;/p&gt;
&lt;p&gt;Now that you see how my mind is overloaded with many possibilities to manipulate
git hunks, the natural follow-up question is: how to do so right from within our
favorite text editor (&lt;code&gt;vim&lt;/code&gt;)?&lt;/p&gt;
&lt;p&gt;With classic &lt;code&gt;vim&lt;/code&gt;, Tim Pope&amp;rsquo;s
&lt;a href="https://github.com/tpope/vim-fugitive"&gt;&lt;code&gt;vim-fugitive&lt;/code&gt;&lt;/a&gt; is often touted as
best-in-class (paired with
&lt;a href="https://github.com/airblade/vim-gitgutter"&gt;&lt;code&gt;vim-gitgutter&lt;/code&gt;&lt;/a&gt;). I use it
occasionally. The workflow is as follows:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;From an open file with modifications, run &lt;code&gt;:GDiff&lt;/code&gt; (&lt;code&gt;:GDiffsplit&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Proceed as you normally would in &lt;code&gt;vimdiff&lt;/code&gt;. Use &lt;code&gt;:diffget&lt;/code&gt; (&lt;code&gt;do&lt;/code&gt;) and
&lt;code&gt;:diffput&lt;/code&gt; (&lt;code&gt;dp&lt;/code&gt;) for each hunk. Use &lt;code&gt;[c&lt;/code&gt; and &lt;code&gt;]c&lt;/code&gt; to navigate to the previous
/ next hunk.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finally, we get to the meat of the post. Is there any workflow
improvement in &lt;code&gt;neovim&lt;/code&gt;, which I have recently &lt;a href="https://perrotta.dev/2025/12/vim-nvim/"&gt;switched to&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;First of all, the familiar vim-fugitive workflow still works there.&lt;/p&gt;
&lt;p&gt;Its evolution is &lt;a href="https://github.com/lewis6991/gitsigns.nvim"&gt;gitsigns.nvim&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Git integration for buffers&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Given the config below, the following becomes possible:&lt;/p&gt;
&lt;div class="codeblock" data-lang="lua"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;lua&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-lua"&gt;-- Git integration
{
&amp;#39;lewis6991/gitsigns.nvim&amp;#39;,
config = function()
 require(&amp;#39;gitsigns&amp;#39;).setup({
 on_attach = function(bufnr)
 local gs = require(&amp;#39;gitsigns&amp;#39;)
 -- ]c / [c: next/prev hunk (falls back to default in diff mode)
 -- like git-gutter in vim
 vim.keymap.set(&amp;#39;n&amp;#39;, &amp;#39;]c&amp;#39;, function()
 if vim.wo.diff then return &amp;#39;]c&amp;#39; end
 vim.schedule(function() gs.nav_hunk(&amp;#39;next&amp;#39;) end)
 return &amp;#39;&amp;lt;Ignore&amp;gt;&amp;#39;
 end, { expr = true, buffer = bufnr, desc = &amp;#39;Next hunk&amp;#39; })
 vim.keymap.set(&amp;#39;n&amp;#39;, &amp;#39;[c&amp;#39;, function()
 if vim.wo.diff then return &amp;#39;[c&amp;#39; end
 vim.schedule(function() gs.nav_hunk(&amp;#39;prev&amp;#39;) end)
 return &amp;#39;&amp;lt;Ignore&amp;gt;&amp;#39;
 end, { expr = true, buffer = bufnr, desc = &amp;#39;Prev hunk&amp;#39; })
 vim.keymap.set(&amp;#39;n&amp;#39;, &amp;#39;&amp;lt;leader&amp;gt;s&amp;#39;, gs.stage_hunk, { buffer = bufnr, desc = &amp;#39;Stage hunk&amp;#39; })
 vim.keymap.set(&amp;#39;n&amp;#39;, &amp;#39;&amp;lt;leader&amp;gt;u&amp;#39;, gs.reset_hunk, { buffer = bufnr, desc = &amp;#39;Reset hunk&amp;#39; })
 end,
 })
end,
},
&amp;#39;tpope/vim-fugitive&amp;#39;,&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;Use &lt;code&gt;]c&lt;/code&gt; and &lt;code&gt;[c&lt;/code&gt; to navigate hunks (compatible with vim-gitgutter)&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;&amp;lt;leader&amp;gt;s&lt;/code&gt; (comma + s in my setup) to toggle staging/unstaging hunks.&lt;/li&gt;
&lt;li&gt;Use &lt;code&gt;&amp;lt;leader&amp;gt;u&lt;/code&gt; to do the equivalent of &lt;code&gt;git checkout -- file&lt;/code&gt; for a single
hunk.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The last two shortcuts are wherein the magic lives.&lt;/p&gt;
&lt;p&gt;It is VERY convenient to choose what to stage/unstage/revert right from the
&lt;code&gt;nvim&lt;/code&gt; buffer I am currently editing. For fine-grained control, I can always use
&lt;code&gt;:Gdiff&lt;/code&gt; to perform hunk microsurgery.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Not to confound with &lt;em&gt;hook&lt;/em&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Internal mercurial VCS porcelain on top of Piper / google3.&amp;#160;&lt;a href="https://perrotta.dev/2026/01/neovim-inline-git-hunk-control/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: neovim: inline git hunk control"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/vim/"&gt;#vim&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Blog discovery</title><link>https://perrotta.dev/2025/12/blog-discovery/</link><pubDate>Wed, 31 Dec 2025 17:27:05 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>serenity</category><guid>https://perrotta.dev/2025/12/blog-discovery/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/05/blog-directories/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: I ran out of blog posts to read! Now what?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Option #1&lt;/strong&gt;: Take a deep breath, leave the computer, put your phone away.&lt;/p&gt;
&lt;p&gt;You&amp;rsquo;re not here for that though, are you?&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Option #2&lt;/strong&gt;: &lt;a href="https://en.wikipedia.org/wiki/StumbleUpon"&gt;Stumble upon&lt;/a&gt;‚Ñ¢
delightful blog networks. I like:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="https://bearblog.dev/discover/"&gt;Bear Blog Discover&lt;/a&gt; (see also: &lt;a href="https://bearblog.dev/discover/?newest=true"&gt;most recent&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://powrss.com/"&gt;PowRSS&lt;/a&gt; (see also: &lt;a href="https://powrss.com/shuffle"&gt;shuffle&lt;/a&gt;, &lt;a href="https://powrss.com/random"&gt;random&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;&lt;a href="https://kagi.com/smallweb"&gt;Kagi Small Web&lt;/a&gt; ‚Üí &lt;a href="https://rss.social/"&gt;RSS
Social&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://diff.blog/"&gt;Diff Blog&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;It&amp;rsquo;s better than social media and short videos, I think.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Blog discovery"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Who watches the watchmen?</title><link>https://perrotta.dev/2025/12/who-watches-the-watchmen/</link><pubDate>Tue, 30 Dec 2025 11:02:51 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/who-watches-the-watchmen/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2022/01/watch-files-and-react-to-changes-during-development/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve been in love with &lt;a href="https://github.com/watchexec/watchexec"&gt;&lt;code&gt;watchexec&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Recursively monitors the current directory for changes, executing the command
when a filesystem change is detected (among other event sources). By default,
watchexec uses efficient kernel-level mechanisms to watch for changes.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s a modern version of &lt;a href="https://jvns.ca/blog/2020/06/28/entr/"&gt;&lt;code&gt;entr&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Its usage is very simple and easy to remember:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;watchexec [--clear] [--] python main.py&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;will re-run &lt;code&gt;python main.py&lt;/code&gt; whenever it changes on disk.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;--clear&lt;/code&gt; will &lt;code&gt;clear&lt;/code&gt; the screen between successive runs.&lt;/p&gt;
&lt;p&gt;Other useful invocations:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;watchexec make
watchexec just
watchexec -e html,css,js make # watch the given extensions for changes
watchexec -w src make # watch the given directory&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;There are various other useful command-line switches, its &lt;a href="https://man.archlinux.org/man/watchexec.1"&gt;man
page&lt;/a&gt; is very descriptive.&lt;/p&gt;
&lt;p&gt;Here is a practical example when iterating on &lt;a href="https://perrotta.dev/2025/12/stack/"&gt;&lt;code&gt;stack.py&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% watchexec --clear -- python stack.py
[Running: python stack.py]
[Command was successful]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% watchexec --clear -- ty check
[Running: ty check]
[Command was successful]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Alternative: &lt;a href="https://github.com/emcrisostomo/fswatch"&gt;fswatch&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Who watches the watchmen?"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Starship</title><link>https://perrotta.dev/2025/12/starship/</link><pubDate>Sat, 27 Dec 2025 02:34:32 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/starship/</guid><description>&lt;p&gt;After years using the default prompt from
&lt;a href="https://grml.org/zsh/"&gt;&lt;code&gt;grml-zsh-config&lt;/code&gt;&lt;/a&gt; (with minor modifications), I adopted
&lt;a href="https://starship.rs/"&gt;starship&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The minimal, blazing-fast, and infinitely customizable prompt for any shell!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;My &lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/starship/.config/starship.toml"&gt;&lt;code&gt;~/.config/starship.toml&lt;/code&gt;&lt;/a&gt; is meant to resemble the zsh prompt I&amp;rsquo;ve been using,
with minor tweaks and improvements:&lt;/p&gt;
&lt;div class="codeblock" data-lang="toml"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;toml&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-toml"&gt;# Minimal starship config matching grml prompt
format = &amp;#34;$status$sudo$username$hostname$directory$git_branch$git_state$git_status$line_break$character&amp;#34;
right_format = &amp;#34;$cmd_duration$jobs&amp;#34;
add_newline = true

[status]
disabled = false
format = &amp;#34;[$status ]($style)&amp;#34;
style = &amp;#34;bold red&amp;#34;

[username]
show_always = true
format = &amp;#34;[$user](bold green)&amp;#34;

[hostname]
ssh_only = true
trim_at = &amp;#34;.&amp;#34;
format = &amp;#34;@$hostname&amp;#34;

[directory]
truncation_length = 40
truncate_to_repo = true
format = &amp;#34; [$path](bold) &amp;#34;

[git_branch]
symbol = &amp;#34;&amp;#34;
format = &amp;#34;[$symbol$branch]() &amp;#34;

[git_state]
format = &amp;#34;|[$state]()&amp;#34;

[git_status]
format = &amp;#34;[$conflicted$deleted$renamed$modified$staged$untracked$ahead_behind](red) &amp;#34;

[cmd_duration]
min_time = 2000
format = &amp;#34;[$duration](yellow) &amp;#34;

[jobs]
format = &amp;#34;[$number](cyan) &amp;#34;

[sudo]
disabled = false
format = &amp;#34;[üîì](red) &amp;#34;

[character]
success_symbol = &amp;#34;[‚ùØ](green)&amp;#34;
error_symbol = &amp;#34;[‚ùØ](red)&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;My prompt:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;thiago.perrotta .dotfiles master
‚ùØ&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Details you cannot easily tell from above:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;display the exit code if it is non-zero, and make the ‚ùØ symbol red&lt;/li&gt;
&lt;li&gt;omit the hostname when not in SSH (no need to see &lt;code&gt;thiagoperrotta-MacBook-Pro&lt;/code&gt; all the time)&lt;/li&gt;
&lt;li&gt;display the command duration when a command took too long (&amp;gt;2s) to complete
(right side)&lt;/li&gt;
&lt;li&gt;display the number of background jobs if any (right side)&lt;/li&gt;
&lt;li&gt;display a couple of git markers (e.g. pending pull, pending push, pending changes)&lt;/li&gt;
&lt;li&gt;display an icon when &lt;code&gt;sudo&lt;/code&gt; / &lt;code&gt;doas&lt;/code&gt; is cached&lt;/li&gt;
&lt;li&gt;separate prompts with a blank line (breathe!)&lt;/li&gt;
&lt;li&gt;colors!&lt;/li&gt;
&lt;li&gt;truncate the full directory path when inside a VCS repo&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;My &lt;code&gt;.zshrc&lt;/code&gt; looks like this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Use starship prompt if available, otherwise customize grml prompt.
if command -v starship &amp;amp;&amp;gt; /dev/null; then
 prompt off
 eval &amp;#34;$(starship init zsh)&amp;#34;
else
 # Customize grml prompt: two lines, user in bold green
 zstyle &amp;#39;:prompt:grml:left:items:user&amp;#39; pre &amp;#39;%B%F{green}&amp;#39;
 zstyle &amp;#39;:prompt:grml:left:setup&amp;#39; items rc change-root user at host path vcs newline percent
fi&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;gracefully degrade when &lt;code&gt;starship&lt;/code&gt; is not installed, using my original
grml-derived zsh prompt.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Side effect&lt;/strong&gt;: now &lt;code&gt;bash&lt;/code&gt; has a similar prompt to &lt;code&gt;zsh&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Starship"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ UptimeKuma</title><link>https://perrotta.dev/2025/12/uptimekuma/</link><pubDate>Sat, 27 Dec 2025 01:53:05 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>meta</category><guid>https://perrotta.dev/2025/12/uptimekuma/</guid><description>&lt;p&gt;This site is now monitored via self-hosted &lt;a href="https://uptime.perrotta.dev/status/serendipity"&gt;uptime infrastructure&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;How did I do it?&lt;/p&gt;
&lt;p&gt;Software: &lt;a href="https://github.com/louislam/uptime-kuma"&gt;UptimeKuma&lt;/a&gt;. Open-source,
self-hosted, simple &amp;amp; easy, has a docker image for deployment, sensible
defaults, lots of customization possibilities. Modern, solid, well-maintained,
popular (80k+ stars on GitHub). A no-brainer choice, really.&lt;/p&gt;
&lt;p&gt;I deployed it via Docker on Alpine Linux.&lt;/p&gt;
&lt;p&gt;Install docker and docker-compose:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas apk add docker docker-compose&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Update the docker storage driver from the &lt;code&gt;overlay2&lt;/code&gt; default as it was failing
for some reason:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doasedit /etc/docker/daemon.json
{
	 &amp;#34;storage-driver&amp;#34;: &amp;#34;vfs&amp;#34;
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Start docker, now and on startup:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service docker start
% doas rc-update add docker&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;equivalently to &lt;code&gt;systemctl enable --now docker&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Create a &lt;code&gt;docker-compose.yml&lt;/code&gt; file for the service:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% cat docker/docker-compose.yml
services:
 uptime-kuma:
 image: louislam/uptime-kuma:latest
 container_name: uptime-kuma
 restart: unless-stopped
 ports:
 - &amp;#34;127.0.0.1:3001:3001&amp;#34;
 volumes:
 - /opt/uptime-kuma:/app/data&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;ensure to bind it to localhost only (&lt;code&gt;127.0.0.1&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;Start it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% docker-compose up -d&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;-d&lt;/code&gt; to start it in the background.&lt;/p&gt;
&lt;p&gt;From here we access the service and configure it (out of scope of this post):&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;create an admin user, set a secure password&lt;/li&gt;
&lt;li&gt;enable 2FA (TOTP)&lt;/li&gt;
&lt;li&gt;add the first monitor (&lt;code&gt;https://perrotta.dev&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To access the service securely for the first time, there are various
possibilities:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;expose it under a reverse proxy with HTTP basic auth&lt;/li&gt;
&lt;li&gt;employ a VPN (e.g. Tailscale, Wireguard)&lt;/li&gt;
&lt;li&gt;use SSH port forwarding from your VPS to your laptop&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&amp;hellip;just &lt;em&gt;do not&lt;/em&gt; expose the service to &lt;code&gt;0.0.0.0&lt;/code&gt; without credentials.&lt;/p&gt;
&lt;p&gt;Next, expose the service via a user-friendly URL, with the creation of a DNS
record. As you can see, I chose uptime.perrotta.dev.&lt;/p&gt;
&lt;p&gt;Configure your reverse proxy (&lt;a href="https://perrotta.dev/2025/12/nginx-caddy/"&gt;Caddy&lt;/a&gt; in
this case):&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;uptime.perrotta.dev {
	log {
		output file /var/log/caddy/uptime.log
	}

	reverse_proxy * {
		to 127.0.0.1:3001
		header_up Host {host}
	}
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service caddy reload&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And now sit back and enjoy free uptime monitoring!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: UptimeKuma"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ nginx ‚Üí caddy</title><link>https://perrotta.dev/2025/12/nginx-caddy/</link><pubDate>Wed, 24 Dec 2025 23:59:02 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/nginx-caddy/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Replace &lt;code&gt;nginx&lt;/code&gt; with &lt;code&gt;caddy&lt;/code&gt; for &lt;code&gt;miniflux&lt;/code&gt; on my Alpine
Linux VPS host.&lt;/p&gt;
&lt;p&gt;First, install &lt;code&gt;caddy&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;doas apk add caddy&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Next, migrate the existing nginx config to caddy.&lt;/p&gt;
&lt;p&gt;The stock config:&lt;/p&gt;
&lt;div class="codeblock" data-lang="caddyfile"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;/etc/caddy/Caddyfile&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;caddyfile&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-caddyfile"&gt;# Caddy&amp;#39;s configuration file
# see: https://caddyserver.com/docs/caddyfile&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The new config:&lt;/p&gt;
&lt;div class="codeblock" data-lang="caddyfile"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;caddyfile&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-caddyfile"&gt;# Caddy&amp;#39;s configuration file
# see: https://caddyserver.com/docs/caddyfile
{miniflux_host}.perrotta.dev {
 reverse_proxy * {
 to 127.0.0.1:8080
 header_up Host {host}
 header_up X-Forwarded-For {remote}
 header_up X-Forwarded-Proto {scheme}
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Stop nginx:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;doas service nginx stop&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Start caddy:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service caddy start
% doas service caddy status
 * status: started&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now I tried to access my server via a web browser, and it worked out-of-the-box
:)&lt;/p&gt;
&lt;p&gt;I can see information about the SSL certificate in my web browser:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Issued On	Thursday, December 25, 2025 at 1:41:33‚ÄØAM
Expires On	Wednesday, March 25, 2026 at 1:41:32‚ÄØAM&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It was issued just a few seconds ago!&lt;/p&gt;
&lt;p&gt;How to view logs?&lt;/p&gt;
&lt;p&gt;I expect to find them at &lt;code&gt;/var/log/caddy&lt;/code&gt; but there&amp;rsquo;s nothing there.&lt;/p&gt;
&lt;p&gt;I need to add an explicit directive to enable logging:&lt;/p&gt;
&lt;div class="codeblock" data-lang="caddy"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;caddy&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-caddy"&gt;{miniflux_host}.perrotta.dev {
 log {
 output file /var/log/caddy/miniflux.log
 }
 reverse_proxy * {
 to 127.0.0.1:8080
 header_up Host {host}
 header_up X-Forwarded-For {remote}
 header_up X-Forwarded-Proto {scheme}
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then reload caddy:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service caddy reload
~ # service caddy reload
 * Reloading Caddy web server ...
2025/12/25 05:49:04.531	INFO	using config from file	{&amp;#34;file&amp;#34;: &amp;#34;/etc/caddy/Caddyfile&amp;#34;}
2025/12/25 05:49:04.532	WARN	caddyfile	Unnecessary header_up X-Forwarded-For: the reverse proxy&amp;#39;s default behavior is to pass headers to the upstream
2025/12/25 05:49:04.532	WARN	caddyfile	Unnecessary header_up X-Forwarded-Proto: the reverse proxy&amp;#39;s default behavior is to pass headers to the upstream
2025/12/25 05:49:04.532	INFO	adapted config to JSON	{&amp;#34;adapter&amp;#34;: &amp;#34;caddyfile&amp;#34;}
2025/12/25 05:49:04.533	WARN	Caddyfile input is not formatted; run &amp;#39;caddy fmt --overwrite&amp;#39; to fix inconsistencies	{&amp;#34;adapter&amp;#34;: &amp;#34;caddyfile&amp;#34;, &amp;#34;file&amp;#34;: &amp;#34;/etc/caddy/Caddyfile&amp;#34;, &amp;#34;line&amp;#34;: 4}
Error: sending configuration to instance: caddy responded with error: HTTP 400: {&amp;#34;error&amp;#34;:&amp;#34;loading config: loading new config: setting up custom log &amp;#39;log0&amp;#39;: opening log writer using \u0026logging.FileWriter{Filename:\&amp;#34;/var/log/caddy/miniflux.log\&amp;#34;, Mode:0x0, Roll:(*bool)(nil), RollSizeMB:0, RollCompress:(*bool)(nil), RollLocalTime:false, RollKeep:0, RollKeepDays:0}: open /var/log/caddy/miniflux.log: permission denied&amp;#34;}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Let&amp;rsquo;s address these issues:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;/etc/caddy % doas caddy fmt --overwrite&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The formatting warning is gone:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service caddy reload
 * Reloading Caddy web server ...
2025/12/25 05:53:06.079	INFO	using config from file	{&amp;#34;file&amp;#34;: &amp;#34;/etc/caddy/Caddyfile&amp;#34;}
2025/12/25 05:53:06.079	WARN	caddyfile	Unnecessary header_up X-Forwarded-For: the reverse proxy&amp;#39;s default behavior is to pass headers to the upstream
2025/12/25 05:53:06.079	WARN	caddyfile	Unnecessary header_up X-Forwarded-Proto: the reverse proxy&amp;#39;s default behavior is to pass headers to the upstream
2025/12/25 05:53:06.080	INFO	adapted config to JSON	{&amp;#34;adapter&amp;#34;: &amp;#34;caddyfile&amp;#34;}
Error: sending configuration to instance: caddy responded with error: HTTP 400: {&amp;#34;error&amp;#34;:&amp;#34;loading config: loading new config: setting up custom log &amp;#39;log0&amp;#39;: opening log writer using \u0026logging.FileWriter{Filename:\&amp;#34;/var/log/caddy/miniflux.log\&amp;#34;, Mode:0x0, Roll:(*bool)(nil), RollSizeMB:0, RollCompress:(*bool)(nil), RollLocalTime:false, RollKeep:0, RollKeepDays:0}: open /var/log/caddy/miniflux.log: permission denied&amp;#34;}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Next, logging:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas mkdir /var/log/caddy
% doas touch /var/log/caddy/miniflux.log
% doas chown -R caddy:caddy /var/log/caddy&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now it&amp;rsquo;s much better:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service caddy reload
 * Reloading Caddy web server ...
2025/12/25 05:56:11.041	INFO	using config from file	{&amp;#34;file&amp;#34;: &amp;#34;/etc/caddy/Caddyfile&amp;#34;}
2025/12/25 05:56:11.041	WARN	caddyfile	Unnecessary header_up X-Forwarded-For: the reverse proxy&amp;#39;s default behavior is to pass headers to the upstream
2025/12/25 05:56:11.041	WARN	caddyfile	Unnecessary header_up X-Forwarded-Proto: the reverse proxy&amp;#39;s default behavior is to pass headers to the upstream
2025/12/25 05:56:11.042	INFO	adapted config to JSON	{&amp;#34;adapter&amp;#34;: &amp;#34;caddyfile&amp;#34;}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Regarding the two &amp;ldquo;unnecessary&amp;rdquo; configs, just remove them from the &lt;code&gt;Caddyfile&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;- header_up X-Forwarded-For {remote}
- header_up X-Forwarded-Proto {scheme}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And here&amp;rsquo;s the cleanest possible startup:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas service caddy reload
 * Reloading Caddy web server ...
2025/12/25 06:22:17.476	INFO	using config from file	{&amp;#34;file&amp;#34;: &amp;#34;/etc/caddy/Caddyfile&amp;#34;}
2025/12/25 06:22:17.478	INFO	adapted config to JSON	{&amp;#34;adapter&amp;#34;: &amp;#34;caddyfile&amp;#34;}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;How did I know which user to &lt;code&gt;chown&lt;/code&gt; to? &lt;code&gt;/etc/init.d/caddy&lt;/code&gt; has the following
line:&lt;/p&gt;
&lt;div class="codeblock" data-lang="ini"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;/etc/init.d/caddy&lt;/span&gt; &lt;span class="codeblock-lang-badge"&gt;ini&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ini"&gt;command_user=caddy:caddy&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&amp;hellip;though it wouldn&amp;rsquo;t have been difficult to guess it anyways.&lt;/p&gt;
&lt;p&gt;I can see some logs at &lt;code&gt;/var/log/caddy/miniflux.log&lt;/code&gt; already.&lt;/p&gt;
&lt;p&gt;Use &lt;code&gt;tail -f&lt;/code&gt; or &lt;code&gt;tspin -f&lt;/code&gt; (from tailspin) for live log tailing.&lt;/p&gt;
&lt;p&gt;LLM security analysis, for completeness:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;I reviewed /etc/caddy/Caddyfile. Overall, it&amp;#39;s a straightforward reverse proxy for {miniflux_host}.perrotta.dev to 127.0.0.1:8080 with logging to
 /var/log/caddy/miniflux.log. Caddy will automatically manage HTTPS and pass the appropriate headers upstream, and Caddy&amp;#39;s defaults already
 set the Host and X-Forwarded-* headers‚Äîso explicitly setting them is optional but not harmful.

 Security considerations:
 - Ensure the local Miniflux instance is bound to loopback only (127.0.0.1) so it&amp;#39;s not exposed directly.
 - Confirm /var/log/caddy/ and the log file are readable by the Caddy user but not world-readable if the logs might contain sensitive data.
 - If you ever place Caddy behind another proxy (e.g., Cloudflare), configure trusted_proxies in Caddy to ensure X-Forwarded-* is accurate.

 Beyond that, the config is minimal and doesn&amp;#39;t expose extra surfaces.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Last step: let&amp;rsquo;s make caddy auto start, and disable nginx startup + uninstall
it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;doas rc-update del nginx
doas rc-update add caddy
doas apk del nginx&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Out of curiosity: the certificates live here:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;/var/lib/caddy/.local/share/caddy/certificates/acme-v02.api.letsencrypt.org-directory/{miniflux_host}.perrotta.dev/&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;There are three files:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;crt and key: SSL / TLS&lt;/li&gt;
&lt;li&gt;json: configuration / metadata for let&amp;rsquo;s encrypt&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;And we&amp;rsquo;re done!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: nginx ‚Üí caddy"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ vim ‚Üí nvim</title><link>https://perrotta.dev/2025/12/vim-nvim/</link><pubDate>Tue, 23 Dec 2025 12:14:33 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>vim</category><guid>https://perrotta.dev/2025/12/vim-nvim/</guid><description>&lt;p&gt;I am piloting a transition from &lt;code&gt;vim&lt;/code&gt; to &lt;code&gt;nvim&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Here is the least disruptive way I found to accomplish that.&lt;/p&gt;
&lt;p&gt;First, install &lt;code&gt;neovim&lt;/code&gt;.&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;brew install neovim&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now, create &lt;code&gt;~/.config/nvim/init.lua&lt;/code&gt;. I decided to populate it based on my
original
&lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/vim/.vim/vimrc"&gt;&lt;code&gt;~/.vimrc&lt;/code&gt;&lt;/a&gt;,
without attempting to share configuration settings between the two.&lt;/p&gt;
&lt;p&gt;Multiple iterations with a LLM agent helped it achieve a decent shape, removing
redundant settings and replacing some native VimL plugins with Lua ones.&lt;/p&gt;
&lt;p&gt;The result:
&lt;a href="https://github.com/thiagowfx/.dotfiles/blob/master/nvim/.config/nvim/init.lua"&gt;&lt;code&gt;init.lua&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Some notable changes:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;switch the package manager from vim-plug to lazy.nvim&lt;/li&gt;
&lt;li&gt;remove vim-sensible&lt;/li&gt;
&lt;li&gt;rewrite &lt;code&gt;just_one_space&lt;/code&gt; in Lua&lt;/li&gt;
&lt;li&gt;use nvim native OSC52 for yanking text&lt;/li&gt;
&lt;li&gt;vim-signify -&amp;gt; gitsigns&lt;/li&gt;
&lt;li&gt;add autopairs&lt;/li&gt;
&lt;li&gt;add telescope (fuzzy finder), replace fzf&lt;/li&gt;
&lt;li&gt;add oil (file manager), incorporates some functionality of &lt;code&gt;vidir&lt;/code&gt; from
&lt;code&gt;moreutils&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;remove vim-commentary, given native support for &lt;code&gt;gc&lt;/code&gt; in neovim&lt;/li&gt;
&lt;li&gt;lightline -&amp;gt; lualine&lt;/li&gt;
&lt;li&gt;highlight yanked text natively, replace vim-highlightedyank&lt;/li&gt;
&lt;li&gt;automkdir upon saving a file whose parent directory does not exist, replace
vim-mkdir&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Now make it frictionless to use &lt;code&gt;nvim&lt;/code&gt; instead of &lt;code&gt;vim&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="gitdiff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;gitdiff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;commit 058433b9503477c8c162cac5eba191c704cb9361
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Tue Dec 23 12:13:54 2025 -0300

 nvim

diff --git profile/.profile.d/env.sh profile/.profile.d/env.sh
index 1c6507e..c6117a9 100644
--- profile/.profile.d/env.sh
&amp;#43;&amp;#43;&amp;#43; profile/.profile.d/env.sh
@@ -10,4 &amp;#43;10,6 @@ path_munge &amp;#34;$HOME/.bin&amp;#34; &amp;#34;$HOME/bin&amp;#34; &amp;#34;$HOME/.local/bin&amp;#34;
 export CLICOLOR=1

 # Set preferred text editor.
&amp;#43;# nvim should be preferred to vim if it is installed.
 hash vim &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;&amp;amp; export EDITOR=&amp;#34;vim&amp;#34; VISUAL=&amp;#34;vim&amp;#34;
&amp;#43;hash nvim &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;&amp;amp; export EDITOR=&amp;#34;nvim&amp;#34; VISUAL=&amp;#34;nvim&amp;#34; &amp;amp;&amp;amp; alias vim=nvim&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;We can still access &lt;code&gt;vim&lt;/code&gt; with &lt;code&gt;\vim&lt;/code&gt; (or &lt;code&gt;unalias vim&lt;/code&gt; if needed).&lt;/p&gt;
&lt;p&gt;Now let&amp;rsquo;s evaluate whether the &lt;code&gt;nvim&lt;/code&gt; switch is worth it.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: vim ‚Üí nvim"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/vim/"&gt;#vim&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Pi</title><link>https://perrotta.dev/2025/12/pi/</link><pubDate>Tue, 23 Dec 2025 11:45:10 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/12/pi/</guid><description>&lt;p&gt;Mario Zechner&amp;rsquo;s pi (&lt;a href="https://steipete.me/posts/2025/signature-flicker"&gt;via Peter Steinberger&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Mario Zechner&amp;rsquo;s pi is currently the gold-standard for differential rendering,
while also using all tricks of modern terminals ‚Äî including showing inline
images:&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This paragraph was enough to entice my curiosity to try it out.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://shittycodingagent.ai/"&gt;https://shittycodingagent.ai/&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;There are many shitty coding agents, but this one is mine.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Features&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Minimal. Opinionated. Extensible.&lt;/p&gt;
&lt;p&gt;Lean core keeps your context clean. Use only what you need.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This was love at first sight.&lt;/p&gt;
&lt;p&gt;Sounds &lt;a href="https://miniflux.app/"&gt;familiar&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;I love its philosophy:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What we didn&amp;rsquo;t build&lt;/p&gt;
&lt;p&gt;pi is opinionated about what it won&amp;rsquo;t do. These are intentional design
decisions to minimize context bloat and avoid anti-patterns.&lt;/p&gt;
&lt;p&gt;‚Äî No MCP. Build CLI tools with READMEs (see Skills). The agent reads them on demand. Would you like to know more? If you must, use mcporter.
‚Äî No sub-agents. Spawn pi instances via tmux, or build your own sub-agent tool. Observability and steerability for you and the agent.
‚Äî No permission popups. Security theater. Run in a container or build your own with Hooks.
‚Äî No plan mode. Gather context in one session, write plans to file, start fresh for implementation.
‚Äî No built-in to-dos. They confuse models. Use a TODO.md file, or build your own with custom tools.
‚Äî No background bash. Use tmux. Full observability, direct interaction.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;The full rationale is in the &lt;a href="https://mariozechner.at/posts/2025-11-30-pi-coding-agent/"&gt;blog
post&lt;/a&gt;, which is a
very recommended read.&lt;/p&gt;
&lt;p&gt;We need more of this. It is currently one of my favorite CLI agents, alongside
Claude Code (the golden standard) and Amp Code.&lt;/p&gt;
&lt;p&gt;Note that &lt;code&gt;pi&lt;/code&gt; is model agnostic, comparable to
&lt;a href="https://opencode.ai/"&gt;OpenCode&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Pi"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ git: stash untracked files</title><link>https://perrotta.dev/2025/12/git-stash-untracked-files/</link><pubDate>Mon, 22 Dec 2025 02:30:06 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2025/12/git-stash-untracked-files/</guid><description>&lt;p&gt;As I write this very post, this is what my git repository status looks like:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git st
## master...origin/master
?? content/posts/2025-12-22-git-stash-untracked.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;What if I wanted to stash it?&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git stash
No local changes to save
% git st
## master...origin/master
?? content/posts/2025-12-22-git-stash-untracked.md&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Nothing happens, because this post is a new file, not yet tracked by git.&lt;/p&gt;
&lt;p&gt;The classic way to address this is to switch to another branch, commit
everything (e.g. with &lt;a href="https://perrotta.dev/2025/03/git-freeze-git-thaw/"&gt;&lt;code&gt;git-freeze&lt;/code&gt;&lt;/a&gt;), and then switch back. But this is slow.&lt;/p&gt;
&lt;p&gt;Today I learned about &lt;code&gt;git stash -u&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;-u, --include-untracked, --no-include-untracked
 When used with the push and save commands, all untracked files are also stashed and then cleaned up with git clean.

 When used with the show command, show the untracked files in the
 stash entry as part of the diff.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Let&amp;rsquo;s try it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% git stash -u
Saved working directory and index state WIP on master: 58cde6e88 hide codeblock header in RSS feeds
% git st
## master...origin/master&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The new post gets stashed indeed!&lt;/p&gt;
&lt;p&gt;I don&amp;rsquo;t know how I missed this feature ‚Äì I&amp;rsquo;ve wanted this functionality for
&lt;code&gt;stash&lt;/code&gt; since forever!&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git: stash untracked files"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ .apk-new</title><link>https://perrotta.dev/2025/12/.apk-new/</link><pubDate>Mon, 22 Dec 2025 01:00:02 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>alpine-linux</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/.apk-new/</guid><description>&lt;p&gt;After running an Alpine Linux server for a couple of months (or years), you&amp;rsquo;ll
inevitably find a couple of &lt;code&gt;.apk-new&lt;/code&gt; files scattered in your filesystem within
&lt;code&gt;/etc&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% doas find / -name &amp;#34;*.apk-new&amp;#34;
/etc/rc.conf.apk-new
/etc/inittab.apk-new
/etc/fstab.apk-new
/etc/ssh/sshd_config.apk-new
/etc/passwd.apk-new
/etc/crontabs/root.apk-new
/etc/group.apk-new
/etc/ufw/ufw.conf.apk-new
/etc/ufw/user6.rules.apk-new
/etc/ufw/user.rules.apk-new
/etc/abuild.conf.apk-new
/etc/default/grub.apk-new
/etc/shadow.apk-new
/etc/network/interfaces.apk-new
/etc/profile.d/locale.sh.apk-new
/etc/doas.conf.apk-new&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;As per the &lt;a href="https://docs.alpinelinux.org/user-handbook/0.1a/Working/apk.html#_installing_packages"&gt;alpine user
handbook&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Installing a package means that the package itself will be downloaded from a
repository (specified in /etc/apk/repositories) and unpacked to the system.
Existing files will be overwritten. An exception are configuration files in
/etc, which will be preserved. The configuration files (which comes from the
package) will be renamed to *.apk-new.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;It&amp;rsquo;s very similar to what happens in Arch Linux with
&lt;a href="https://wiki.archlinux.org/title/Pacman/Pacnew_and_Pacsave"&gt;&lt;code&gt;.pacnew&lt;/code&gt;&lt;/a&gt; files.
Arch Linux has an utility called
&lt;a href="https://wiki.archlinux.org/title/Pacman/Pacnew_and_Pacsave#pacdiff"&gt;&lt;code&gt;pacdiff&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;It will search for .pacnew, .pacsave and .pacorig files, and will then prompt
to take action upon them.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip;and also in Gentoo Linux with
&lt;a href="https://wiki.gentoo.org/wiki/Etc-update"&gt;&lt;code&gt;etc-update&lt;/code&gt;&lt;/a&gt; or
&lt;a href="https://wiki.gentoo.org/wiki/Dispatch-conf"&gt;&lt;code&gt;dispatch-conf&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Alpine Linux lacks such an utility, to the best of my knowledge.&lt;/p&gt;
&lt;p&gt;As such, I vibe coded one in &lt;a href="https://github.com/thiagowfx/pancake"&gt;&lt;code&gt;pancake&lt;/code&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;I hereby introduce &lt;a href="https://github.com/thiagowfx/pancake/tree/master/apknew"&gt;&lt;code&gt;apknew&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Reconcile .apk-new configuration files on Alpine Linux, similar to pacdiff on
Arch Linux.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;By default, it operates on &lt;code&gt;/etc&lt;/code&gt; only.&lt;/p&gt;
&lt;p&gt;A sample run looks like the following, prompting a pair of files at a time:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;==============================================
File: /etc/crontabs/root.apk-new
Original: /etc/crontabs/root
==============================================

[v]iew diff [k]eep original [r]eplace with new [m]erge [s]kip
Action:&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;You&amp;rsquo;ll want to hit &lt;code&gt;v&lt;/code&gt; first to inspect the diff, and then decide whether to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;keep the original file&lt;/li&gt;
&lt;li&gt;replace it with the newer package file&lt;/li&gt;
&lt;li&gt;interactively merge them (e.g. with &lt;code&gt;vimdiff&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;do nothing (skip)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;It&amp;rsquo;s much easier than diffing each file manually.&lt;/p&gt;
&lt;p&gt;Another example:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% apknew/apknew.sh
Searching for .apk-new files in /etc...
Found 14 file(s) to process.

==============================================
File: /etc/passwd.apk-new
Original: /etc/passwd
==============================================

[v]iew diff [k]eep original [r]eplace with new [m]erge [s]kip
Action: s
Skipping /etc/passwd.apk-new...

==============================================
File: /etc/shells.apk-new
Original: /etc/shells
==============================================

[v]iew diff [k]eep original [r]eplace with new [m]erge [s]kip
Action: v
--- /etc/shells	2025-12-21 11:07:42.531531775 -0500
&amp;#43;&amp;#43;&amp;#43; /etc/shells.apk-new	2025-12-15 09:00:47.000000000 -0500
@@ -1,5 &amp;#43;1,3 @@
 # valid login shells
 /bin/sh
 /bin/ash
-/bin/zsh
-/bin/bash

[v]iew diff [k]eep original [r]eplace with new [m]erge [s]kip
Action: k
Removing /etc/shells.apk-new...
Done. Kept original file.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: .apk-new"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/alpine-linux/"&gt;#alpine-linux&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ friendly_ping: track your stale GitHub pull requests</title><link>https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/</link><pubDate>Thu, 04 Dec 2025 18:36:16 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/</guid><description>&lt;p&gt;I released a new tool:
&lt;a href="https://github.com/thiagowfx/pancake/tree/master/friendly_ping"&gt;&lt;strong&gt;friendly_ping&lt;/strong&gt;&lt;/a&gt;,
a shell script to list all your open GitHub pull requests (still) waiting for
review.&lt;/p&gt;
&lt;h2 id="problem"&gt;Problem&lt;/h2&gt;
&lt;p&gt;When contributing to multiple repositories on GitHub, it&amp;rsquo;s easy to lose track of
which PRs are waiting for reviewer feedback&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. You end up doing one of:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Manually checking GitHub every few days&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;Forgetting about contributions entirely&lt;sup id="fnref:3"&gt;&lt;a href="https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/#fn:3" class="footnote-ref" role="doc-noteref"&gt;3&lt;/a&gt;&lt;/sup&gt;&lt;/li&gt;
&lt;li&gt;Having no visibility into the review status across various projects&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="solution"&gt;Solution&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;friendly_ping&lt;/code&gt; queries the GitHub API and groups your open PRs by repository:&lt;/p&gt;
&lt;div class="codeblock" data-lang="bash"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;bash&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;$ friendly_ping

helm/helm
 fix(helm-lint): do not validate metadata.name for List resources
 https://github.com/helm/helm/pull/31169
 Reviewers: john, jane

 docs: update helm plugin installation guide
 https://github.com/helm/helm/pull/31204
 Reviewers: jane

loeffel-io/ls-lint
 feat: introduce a json schema file for ls-lint
 https://github.com/loeffel-io/ls-lint/pull/256&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;em&gt;(The examples above are semi-fictitious.)&lt;/em&gt;&lt;/p&gt;
&lt;h2 id="features"&gt;Features&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;Filtering&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Filter by organization: &lt;code&gt;friendly_ping --org helm&lt;/code&gt; (your company)&lt;/li&gt;
&lt;li&gt;Filter by date range: &lt;code&gt;friendly_ping --created-after &amp;quot;30 days&amp;quot;&lt;/code&gt; (find old PRs)&lt;/li&gt;
&lt;li&gt;Filter by specific repos: &lt;code&gt;friendly_ping thiagowfx/.dotfiles thiagowfx/pre-commit-hooks&lt;/code&gt; (or one repo at a time)&lt;/li&gt;
&lt;li&gt;Filter by reviewer/assignee: &lt;code&gt;friendly_ping --involves alice --detailed&lt;/code&gt;
(filter by a specific teammate, handy for your 1:1s)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Grouping&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;By reviewer: &lt;code&gt;friendly_ping --group-by reviewer --detailed&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;By assignee: &lt;code&gt;friendly_ping --group-by assignee --detailed&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;By user (reviewers and assignees combined): &lt;code&gt;friendly_ping --group-by user --detailed&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The default grouping is per repo.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Comments&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Add &amp;ldquo;friendly ping&amp;rdquo; comments to PRs: &lt;code&gt;friendly_ping --comment&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Custom messages: &lt;code&gt;friendly_ping --comment &amp;quot;Please review when you get a chance. Deadline is approaching!&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Automatically skips PRs wherein you already commented&lt;/li&gt;
&lt;li&gt;Appends context about how long the PR has been waiting (&amp;ldquo;waiting for 3 days&amp;rdquo;)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Other modes&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;JSON output: &lt;code&gt;friendly_ping --json&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Quiet mode for scripts: &lt;code&gt;friendly_ping --quiet &amp;amp;&amp;amp; echo &amp;quot;You have open PRs&amp;quot;&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="prerequisites"&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;gh&lt;/code&gt; (GitHub CLI) ‚Äî preferred method, or &lt;code&gt;curl&lt;/code&gt; as fallback&lt;/li&gt;
&lt;li&gt;&lt;code&gt;jq&lt;/code&gt; ‚Äî for JSON processing&lt;/li&gt;
&lt;li&gt;Git configured with &lt;code&gt;user.name&lt;/code&gt; (or use &lt;code&gt;--user&lt;/code&gt; flag)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="repository"&gt;Repository&lt;/h2&gt;
&lt;p&gt;Contributions welcome. This was fully vibe-coded with &lt;a href="https://ampcode.com/"&gt;Amp
Code&lt;/a&gt;. The CLI design was fully my own.&lt;/p&gt;
&lt;p&gt;This could be extended beyond GitHub, naturally.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Some people take forever to review PRs / CLs&amp;hellip;&amp;#160;&lt;a href="https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;Or multiple times a day.&amp;#160;&lt;a href="https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:3"&gt;
&lt;p&gt;The non-urgent ones.&amp;#160;&lt;a href="https://perrotta.dev/2025/12/friendly_ping-track-your-stale-github-pull-requests/#fnref:3" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: friendly_ping: track your stale GitHub pull requests"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude Code: notify when needed</title><link>https://perrotta.dev/2025/12/claude-code-notify-when-needed/</link><pubDate>Thu, 04 Dec 2025 02:36:16 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/12/claude-code-notify-when-needed/</guid><description>&lt;p&gt;This is one little productivity boost to make you a 10x Engineer! None of the
popular AI blogs talk about this!!1!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Make Claude Code emit a chime whenever it needs
attention.&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;commit e668b387b6b34943143b046ad915effbd3945601
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Thu Dec 4 02:33:11 2025 -0300

 add a notification hook

diff --git claude/.claude/settings.json claude/.claude/settings.json
index 1979baf..1ac35da 100644
--- claude/.claude/settings.json
&amp;#43;&amp;#43;&amp;#43; claude/.claude/settings.json
@@ -1,7 &amp;#43;1,20 @@
 {
 &amp;#34;env&amp;#34;: {
 &amp;#34;CLAUDE_CODE_ENABLE_TELEMETRY&amp;#34;: &amp;#34;0&amp;#34;
 },
&amp;#43; &amp;#34;hooks&amp;#34;: {
&amp;#43; &amp;#34;Notification&amp;#34;: [
&amp;#43; {
&amp;#43; &amp;#34;hooks&amp;#34;: [
&amp;#43; {
&amp;#43; &amp;#34;command&amp;#34;: &amp;#34;afplay /System/Library/Sounds/Glass.aiff &amp;amp;&amp;#34;,
&amp;#43; &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;
&amp;#43; }
&amp;#43; ]
&amp;#43; }
&amp;#43; ]
&amp;#43; },&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This is the JSON snippet for ease of copy and paste, you&amp;rsquo;ll add it to your
&lt;code&gt;~/.claude/settings.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;#34;hooks&amp;#34;: {
 &amp;#34;Notification&amp;#34;: [
 {
 &amp;#34;hooks&amp;#34;: [
 {
 &amp;#34;command&amp;#34;: &amp;#34;afplay /System/Library/Sounds/Glass.aiff &amp;amp;&amp;#34;,
 &amp;#34;type&amp;#34;: &amp;#34;command&amp;#34;
 }
 ]
 }
 ]
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This command is for macOS only, but it could be easily adapted to Linux (use
&lt;code&gt;aplay&lt;/code&gt; instead).&lt;/p&gt;
&lt;p&gt;&lt;a href="https://code.claude.com/docs/en/hooks#notification"&gt;Claude Code Hooks docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Runs when Claude Code sends notifications. Supports matchers to filter by
notification type.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;macOS ships with various system sounds in &lt;code&gt;/System/Library/Sounds&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;This inspiration came from &lt;a href="https://ampcode.com/"&gt;Amp Code&lt;/a&gt;. Amp plays the
&lt;code&gt;Submarine.aiff&lt;/code&gt; sound by default.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: notify when needed"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Try</title><link>https://perrotta.dev/2025/12/try/</link><pubDate>Tue, 02 Dec 2025 12:50:10 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/12/try/</guid><description>&lt;p&gt;Inspired by &lt;a href="https://github.com/tobi/try"&gt;&lt;code&gt;tobi/try&lt;/code&gt;&lt;/a&gt;
(&lt;a href="https://world.hey.com/dhh/six-billion-reasons-to-cheer-for-shopify-55720846"&gt;via&lt;/a&gt;),
I created my own &lt;code&gt;try&lt;/code&gt; in &lt;a href="https://github.com/thiagowfx/pancake/tree/master/try"&gt;pancake&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Interactive ephemeral workspace manager.&lt;/p&gt;
&lt;p&gt;Create and navigate to temporary project directories with fuzzy finding,
automatic date-prefixing, and recency scoring. Automatically spawns a new
shell in the selected workspace.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Usage:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% try &amp;#43;feature
thiago@thiagoperrotta-MacBook-Pro ~/workspace/tries/2025-12-02-feature&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This creates a dated throwaway directory wherein to make experiments. I need not
worry about deleting it later.&lt;/p&gt;
&lt;p&gt;If, in the future, I need to recall that experiment, I can simply run
&lt;code&gt;try feature&lt;/code&gt;. It will open &lt;code&gt;fzf&lt;/code&gt; with fuzzy finding, prompting me to select a
workspace.&lt;/p&gt;
&lt;p&gt;Normally I delete these directories. This workflow encourages me to keep them
around, should I need to recall something from them.&lt;/p&gt;
&lt;p&gt;For &lt;em&gt;truly&lt;/em&gt; throwaway directories, use &lt;a href="https://perrotta.dev/2024/10/cdtmp-change-to-a-temporary-directory/"&gt;&lt;code&gt;cdtmp&lt;/code&gt;&lt;/a&gt;
instead.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Try"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Canary tokens</title><link>https://perrotta.dev/2025/11/canary-tokens/</link><pubDate>Sun, 30 Nov 2025 19:30:23 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>privacy</category><category>security</category><guid>https://perrotta.dev/2025/11/canary-tokens/</guid><description>&lt;p&gt;&lt;a href="https://canarytokens.org/"&gt;Canary Tokens&lt;/a&gt;,
&lt;a href="https://docs.canarytokens.org/guide/"&gt;introduction&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;What are Canarytokens&lt;/p&gt;
&lt;p&gt;Canarytokens are like motion sensors for your networks, computers and clouds.
You can put them in folders, on network devices and on your phones.&lt;/p&gt;
&lt;p&gt;Place them where nobody should be poking around and get a clear alarm if they
are accessed. They are designed to look juicy to attackers to increase the
likelihood that they are opened (and they are completely free).&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;They are like &lt;a href="https://en.wikipedia.org/wiki/Honeypot_%28computing%29"&gt;honeypots&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;They are like a digital version of &lt;a href="https://www.apple.com/airtag/"&gt;Air Tags&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Our Canarytokens are easy to sprinkle all over and forget about, until you get
the notification that matters. They are super lightweight and don&amp;rsquo;t require
installing software or running more background processes that can slow down
your PC.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I especially like the idea of the &lt;a href="https://canarytokens.org/nest/"&gt;Credit Card
Token&lt;/a&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;We give you unique Credit Card details&lt;/p&gt;
&lt;p&gt;You place it somewhere.&lt;/p&gt;
&lt;p&gt;We send you an alert when that Credit Card is used.&lt;/p&gt;
&lt;p&gt;Ideas for using the Credit Card token:&lt;/p&gt;
&lt;p&gt;You can use any name or address in association with the card number and CVV&lt;/p&gt;
&lt;p&gt;Stick this in a database that stores payment information and get alerted if it
is ever breached.&lt;/p&gt;
&lt;p&gt;Put it in a document with other personal information regarding e.g., travel
preferences in case someone snoops around your computer&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;There are various other canary tokens that are super useful.&lt;/p&gt;
&lt;p&gt;It&amp;rsquo;s like &lt;a href="https://www.youtube.com/watch?v=S03VAuxH7lM"&gt;adding tripping wires&lt;/a&gt;
all over the place.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://blueclouddrive.com/"&gt;See also&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Canary tokens"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/privacy/"&gt;#privacy&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Atuin</title><link>https://perrotta.dev/2025/11/atuin/</link><pubDate>Sun, 30 Nov 2025 13:35:54 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>fosdem</category><guid>https://perrotta.dev/2025/11/atuin/</guid><description>&lt;p&gt;My current workflow to manage shell history is simple, I have this config in
my &lt;code&gt;~/.zshrc.d/&lt;/code&gt;&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# fzf: fuzzy file finder
if (( $&amp;#43;commands[fzf] )); then
 # alpine/arch, debian
 src_files {/usr/share/fzf,/usr/share/doc/fzf/examples}/{completion,key-bindings}.zsh

 # brew
 if (( $&amp;#43;commands[brew] )); then
 src_files &amp;#34;$(brew --prefix)&amp;#34;/opt/fzf/shell/{completion,key-bindings}.zsh
 fi
fi&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://github.com/junegunn/fzf"&gt;&lt;code&gt;fzf&lt;/code&gt;&lt;/a&gt; does it all.&lt;/p&gt;
&lt;p&gt;I hit &lt;code&gt;C-r&lt;/code&gt; and get fuzzy finding over all my &lt;code&gt;history&lt;/code&gt;, this has been
overpowering my productivity for ages, likely since university.&lt;/p&gt;
&lt;p&gt;Then I found out I could go one step further.&lt;/p&gt;
&lt;p&gt;Enter &lt;a href="https://atuin.sh"&gt;Atuin&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Making your shell magical&lt;/p&gt;
&lt;p&gt;Sync, search and backup shell history with Atuin.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Installing &lt;code&gt;atuin&lt;/code&gt; is simple: it&amp;rsquo;s available &lt;a href="https://repology.org/project/atuin/versions"&gt;everywhere&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;brew install atuin&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Configuring &lt;code&gt;atuin&lt;/code&gt; is simple, start by adding this snippet to your &lt;code&gt;/.zshrc&lt;/code&gt;
file&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/11/atuin/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# atuin: https://docs.atuin.sh/
(( $&amp;#43;commands[atuin] )) &amp;amp;&amp;amp; eval &amp;#34;$(atuin init zsh --disable-up-arrow)&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now run &lt;code&gt;atuin import auto&lt;/code&gt; to import your shell history entries to &lt;code&gt;atuin&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;By default, &lt;code&gt;atuin init&lt;/code&gt; binds both &lt;code&gt;C-r&lt;/code&gt; and the up arrow. I find the up
arrow binding disruptive.&lt;/p&gt;
&lt;p&gt;I want my workflow to stay as close as possible to &lt;code&gt;fzf&lt;/code&gt; &lt;code&gt;C-r&lt;/code&gt;.
&lt;a href="https://docs.atuin.sh/configuration/key-binding/#disable-up-arrow"&gt;&lt;code&gt;--disable-up-arrow&lt;/code&gt;&lt;/a&gt;
is essential for that.&lt;/p&gt;
&lt;p&gt;Pressing &lt;code&gt;C-r&lt;/code&gt; will invoke a fuzzy find window that behaves similarly to &lt;code&gt;fzf&lt;/code&gt;,
though it&amp;rsquo;s more powerful. It&amp;rsquo;s hard to describe, you must try it out.&lt;/p&gt;
&lt;p&gt;This is enough to make the migration. Which makes me feel bad for having
procrastinated for so long to do so. Trying out &lt;code&gt;atuin&lt;/code&gt; has been in my TODO list
for ages!&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s an optional step of syncing your history with their remote cloud. Or
with your own, because there&amp;rsquo;s an option of self-hosting a server (&lt;code&gt;atuin server start&lt;/code&gt;). Self-hosting is optimal, but trying out their cloud first to get a feel
of the sync experience is reasonable.&lt;/p&gt;
&lt;p&gt;Syncing happens every hour by default, but this is configurable.&lt;/p&gt;
&lt;p&gt;See &lt;a href="https://docs.atuin.sh/reference/sync/"&gt;sync docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Atuin can back up your history to a server, and use this to ensure multiple
machines have the same shell history. This is all encrypted end-to-end, so the
server operator can never see your data!&lt;/p&gt;
&lt;p&gt;Anyone can host a server (try atuin server start, more docs to follow), but I
host one at &lt;a href="https://api.atuin.sh"&gt;https://api.atuin.sh&lt;/a&gt;. This is the default server address, which
can be changed in the config. Again, I cannot see your data, and do not want
to.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;You can create a &lt;code&gt;~/.config/atuin/config.toml&lt;/code&gt; to customize &lt;code&gt;atuin&lt;/code&gt;. I added
this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="toml"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;toml&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-toml"&gt;## With workspace filtering enabled, Atuin will filter for commands executed
## in any directory within a git repository tree (default: false).
##
## To use workspace mode by default when available, set this to true and
## set filter_mode to &amp;#34;workspace&amp;#34; or leave it unspecified and
## set search.filters to include &amp;#34;workspace&amp;#34; before other filter modes.
# workspaces = false
workspaces = true

## which filter mode to use when atuin is invoked from a shell up-key binding
## the accepted values are identical to those of &amp;#34;filter_mode&amp;#34;
## leave unspecified to use same mode set in &amp;#34;filter_mode&amp;#34;
# filter_mode_shell_up_key_binding = &amp;#34;global&amp;#34;
filter_mode_shell_up_key_binding = &amp;#34;directory&amp;#34;

## Defaults to true. If enabled, upon hitting enter Atuin will immediately execute the command. Press tab to return to the shell and edit.
# This applies for new installs. Old installs will keep the old behaviour unless configured otherwise.
# Similarly to fzf C-r
enter_accept = false

## Defaults to &amp;#34;emacs&amp;#34;. This specifies the keymap on the startup of `atuin
## search`. If this is set to &amp;#34;auto&amp;#34;, the startup keymap mode in the Atuin
## search is automatically selected based on the shell&amp;#39;s keymap where the
## keybinding is defined. If this is set to &amp;#34;emacs&amp;#34;, &amp;#34;vim-insert&amp;#34;, or
## &amp;#34;vim-normal&amp;#34;, the startup keymap mode in the Atuin search is forced to be
## the specified one.
# keymap_mode = &amp;#34;auto&amp;#34;
keymap_mode = &amp;#34;vim-insert&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;code&gt;enter_accept&lt;/code&gt; is an important tweak to resemble &lt;code&gt;fzf&lt;/code&gt;. By default, pressing
Enter when looking up history entries in &lt;code&gt;atuin&lt;/code&gt; will automatically execute the
command. In &lt;code&gt;fzf&lt;/code&gt; you have an opportunity to edit/tweak the command before
execution, which is what I prefer. Set &lt;code&gt;enter_accept = false&lt;/code&gt; to achieve the
same behavior in &lt;code&gt;atuin&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;atuin&lt;/code&gt; has an option to manage
&lt;a href="https://docs.atuin.sh/guide/dotfiles/"&gt;dotfiles&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;While Atuin started as a tool for syncing and searching shell history, we are
building tooling for syncing dotfiles across machines, and making them easier
to work with.&lt;/p&gt;
&lt;p&gt;At the moment, we support managing and syncing of shell aliases and
environment variables ‚Äî with more coming soon.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip;but I don&amp;rsquo;t feel the need to use this.&lt;/p&gt;
&lt;p&gt;The magic of &lt;code&gt;atuin&lt;/code&gt;, when using multiple computers is its shell history
synchronization. Picking up the slack in my personal computer would reveal my
work computer history and vice-versa. In some environments this is very
welcome!&lt;/p&gt;
&lt;p&gt;Also cool: &lt;code&gt;stats&lt;/code&gt; for free:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% atuin stats
[‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ] 4540 git commit
[‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ ] 3062 ack
[‚ñÆ‚ñÆ‚ñÆ‚ñÆ‚ñÆ ] 2636 vim
[‚ñÆ‚ñÆ ] 1304 cd
[‚ñÆ‚ñÆ ] 1240 fd
[‚ñÆ‚ñÆ ] 1186 tsh
[‚ñÆ‚ñÆ ] 915 grep
[‚ñÆ‚ñÆ ] 913 just
[‚ñÆ ] 822 git add
[‚ñÆ ] 818 git nb
Total commands: 29464
Unique commands: 20610&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Query past entries with a SQL-like CLI:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% atuin search --exit 0 --after=&amp;#34;4 months ago&amp;#34; &amp;#34;^skopeo&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Clearly I&amp;rsquo;m a die-hard &lt;a href="https://beyondgrep.com/"&gt;&lt;code&gt;ack&lt;/code&gt;&lt;/a&gt; fan. Will I ever switch
to &lt;a href="https://github.com/BurntSushi/ripgrep"&gt;&lt;code&gt;rg&lt;/code&gt;&lt;/a&gt;?&lt;/p&gt;
&lt;p&gt;&lt;a href="https://just.systems/"&gt;&lt;code&gt;just&lt;/code&gt;&lt;/a&gt; is starting to become part of my core tool belt.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;See also&lt;/strong&gt;: &lt;a href="https://archive.fosdem.org/2023/schedule/event/rust_atuin_magical_shell_history_with_rust/"&gt;Tech
Talk&lt;/a&gt;,
including
&lt;a href="https://archive.fosdem.org/2023/schedule/event/rust_atuin_magical_shell_history_with_rust/attachments/slides/5735/export/events/attachments/rust_atuin_magical_shell_history_with_rust/slides/5735/Atuin_FOSDEM_1.pdf"&gt;slides&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Next chapter: &lt;a href="https://github.com/atuinsh/desktop"&gt;Atuin Desktop&lt;/a&gt;.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;&lt;code&gt;bash&lt;/code&gt;, &lt;code&gt;fish&lt;/code&gt;, &lt;code&gt;xonsh&lt;/code&gt; are also supported at the time of this writing.&amp;#160;&lt;a href="https://perrotta.dev/2025/11/atuin/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Atuin"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/fosdem/"&gt;#fosdem&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ python-is-python3 with macOS homebrew</title><link>https://perrotta.dev/2025/11/python-is-python3-with-macos-homebrew/</link><pubDate>Sun, 30 Nov 2025 00:22:28 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>macos</category><guid>https://perrotta.dev/2025/11/python-is-python3-with-macos-homebrew/</guid><description>&lt;p&gt;I face this annoyance all the time:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;thiago@thiagoperrotta-MacBook-Pro ~
% python
zsh: command not found: python
127 thiago@thiagoperrotta-MacBook-Pro ~
% python3
Python 3.14.0 (main, Oct 7 2025, 09:34:52) [Clang 17.0.0 (clang-1700.0.13.3)] on darwin
Type &amp;#34;help&amp;#34;, &amp;#34;copyright&amp;#34;, &amp;#34;credits&amp;#34; or &amp;#34;license&amp;#34; for more information.
&amp;gt;&amp;gt;&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The &lt;code&gt;python&lt;/code&gt; executable is not available on macOS natively.&lt;/p&gt;
&lt;p&gt;It is not available on homebrew either, even with &lt;code&gt;brew install python&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;python3&lt;/code&gt; is there though:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% which -a python3
/opt/homebrew/bin/python3
/usr/bin/python3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I want to be able to run &lt;code&gt;python&lt;/code&gt; without having to remember I am running
Python 3. Python 3 is the &lt;em&gt;de facto standard&lt;/em&gt; in the 2020s, there should be no
need to remember this explicitly, we take it as gospel already.&lt;/p&gt;
&lt;p&gt;There are various ways to resolve this:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;alias python=python3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Classic. I hate it. Now you&amp;rsquo;ll have a &lt;code&gt;python&lt;/code&gt; alias even if &lt;code&gt;python3&lt;/code&gt; is not
available. This is not elegant at all. You could make it a bit better, sure:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;command -v python3 &amp;gt;/dev/null 2&amp;gt;&amp;amp;1 &amp;amp;&amp;amp; alias python=python3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Or even a bit more idiomatically if using &lt;code&gt;zsh&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;(( $&amp;#43;commands[python3] )) &amp;amp;&amp;amp; alias python=python3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Still, this is not a problem the shell should own. It just &lt;em&gt;feels&lt;/em&gt; wrong. This
is a package management problem. The shell remedy is just a cheap band-aid.
Can we do better than this?&lt;/p&gt;
&lt;p&gt;What about a wrapper script in &lt;code&gt;/usr/local/bin&lt;/code&gt;?&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;#!/usr/bin/env bash
exec python3 &amp;#34;$@&amp;#34;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;This is better. Much better. However, why not make it even simpler?&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% sudo ln -s /usr/bin/python3 /usr/local/bin/python&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;A symlink suffices. You just need to decide whether to point it out to &lt;code&gt;python3&lt;/code&gt;
in homebrew or in the system.&lt;/p&gt;
&lt;p&gt;A symlink is not reproducible&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/11/python-is-python3-with-macos-homebrew/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt; though. If you reinstall your system, or acquire a
new one, now you&amp;rsquo;ll have to remember to re-create it.&lt;/p&gt;
&lt;p&gt;Sure, you could script it in your .dotfiles installation script, or add it to
the system installation notes section in your second brain app. Who am I to tell
you what to do?&lt;/p&gt;
&lt;p&gt;Here is my favorite way to address the issue: install a package!&lt;/p&gt;
&lt;p&gt;For example, there was a time in Debian and Ubuntu that the
&lt;a href="https://packages.debian.org/sid/python-is-python3"&gt;&lt;code&gt;python-is-python3&lt;/code&gt;&lt;/a&gt; package
did exactly that:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;This is a convenience package which ships a symlink to point the
/usr/bin/python interpreter at the current default python3. It may improve
compatibility with other modern systems, whilst breaking some obsolete or
3rd-party software.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Now you can guess what the source of my inspiration was. I created a homebrew
formula to do the same:&lt;/p&gt;
&lt;div class="codeblock" data-lang="ruby"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;ruby&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ruby"&gt;class PythonIsPython3 &amp;lt; Formula
 desc &amp;#34;Make python point to python3&amp;#34;
 homepage &amp;#34;https://github.com/thiagowfx/homebrew-taps&amp;#34;
 url &amp;#34;file:///dev/null&amp;#34;
 version &amp;#34;1.0&amp;#34;
 sha256 &amp;#34;e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855&amp;#34;

 depends_on &amp;#34;python&amp;#34;

 def install
 bin.install_symlink Formula[&amp;#34;python&amp;#34;].opt_bin/&amp;#34;python3&amp;#34; =&amp;gt; &amp;#34;python&amp;#34;
 bin.install_symlink Formula[&amp;#34;python&amp;#34;].opt_bin/&amp;#34;pip3&amp;#34; =&amp;gt; &amp;#34;pip&amp;#34;
 end
end&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;And now that I have a formula, I need to create a tap to host it somewhere.&lt;/p&gt;
&lt;p&gt;Hence &lt;a href="https://github.com/thiagowfx/homebrew-taps"&gt;https://github.com/thiagowfx/homebrew-taps&lt;/a&gt; is born.&lt;/p&gt;
&lt;p&gt;To install it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;brew tap thiagowfx/taps
brew install python-is-python3&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Enjoy peace!&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% which python
/opt/homebrew/bin/python&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;This is a very loose usage of &amp;ldquo;reproducible&amp;rdquo;. Sorry Nix folks, I meant no
harm!&amp;#160;&lt;a href="https://perrotta.dev/2025/11/python-is-python3-with-macos-homebrew/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: python-is-python3 with macOS homebrew"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/macos/"&gt;#macos&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ git: prune stale branches</title><link>https://perrotta.dev/2025/11/git-prune-stale-branches/</link><pubDate>Thu, 27 Nov 2025 18:04:45 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>git</category><guid>https://perrotta.dev/2025/11/git-prune-stale-branches/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Delete all local git branches whose counterpart remote
branches have already been merged upstream.&lt;/p&gt;
&lt;p&gt;Update &lt;code&gt;~/.gitconfig&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="ini"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;ini&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ini"&gt;[alias]
 prune-gone = !git fetch -p &amp;amp;&amp;amp; git branch -vv | awk &amp;#39;/: gone]/{print $1}&amp;#39; | xargs -r git branch -D
 world = !git fetch --all &amp;amp;&amp;amp; git remote prune origin &amp;amp;&amp;amp; git prune &amp;amp;&amp;amp; git prune-gone&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Now simply run &lt;code&gt;git prune-gone&lt;/code&gt; ‚Äì or, even better, &lt;code&gt;git world&lt;/code&gt; for a more
complete cleanup.&lt;/p&gt;
&lt;p&gt;This is much more ergonomic than hunting down individual branches and doing &lt;code&gt;git push origin :{my branch}&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Example usage:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% ~/Workspace/pancake (git)-[master]
% git world
From github.com:thiagowfx/pancake
 - [deleted] (none) -&amp;gt; origin/thiagowfx/apkbuild-sync
 - [deleted] (none) -&amp;gt; origin/thiagowfx/wt-no-origin-graceful
remote: Enumerating objects: 13, done.
remote: Counting objects: 100% (13/13), done.
remote: Compressing objects: 100% (5/5), done.
remote: Total 8 (delta 5), reused 3 (delta 3), pack-reused 0 (from 0)
Unpacking objects: 100% (8/8), 2.61 KiB | 668.00 KiB/s, done.
 f727bd7..51f81ee master -&amp;gt; origin/master
Deleted branch thiagowfx/wt-cd-dash (was 6403261).&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: git: prune stale branches"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/git/"&gt;#git&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ The almighty Blogroll</title><link>https://perrotta.dev/2025/11/the-almighty-blogroll/</link><pubDate>Tue, 25 Nov 2025 14:13:57 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/the-almighty-blogroll/</guid><description>&lt;p&gt;It&amp;rsquo;s about time: I added a &lt;a href="https://perrotta.dev/blogroll/"&gt;blogroll&lt;/a&gt; to my site.&lt;/p&gt;
&lt;p&gt;The list comprises not even 10% of my subscriptions, but it was carefully
curated.&lt;/p&gt;
&lt;p&gt;I am just trying to do my part to keep the &lt;a href="https://indieweb.org/"&gt;Indie Web&lt;/a&gt;
alive. :)&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: The almighty Blogroll"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Stow</title><link>https://perrotta.dev/2025/11/stow/</link><pubDate>Mon, 24 Nov 2025 02:17:08 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/11/stow/</guid><description>&lt;p&gt;For a long time I wanted to write a blog post about &lt;code&gt;stow&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;My procrastination has paid off: &lt;a href="https://pbrisbin.com/posts/stow/"&gt;pbrisbin&lt;/a&gt;
has written one first.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I recently migrated my dotfiles from rcm to GNU Stow. I didn&amp;rsquo;t really have a
reason, I wasn&amp;rsquo;t unhappy with rcm at all, but I saw Stow mentioned somewhere
and felt like trying it out. After migrating, I still don&amp;rsquo;t have strong
feelings ‚Äì both tools are appropriately good and boring ‚Äì but I can at least
now speak to the differences and maybe that would help someone out there
decide for their own dotfiles.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I am also a former user of
&lt;a href="https://thoughtbot.com/blog/rcm-for-rc-files-in-dotfiles-repos"&gt;rcm&lt;/a&gt;. I share
the same considerations as the author.&lt;/p&gt;
&lt;p&gt;I am quite happy with &lt;code&gt;stow&lt;/code&gt; as a dotfiles manager. Every once in a while I
attempt to integrate Ansible to manage the rest of my dotfiles setup, but it
never sticks. Simplicity always wins in the test of time.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Stow"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude: new slash commands</title><link>https://perrotta.dev/2025/11/claude-new-slash-commands/</link><pubDate>Sun, 23 Nov 2025 17:43:04 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/claude-new-slash-commands/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-custom-commands/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Instead of creating custom slash commands myself, now I am turning to Claude to
do so for me.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Prompt&lt;/strong&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;@agent-claude-code-guide create a slash command for&amp;hellip;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This is a built-in agent.&lt;/p&gt;
&lt;p&gt;Let the &lt;del&gt;experts&lt;/del&gt; agents handle the cruft.&lt;/p&gt;
&lt;p&gt;For example, &lt;code&gt;/commit&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% cat ~/.claude/commands/commit.md
---
allowed_tools: [&amp;#34;Bash(git add:*)&amp;#34;, &amp;#34;Bash(git commit:*)&amp;#34;, &amp;#34;Bash(git status:*)&amp;#34;, &amp;#34;Bash(git rev-parse:*)&amp;#34;]
argument-hint: [message]
description: Make a concise git commit on the current branch
---

Create a concise git commit with the provided message.

Steps:
1. Show current git status to confirm changes
2. Commit with the provided message
3. Ask the user if they want to push the changes

If the user provides a message as argument, use it directly. Otherwise, ask them for a commit message.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude: new slash commands"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Personal blogs are back</title><link>https://perrotta.dev/2025/11/personal-blogs-are-back/</link><pubDate>Sun, 23 Nov 2025 14:48:36 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/personal-blogs-are-back/</guid><description>&lt;p&gt;&lt;a href="https://disassociated.com/personal-blogs-back-niche-blogs-next/"&gt;Disassociated&lt;/a&gt; (&lt;a href="https://news.ycombinator.com/item?id=46009894"&gt;via&lt;/a&gt;):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Personal blogs are back, should niche blogs be next?&lt;/p&gt;
&lt;p&gt;A resurgence in personal blogging is the first step in rebuilding a vibrant,
thriving, web, or if you like, blogosphere. Now the focus needs to be on
restoring the flow of accessible and trusted information.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;a href="https://news.ycombinator.com/item?id=46011877"&gt;Simon Willison&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Here are some reasons to start a personal blog:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;It&amp;rsquo;s a great way to learn. Teaching something to someone else has always
been the best learning tool, and writing about something with an audience
in mind is an effective way to capture some of that value.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It can be a big boost in job hunting. As a hiring manager two of the most
important questions I have about a potential candidate are: Can they code?
Can they communicate well? If a candidate has a blog with just two articles
on it that hasn&amp;rsquo;t been updated in five years that&amp;rsquo;s still a big boost over
candidates with nothing like that at all. In a competitive market that
could be the boost you need to make it from the resume review to the first
round.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;If you blog more frequently than that it can be a really valuable resource
for your future self. I love being able to look back on what I was thinking
and writing about ten years ago. Having a good tagging system helps with
this too ‚Äî I can review my tag of &amp;ldquo;scaling&amp;rdquo; or &amp;ldquo;postgresql&amp;rdquo; and see a
timeline of how my understanding developed.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It&amp;rsquo;s a great way to help establish credibility. If someone asks you about X
and you have a blog entry about X from five years ago you can point them to
that.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Building a blog is really fun! It used to be one of the classic starter
projects for new web developers, I think that needs to come back. It&amp;rsquo;s a
fun project and one that&amp;rsquo;s great to keep on hacking on long into the
future.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Notably none of the above reasons require your blog to attract readers!
There&amp;rsquo;s a ton of value to be had even if nobody actually reads the thing.&lt;/p&gt;
&lt;p&gt;As a general rule, assume nobody will read your blog unless you actively
encourage them to. That&amp;rsquo;s fine. What matters isn&amp;rsquo;t the quantity of readers,
it&amp;rsquo;s their quality. I&amp;rsquo;d rather have a piece read by just a single person that
leads to a new opportunity for me than 1,000 people who read it and never
interact with me ever again.&lt;/p&gt;
&lt;p&gt;If you DO start to get readers things get even more valuable. I&amp;rsquo;ve been
blogging since 2002 and most of the opportunities in my career came from
people I met via blogging. Today I get invited to all sorts of interesting
events because I have a prominent blog covering stuff relating to AI and LLMs.&lt;/p&gt;
&lt;p&gt;But I do honestly think that a blog is a powerful professional tool even if
nobody else is reading it at all.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I do not have anything to add, really. Simon has nailed it.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Personal blogs are back"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ help2man</title><link>https://perrotta.dev/2025/11/help2man/</link><pubDate>Sun, 23 Nov 2025 00:59:51 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/help2man/</guid><description>&lt;p&gt;Thanks to &lt;a href="https://www.gnu.org/software/help2man/"&gt;&lt;code&gt;help2man&lt;/code&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;help2man&lt;/code&gt; produces simple manual pages from the &lt;code&gt;--help&lt;/code&gt; and &lt;code&gt;--version&lt;/code&gt;
output of other commands.&lt;/p&gt;
&lt;p&gt;[&amp;hellip;]&lt;/p&gt;
&lt;p&gt;This program is intended to provide an easy way for software authors to
include a manual page in their distribution without having to maintain that
document.&lt;/p&gt;
&lt;p&gt;Given a program which produces reasonably standard &lt;code&gt;--help&lt;/code&gt; and &lt;code&gt;--version&lt;/code&gt;
outputs, &lt;code&gt;help2man&lt;/code&gt; can re-arrange that output into something which resembles
a manual page.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&amp;hellip;&lt;a href="https://github.com/thiagowfx/pancake"&gt;pancake&lt;/a&gt; scripts/tools now all have
man pages! The integration was quite straightforward&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/11/help2man/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="diff"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;diff&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-diff"&gt;% git --no-pager show HEAD~3
commit fd319657199d740138236b0b56eb47a4fb9dc1d9 (tag: 2025.11.23.1)
Author: Thiago Perrotta &amp;lt;{redacted}&amp;gt;
Date: Sun Nov 23 00:45:19 2025 -0300

 formula: add man page generation with help2man

 ü§ñ Generated with [Claude Code](https://claude.com/claude-code)

 Co-Authored-By: Claude &amp;lt;noreply@anthropic.com&amp;gt;

diff --git Formula/pancake.rb Formula/pancake.rb
index 921df77..808eac6 100644
--- Formula/pancake.rb
&amp;#43;&amp;#43;&amp;#43; Formula/pancake.rb
@@ -5,6 &amp;#43;5,8 @@ class Pancake &amp;lt; Formula
 sha256 &amp;#34;1e2ee2a7cd22a659c541361b1d50761e672a197a76176aa04683eb430bb080fd&amp;#34;
 head &amp;#34;https://github.com/thiagowfx/pancake.git&amp;#34;, branch: &amp;#34;master&amp;#34;

&amp;#43; depends_on &amp;#34;help2man&amp;#34; =&amp;gt; :build
&amp;#43;
 # Script definitions: [directory, script_file, command_name]
 SCRIPTS = [
@@ -39,6 &amp;#43;41,14 @@ class Pancake &amp;lt; Formula

 # aws_login_headless requires additional Python script
 bin.install &amp;#34;aws_login_headless/aws_login_headless_playwright.py&amp;#34;
&amp;#43;
&amp;#43; # Generate and install man pages
&amp;#43; SCRIPTS.each do |_, _, command|
&amp;#43; system &amp;#34;help2man&amp;#34;, &amp;#34;--no-info&amp;#34;, &amp;#34;--no-discard-stderr&amp;#34;,
&amp;#43; &amp;#34;--version-string=#{version}&amp;#34;, &amp;#34;--output=#{command}.1&amp;#34;,
&amp;#43; &amp;#34;--name=#{command}&amp;#34;, bin/command
&amp;#43; man1.install &amp;#34;#{command}.1&amp;#34;
&amp;#43; end
 end

 test do&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;It parses the output of &lt;code&gt;--help&lt;/code&gt; to compose a man page. DRY.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;With the assistance of an LLM, as (can&amp;rsquo;t believe I&amp;rsquo;ll say this) &lt;em&gt;usual&lt;/em&gt;.&amp;#160;&lt;a href="https://perrotta.dev/2025/11/help2man/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: help2man"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Radio</title><link>https://perrotta.dev/2025/11/radio/</link><pubDate>Sat, 22 Nov 2025 22:12:24 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/radio/</guid><description>&lt;p&gt;New script: &lt;a href="https://github.com/thiagowfx/pancake/tree/master/radio"&gt;radio&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Stream internet radio stations using available media players.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Available Stations:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% radio --list
Available stations:

 defcon DEF CON Radio - Music for hacking
 lofi Lo-fi hip hop beats
 trance HBR1 Trance
 salsa Latina Salsa
 kfai KFAI (Minneapolis community radio)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;If no station is specified, a random station will be selected.&lt;/p&gt;
&lt;p&gt;Automatically detects and uses available media players (mpv, vlc, ffplay,
mplayer).&lt;/p&gt;
&lt;p&gt;Sometimes it&amp;rsquo;s handy to have access to a music stream quickly, without having to
resort to Spotify or YouTube, or to add cognitive overhead to choosing what to
play.&lt;/p&gt;
&lt;p&gt;Internet radios are cool. They remind me of my good ol&amp;rsquo; times with
&lt;a href="https://bsplayer.com/"&gt;BSPlayer&lt;/a&gt; on Windows XP / Windows 7&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/11/radio/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://perrotta.dev/2025/04/defcon-radio/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Inspired by &lt;a href="https://evanhahn.com/scripts-i-wrote-that-i-use-all-the-time/"&gt;Evan
Hahn&lt;/a&gt;&amp;rsquo;s &lt;code&gt;radio&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Any suggestions of other internet radios to add?&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Interesting to see that BSPlayer is still around!&amp;#160;&lt;a href="https://perrotta.dev/2025/11/radio/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Radio"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ new script: PDF remove password</title><link>https://perrotta.dev/2025/11/new-script-pdf-remove-password/</link><pubDate>Sun, 16 Nov 2025 20:19:18 -0300</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/11/new-script-pdf-remove-password/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/11/new-script-copy/"&gt;Previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Given a password-protected &lt;code&gt;.pdf&lt;/code&gt; file, remove its
password. It&amp;rsquo;s indifferent whether the file gets overwritten or whether a new
one is created.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://gist.github.com/pstaender/7412245"&gt;&lt;code&gt;ghostscript&lt;/code&gt;&lt;/a&gt; can do it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;gs -q -dNOPAUSE -dBATCH -sDEVICE=pdfwrite -sOutputFile=output.pdf -c .setpdfwrite -f input.pdf&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://gist.github.com/raghur/f3eab7297691f2f411eec69b8032daf0"&gt;&lt;code&gt;qpdf&lt;/code&gt;&lt;/a&gt; can do it:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;qpdf --decrypt --password=&amp;#34;{my pass}&amp;#34; input.pdf output.pdf&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;I am not expected to memorize these CLI flags.&lt;/p&gt;
&lt;p&gt;I do not want to look them up every time either.&lt;/p&gt;
&lt;p&gt;There are various approaches to tackle this:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;a shell alias (&lt;code&gt;alias foo=&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;a shell function &lt;code&gt;foo() {}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;a shell script (&lt;code&gt;*.sh&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;a &lt;a href="https://perrotta.dev/2025/10/comma-scripts/"&gt;comma script&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;a copyable snippet (e.g. stored in Obsidian / LogSeq or some other digital
garden / personal wiki / second brain app)&lt;/li&gt;
&lt;li&gt;a snippet (e.g. in &lt;a href="https://perrotta.dev/2025/10/comma-scripts/"&gt;RayCast&lt;/a&gt; or
&lt;a href="https://perrotta.dev/2025/10/comma-scripts/"&gt;Espanso&lt;/a&gt;)&lt;/li&gt;
&lt;li&gt;ask the AI each time&lt;/li&gt;
&lt;li&gt;&lt;del&gt;google&lt;/del&gt; &lt;a href="https://perrotta.dev/2025/05/kagi/"&gt;search&lt;/a&gt; for it each time&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Lately I&amp;rsquo;ve been favouring the &lt;a href="https://perrotta.dev/2025/09/pancake-potpourri-scripts/"&gt;shell script&lt;/a&gt; approach, so &lt;a href="https://github.com/thiagowfx/pancake/tree/c7c3677119c567edc432fcc1f1c0f78c9a5b3c55/pdf_password_remove"&gt;here we go&lt;/a&gt; with &lt;code&gt;pdf_password_remove.sh&lt;/code&gt;:&lt;/p&gt;
&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;p&gt;Remove password protection from PDF files.&lt;/p&gt;
&lt;div class="codeblock" data-lang="bash"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;bash&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Interactive password prompt (most secure)
pdf_password_remove secret.pdf

# Process multiple files
pdf_password_remove report.pdf invoice.pdf contract.pdf

# Provide password via command line
pdf_password_remove --password=BANANA42SPLIT secret.pdf

# Custom output filename (single file only)
pdf_password_remove -o unlocked.pdf secret.pdf&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="example-output"&gt;Example Output&lt;/h2&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% pdf_password_remove --password=PIZZA69SLICE financial-report.pdf tax-form.pdf
‚úì Successfully processed: financial-report.pdf ‚Üí financial-report-unlocked.pdf
‚úì Successfully processed: tax-form.pdf ‚Üí tax-form-unlocked.pdf

Summary: Successfully processed 2/2 file(s)&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="features"&gt;Features&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Process single or multiple PDF files in one command&lt;/li&gt;
&lt;li&gt;Secure interactive password prompt (hidden input)&lt;/li&gt;
&lt;li&gt;Command-line password option for automation/scripts&lt;/li&gt;
&lt;li&gt;Default output naming: adds &lt;code&gt;-unlocked&lt;/code&gt; suffix&lt;/li&gt;
&lt;li&gt;Custom output filename with &lt;code&gt;-o&lt;/code&gt; flag (single file only)&lt;/li&gt;
&lt;li&gt;Clear success/failure indicators for each file&lt;/li&gt;
&lt;li&gt;Validates PDF files before processing&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id="prerequisites"&gt;Prerequisites&lt;/h2&gt;
&lt;p&gt;Requires either &lt;code&gt;ghostscript&lt;/code&gt; (preferred) or &lt;code&gt;qpdf&lt;/code&gt; to be installed:&lt;/p&gt;
&lt;div class="codeblock" data-lang="bash"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;bash&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# macOS
brew install ghostscript # Preferred
brew install qpdf # Alternative

# Linux
sudo apt install ghostscript # Preferred - Debian/Ubuntu
sudo apt install qpdf # Alternative

sudo dnf install ghostscript # Preferred - Fedora
sudo dnf install qpdf # Alternative

sudo pacman -S ghostscript # Preferred - Arch
sudo pacman -S qpdf # Alternative&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The script automatically detects and uses whichever tool is available,
preferring ghostscript if both are installed.&lt;/p&gt;
&lt;h2 id="security-note"&gt;Security Note&lt;/h2&gt;
&lt;p&gt;Using &lt;code&gt;--password&lt;/code&gt; on the command line will expose the password in shell history
and process lists. For sensitive documents, use the interactive prompt instead
(default behavior when password is not provided).&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: new script: PDF remove password"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Shell memoization: lazy-load LLM API keys</title><link>https://perrotta.dev/2025/11/shell-memoization-lazy-load-llm-api-keys/</link><pubDate>Mon, 10 Nov 2025 13:55:56 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><category>security</category><guid>https://perrotta.dev/2025/11/shell-memoization-lazy-load-llm-api-keys/</guid><description>&lt;p&gt;&lt;strong&gt;Problem statement&lt;/strong&gt;: Given LLM keys shell environment variables:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;ANTHROPIC_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;GEMINI_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;OPENAI_API_KEY&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Export them only when they are needed.&lt;/p&gt;
&lt;p&gt;When are they needed? If I launch any one of these binaries:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;llm&lt;/code&gt; (generic)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;aider&lt;/code&gt; (generic)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;gemini&lt;/code&gt; (provider-specific: Google)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;codex&lt;/code&gt; (provider-specific: OpenAI)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;claude&lt;/code&gt; (provider-specific: Anthropic)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;I added the following snippet in my shell profile:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;# Lazy-load API keys only when needed to avoid shell startup delay
if command -v llm &amp;amp;&amp;gt;/dev/null; then
 _load_api_keys() {
 export ANTHROPIC_API_KEY=&amp;#34;$(command llm keys get anthropic)&amp;#34;
 export GEMINI_API_KEY=&amp;#34;$(command llm keys get gemini)&amp;#34;
 export OPENAI_API_KEY=&amp;#34;$(command llm keys get openai)&amp;#34;
 # Redefine itself to be a no-op after first call
 _load_api_keys() { :; }
 }

 # Wrap all AI CLI commands to auto-load keys
 for cmd in claude llm aider codex gemini; do
 command -v $cmd &amp;amp;&amp;gt;/dev/null &amp;amp;&amp;amp; eval &amp;#34;${cmd}() { _load_api_keys; command ${cmd} \&amp;#34;\$@\&amp;#34;; }&amp;#34;
 done
fi&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The keys are loaded via &lt;code&gt;llm keys get&lt;/code&gt;. This is not secure, but it is practical.
A more secure approach would be to read the credentials directly from a password
manager. This trade-off is acceptable in the environment I am currently
operating on, but I would not recommend it as an universal approach.&lt;/p&gt;
&lt;p&gt;A temporary &lt;code&gt;_load_api_keys&lt;/code&gt; shell function is defined. The first time it is
executed, it &lt;code&gt;export&lt;/code&gt;s each one of the LLM API keys. From the second time
onwards it will be a no-op, thanks to &lt;code&gt;:&lt;/code&gt;. In bash/zsh we can redefine a
function from within itself thanks to dynamic scoping. Wild.&lt;/p&gt;
&lt;p&gt;Last but not least: I wrapped up (&amp;ldquo;decorated&amp;rdquo; in function parlance) all
LLM-related commands with a shell function that runs &lt;code&gt;_load_api_keys&lt;/code&gt; before
invoking the original command.&lt;/p&gt;
&lt;p&gt;This approach is elegant and easy to maintain.&lt;/p&gt;
&lt;p&gt;My initial implementation had been more fine-grained: &lt;code&gt;ANTHROPIC_API_KEY&lt;/code&gt; would
drive &lt;code&gt;claude&lt;/code&gt;, &lt;code&gt;llm&lt;/code&gt; and &lt;code&gt;aider&lt;/code&gt;, but not &lt;code&gt;gemini&lt;/code&gt; and &lt;code&gt;codex&lt;/code&gt;, and so on.
Ultimately I decided that the additional complexity of mapping individual
providers optimally is not warranted.&lt;/p&gt;
&lt;p&gt;Why is this memoization necessary in the first place?&lt;/p&gt;
&lt;p&gt;My shell (&lt;code&gt;zsh&lt;/code&gt;) startup was significantly slow before this change,
&lt;code&gt;O(seconds)&lt;/code&gt;. Each call to &lt;code&gt;llm keys get&lt;/code&gt; takes about half a second in my
machine. I do not think it&amp;rsquo;s acceptable to wait for 2s before having your shell
readily available with a prompt.&lt;/p&gt;
&lt;p&gt;Before this approach, I had used
&lt;a href="https://github.com/romkatv/zsh-defer"&gt;&lt;code&gt;zsh-defer&lt;/code&gt;&lt;/a&gt; to delay populating the API
keys. However, this has only &lt;em&gt;deferred&lt;/em&gt; (&lt;em&gt;cof&lt;/em&gt;) my problems. The startup delay
was still noticeable.&lt;/p&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Shell memoization: lazy-load LLM API keys"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/security/"&gt;#security&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ New script: SSH mux restart</title><link>https://perrotta.dev/2025/10/new-script-ssh-mux-restart/</link><pubDate>Thu, 30 Oct 2025 12:59:53 +0100</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>ssh</category><guid>https://perrotta.dev/2025/10/new-script-ssh-mux-restart/</guid><description>&lt;p&gt;&lt;a href="https://perrotta.dev/2025/10/github-the-organization-has-enabled-or-enforced-saml-sso/"&gt;Previously&lt;/a&gt;,
&lt;a href="https://perrotta.dev/2025/05/1password-ssh-agent-error/"&gt;previously&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;After experiencing almost daily frustration because of this SSH auth issue, I
decided to script a solution out of it: and now
&lt;a href="https://github.com/thiagowfx/pancake/tree/8707d1792c0d1266180dfa3d49c7d144c71ef23d/ssh_mux_restart"&gt;&lt;code&gt;ssh_mux_restart&lt;/code&gt;&lt;/a&gt;
was born.&lt;/p&gt;
&lt;p&gt;A copy of the &lt;code&gt;README.md&lt;/code&gt; follows below for ease of reference.&lt;/p&gt;
&lt;p&gt;The use case is very simple: run the &lt;code&gt;ssh_mux_restart&lt;/code&gt; script whenever I run
into a git SSH authentication error, typically due to &lt;code&gt;git pull&lt;/code&gt;, &lt;code&gt;git fetch&lt;/code&gt; or
&lt;code&gt;git push&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id="usage"&gt;Usage&lt;/h2&gt;
&lt;p&gt;Basic usage to kill SSH multiplexed connections:&lt;/p&gt;
&lt;div class="codeblock" data-lang="bash"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;bash&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;./ssh_mux_restart.sh&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;To also restart the 1Password SSH agent:&lt;/p&gt;
&lt;div class="codeblock" data-lang="bash"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;bash&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;./ssh_mux_restart.sh --restart-1password&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="example-output"&gt;Example Output&lt;/h2&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% ./ssh_mux_restart.sh
Finding SSH multiplexed connections...
Found SSH multiplexed connections:
 88002 ssh: /tmp/ssh-control-FLAPJACK42 [mux]
 88123 ssh: /tmp/ssh-control-WAFFLE55 [mux]
Killing SSH multiplexed connections...
‚úì Killed SSH mux process: 88002
‚úì Killed SSH mux process: 88123
Killed 2/2 SSH multiplexed connections.

All operations completed successfully!&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;With the &lt;code&gt;--restart-1password&lt;/code&gt; flag:&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% ./ssh_mux_restart.sh --restart-1password
Finding SSH multiplexed connections...
Found SSH multiplexed connections:
 88002 ssh: /tmp/ssh-control-PANCAKE99 [mux]
Killing SSH multiplexed connections...
‚úì Killed SSH mux process: 88002
Killed 1/1 SSH multiplexed connections.

Restarting 1Password application...
Found 1Password process: 67690
Quitting 1Password...
‚úì 1Password quit successfully
Starting 1Password...
‚úì 1Password started successfully
1Password SSH agent is now ready for use.

All operations completed successfully!&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;h2 id="why-this-matters"&gt;Why This Matters&lt;/h2&gt;
&lt;p&gt;SSH multiplexed connections can cache stale authentication credentials, causing issues when:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GitHub organizations enable or enforce SAML SSO&lt;/li&gt;
&lt;li&gt;1Password SSH agent credentials need refreshing&lt;/li&gt;
&lt;li&gt;SSH keys have been rotated or updated&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Restarting these connections forces SSH to re-authenticate with fresh credentials.&lt;/p&gt;
&lt;h2 id="prerequisites"&gt;Prerequisites&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Standard Unix tools (&lt;code&gt;pgrep&lt;/code&gt;, &lt;code&gt;pkill&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;1Password app (macOS) if using the &lt;code&gt;--restart-1password&lt;/code&gt; flag&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: New script: SSH mux restart"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/ssh/"&gt;#ssh&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ The Apple Store</title><link>https://perrotta.dev/2025/10/the-apple-store/</link><pubDate>Sat, 18 Oct 2025 12:49:20 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>serenity</category><guid>https://perrotta.dev/2025/10/the-apple-store/</guid><description>&lt;p&gt;After owning an iPhone 14 Pro for more than two and a half years, its maximum
battery capacity degraded to &lt;strong&gt;~76%&lt;/strong&gt;. It is not a terrible number, but the
general recommendation is to take action whenever it goes below &lt;strong&gt;80%&lt;/strong&gt;, which
happened a couple of months ago.&lt;/p&gt;
&lt;p&gt;In this state I am forced to carry a portable charger wherever I go if I want
to keep my peace of mind and eliminate &amp;ldquo;battery anxiety&amp;rdquo;.&lt;/p&gt;
&lt;p&gt;The natural course of action for many at this point would be to simply buy the
newest and shiniest iPhone.&lt;/p&gt;
&lt;p&gt;Yet, I love to fight against &lt;a href="https://en.wikipedia.org/wiki/Planned_obsolescence"&gt;planned
obsolescence&lt;/a&gt;, and will
happily do what I can, even if it yields a bit of friction.&lt;/p&gt;
&lt;p&gt;One of my favorite aspects of being an iPhone user is the ability to get superb
support from Apple&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/10/the-apple-store/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. In particular, they have a &lt;a href="https://support.apple.com/iphone/repair/battery-replacement"&gt;battery
replacement&lt;/a&gt;
program.&lt;/p&gt;
&lt;p&gt;All you have to do is:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://getsupport.apple.com/?caller=sfaq&amp;amp;SG=SG003&amp;amp;category_id=SC0999&amp;amp;symptom_id=99911"&gt;schedule an appointment&lt;/a&gt; in the Genius Bar,&lt;/li&gt;
&lt;li&gt;bring your iPhone there,&lt;/li&gt;
&lt;li&gt;and then retrieve it a couple of hours later&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/10/the-apple-store/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; (&amp;ldquo;same day service&amp;rdquo;).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Is it cost effective? Hell yes. I paid about 10% of the original purchase
price, and it&amp;rsquo;s like I just got a brand new iPhone.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;But only if I am &lt;del&gt;privileged&lt;/del&gt; lucky enough to live in a city that has
one.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/the-apple-store/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;In my case, 3 hours.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/the-apple-store/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: The Apple Store"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Backlinks</title><link>https://perrotta.dev/2025/10/backlinks/</link><pubDate>Fri, 17 Oct 2025 16:58:16 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><category>meta</category><category>serenity</category><guid>https://perrotta.dev/2025/10/backlinks/</guid><description>&lt;p&gt;I famously do not run any kind of analytics in this blog, neither server-side or
client-side.&lt;/p&gt;
&lt;p&gt;I genuinely have no idea how many people subscribe to it via RSS, and how many
&amp;ldquo;page hits&amp;rdquo; it has been accumulating over its lifetime.&lt;/p&gt;
&lt;p&gt;This is very clearly stated in the homepage.
I take it as a badge of honor.&lt;/p&gt;
&lt;p&gt;That said, I am not saying that running analytics is evil or unethical.
There are various ethical and privacy-friendly analytics tools out there.&lt;/p&gt;
&lt;p&gt;Without analytics, how am I able to keep myself motivated? How can I know
whether I am yelling at the clouds, screaming on to the void?&lt;/p&gt;
&lt;p&gt;The main trick is to write primarily for myself. Writing is a great way to
rearrange my thoughts and make them more coherent and livid.&lt;/p&gt;
&lt;p&gt;A second form of &amp;ldquo;not feeling lonely&amp;rdquo; in the interwebs is to talk to people (or
have people talk to you). Sometimes friends message me in chat apps. Sometimes
strangers email me&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/10/backlinks/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. Sometimes a long-time ex-coworker mentions a past post of
mine helped them. It is always cool to hear from people&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/10/backlinks/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt;. There is a gentle
&amp;ldquo;Reply via email&amp;rdquo; link below every blog post in this site.&lt;/p&gt;
&lt;p&gt;Last: &lt;strong&gt;Backlinks&lt;/strong&gt;!&lt;/p&gt;
&lt;p&gt;Every few months I try to remember to check who is linking back to my blog.
There are various ways to get insights about this:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Public&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://marginalia-search.com/site/perrotta.dev?view=links"&gt;Marginalia&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Private&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://search.google.com/search-console/links/drilldown?resource_id=sc-domain%3Aperrotta.dev&amp;amp;type=DOMAIN&amp;amp;target=&amp;amp;domain="&gt;Google&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.bing.com/webmasters/backlinks?siteUrl=https://perrotta.dev/"&gt;Bing&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Observing slow organic growth, without the pressure to cross-post in social
media platforms or social link aggregators, makes life peaceful and serene.&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;Please do not be shy, say hello :-)&amp;#160;&lt;a href="https://perrotta.dev/2025/10/backlinks/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;I should write more frequently to authors of blog posts I enjoy. We&amp;rsquo;re
(slowly) getting there.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/backlinks/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Backlinks"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/meta/"&gt;#meta&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/serenity/"&gt;#serenity&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Distributing my own scripts via homebrew</title><link>https://perrotta.dev/2025/10/distributing-my-own-scripts-via-homebrew/</link><pubDate>Fri, 17 Oct 2025 16:38:40 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/distributing-my-own-scripts-via-homebrew/</guid><description>&lt;p&gt;Thanks &lt;a href="https://justin.searls.co/posts/how-to-distribute-your-own-scripts-via-homebrew/"&gt;Justin
Searls&lt;/a&gt;
for the idea:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;I use Homebrew all the time. Whenever I see a new CLI that offers an npm or uv
install path alongside a brew one, I choose brew every single time.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Me too.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;And yet, when it comes time to publish a CLI of my own, I usually just ship it
as a Ruby gem or an npm package, because I had (and have!) no fucking clue how
Homebrew works. I&amp;rsquo;m not enough of a neckbeard to peer behind the curtain as
soon as root directories like /usr and /opt are involved, so I never bothered
before today.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I understand how package managers work, and I&amp;rsquo;m even a package maintainer in
Alpine Linux and Arch Linux, but until now I never bothered to package my own
projects for others to consume.&lt;/p&gt;
&lt;p&gt;Previously I talked about my new &lt;a href="https://perrotta.dev/2025/09/pancake-potpourri-scripts/"&gt;pancake&lt;/a&gt; repository. It consists of miscellaneous self-contained executables. As such, it is a great candidate for packaging.&lt;/p&gt;
&lt;p&gt;I won&amp;rsquo;t submit it to upstream homebrew because it is overly specific, but that
doesn&amp;rsquo;t prevent me from packaging it in a &lt;a href="https://docs.brew.sh/Taps"&gt;standalone
repository&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;In order to do so, I simply created a &lt;code&gt;pancake.rb&lt;/code&gt; &lt;a href="https://github.com/thiagowfx/pancake/blob/1a58c53e3984b0a0b34b750a73dab793aff5ebe5/Formula/pancake.rb"&gt;Formula&lt;/a&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="ruby"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;ruby&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-ruby"&gt;class Pancake &amp;lt; Formula
 desc &amp;#34;A collection of useful shell scripts&amp;#34;
 homepage &amp;#34;https://github.com/thiagowfx/pancake&amp;#34;
 head &amp;#34;https://github.com/thiagowfx/pancake.git&amp;#34;

 def install
 # keep-sorted start
 bin.install &amp;#34;aws_china_mfa/aws_china_mfa.sh&amp;#34; =&amp;gt; &amp;#34;aws_china_mfa&amp;#34;
 bin.install &amp;#34;op_login_all/op_login_all.sh&amp;#34; =&amp;gt; &amp;#34;op_login_all&amp;#34;
 bin.install &amp;#34;pritunl_login/pritunl_login.sh&amp;#34; =&amp;gt; &amp;#34;pritunl_login&amp;#34;
 bin.install &amp;#34;sd_world/sd_world.sh&amp;#34; =&amp;gt; &amp;#34;sd_world&amp;#34;
 # keep-sorted end
 end

 test do
 # Basic test to ensure the scripts are installed and executable.
 # keep-sorted start
 assert_predicate bin/&amp;#34;aws_china_mfa&amp;#34;, :executable?
 assert_predicate bin/&amp;#34;aws_china_mfa&amp;#34;, :exist?
 assert_predicate bin/&amp;#34;op_login_all&amp;#34;, :executable?
 assert_predicate bin/&amp;#34;op_login_all&amp;#34;, :exist?
 assert_predicate bin/&amp;#34;pritunl_login&amp;#34;, :executable?
 assert_predicate bin/&amp;#34;pritunl_login&amp;#34;, :exist?
 assert_predicate bin/&amp;#34;sd_world&amp;#34;, :executable?
 assert_predicate bin/&amp;#34;sd_world&amp;#34;, :exist?
 # keep-sorted end
 end
end&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;To install it, first tap the repository&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/10/distributing-my-own-scripts-via-homebrew/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% brew tap thiagowfx/pancake https://github.com/thiagowfx/pancake.git&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then install it, from &lt;code&gt;HEAD&lt;/code&gt; because it is not currently versioned:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% brew install --HEAD pancake&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;List all package contents:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% brew ls pancake
/opt/homebrew/Cellar/pancake/HEAD-1a58c53/bin/aws_china_mfa
/opt/homebrew/Cellar/pancake/HEAD-1a58c53/bin/op_login_all
/opt/homebrew/Cellar/pancake/HEAD-1a58c53/bin/pritunl_login
/opt/homebrew/Cellar/pancake/HEAD-1a58c53/bin/sd_world
/opt/homebrew/Cellar/pancake/HEAD-1a58c53/sbom.spdx.json&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;There&amp;rsquo;s no need to fiddle with &lt;code&gt;$PATH&lt;/code&gt;, as this is already handled by homebrew:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% which aws_china_mfa
/opt/homebrew/bin/aws_china_mfa
% ls -al /opt/homebrew/bin/aws_china_mfa
lrwxr-xr-x@ - thiago.perrotta 13 Oct 14:43 /opt/homebrew/bin/aws_china_mfa -&amp;gt; ../Cellar/pancake/HEAD-1a58c53/bin/aws_china_mfa*&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;If this idea sticks, I intend to create a dedicated
&lt;code&gt;thiagowfx/homebrew-pancake&lt;/code&gt; repo, so that you can tap it with &lt;code&gt;brew tap thiagowfx/pancake&lt;/code&gt;, without the need of specifying the full repository URL
as per
&lt;a href="https://docs.brew.sh/Taps#repository-naming-conventions-and-assumptions"&gt;docs&lt;/a&gt;.
For now though, the formula is hosted in the same repository as the
executables.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/distributing-my-own-scripts-via-homebrew/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Distributing my own scripts via homebrew"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item><item><title>‚òÖ Claude Code: adding my first MCP server</title><link>https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/</link><pubDate>Wed, 08 Oct 2025 00:31:31 +0200</pubDate><author>serendipity@perrotta.dev (Thiago Perrotta)</author><category>ai</category><category>bestof</category><category>dev</category><guid>https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/</guid><description>&lt;p&gt;Lovely readers, I promise this is not turning into an AI blog&lt;sup id="fnref:1"&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fn:1" class="footnote-ref" role="doc-noteref"&gt;1&lt;/a&gt;&lt;/sup&gt;. I am merely
documenting my baby steps.&lt;/p&gt;
&lt;p&gt;I use JIRA all the time. It&amp;rsquo;s our &lt;del&gt;bug&lt;/del&gt;&lt;sup id="fnref:2"&gt;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fn:2" class="footnote-ref" role="doc-noteref"&gt;2&lt;/a&gt;&lt;/sup&gt; issue tracker of choice.&lt;/p&gt;
&lt;p&gt;And, now that I am slowly incorporating Claude Code in my daily workflow for git
commits and pull requests, it only feels natural to connect JIRA to it, even if
only for the sake of retrieving information from existing tickets and/or adding
context to PRs.&lt;/p&gt;
&lt;p&gt;So here we go.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://docs.claude.com/en/docs/claude-code/mcp"&gt;From the Anthropic documentation&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;Atlassian&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Manage your Jira tickets and Confluence docs&lt;/p&gt;
&lt;/blockquote&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% cd &amp;lt;gitops project&amp;gt;
% claude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse
Added SSE MCP server atlassian with URL: https://mcp.atlassian.com/v1/sse to local config
File modified: /Users/thiago.perrotta/.claude.json [project: /Users/thiago.perrotta/gitops]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;a href="https://docs.claude.com/en/docs/claude-code/mcp#option-2%3A-add-a-remote-sse-server"&gt;SSE&lt;/a&gt; stands for &amp;ldquo;Server-Side Events&amp;rdquo;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;SSE (Server-Sent Events) servers provide real-time streaming connections. Many
cloud services use this for live updates.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That command is idempotent:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude mcp add --transport sse atlassian https://mcp.atlassian.com/v1/sse
MCP server atlassian already exists in local config&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;What if I want to have it available for all projects? Use &lt;code&gt;--scope user&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude mcp add --scope user --transport sse atlassian https://mcp.atlassian.com/v1/sse
Added SSE MCP server atlassian with URL: https://mcp.atlassian.com/v1/sse to user config
File modified: /Users/thiago.perrotta/.claude.json&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;The modification to &lt;code&gt;~/.claude.json&lt;/code&gt;:&lt;/p&gt;
&lt;div class="codeblock" data-lang="json"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;json&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-json"&gt;{
 [...]
 &amp;#34;mcpServers&amp;#34;: {
 &amp;#34;atlassian&amp;#34;: {
 &amp;#34;type&amp;#34;: &amp;#34;sse&amp;#34;,
 &amp;#34;url&amp;#34;: &amp;#34;https://mcp.atlassian.com/v1/sse&amp;#34;
 }
 }
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;So far so good. However no auth config was supplied yet.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;% claude
&amp;gt; /mcp
Manage MCP servers
‚ùØ 1. atlassian ‚ñ≥ disconnected ¬∑ Enter to login&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;After pressing Enter and authenticating against our JIRA instance in a web
browser:&lt;/p&gt;
&lt;div class="codeblock" data-lang="shell"&gt;
 &lt;div class="codeblock-header"&gt;
 &lt;span class="codeblock-language"&gt;shell&lt;/span&gt;
 &lt;/div&gt;
 &lt;pre&gt;&lt;code class="language-bash"&gt;% claude mcp list
Checking MCP server health...

atlassian: https://mcp.atlassian.com/v1/sse (SSE) - ‚úì Connected

% claude mcp get atlassian
atlassian:
 Scope: User config (available in all your projects)
 Status: ‚úì Connected
 Type: sse
 URL: https://mcp.atlassian.com/v1/sse

To remove this server, run: claude mcp remove &amp;#34;atlassian&amp;#34; -s user&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; /mcp
Atlassian MCP Server

Status: ‚úî connected ‚úî authenticated
URL: https://mcp.atlassian.com/v1/sse
Config location: /Users/thiago.perrotta/.claude.json [project: /Users/thiago.perrotta/gitops]
Capabilities: tools
Tools: 27 tools

‚ùØ 1. View tools
 2. Re-authenticate
 3. Clear authentication
 4. Reconnect
 5. Disable&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Tools for atlassian (27 tools)

‚ùØ 1. Get current user information read-only
 2. List accessible resources read-only
 3. List Confluence spaces read-only
 4. Retrieve Confluence page read-only
‚Üì 5. List space pages read-only&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Let&amp;rsquo;s say I want to call the &amp;ldquo;Get current user information&amp;rdquo; tool.&lt;/p&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;Get current user information (atlassian) [read-only]

Tool name: atlassianUserInfo
Full name: mcp__atlassian__atlassianUserInfo

Description:
Get current user info from Atlassian&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Just describe it in natural language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;current user in JIRA&amp;rdquo;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Claude&lt;/strong&gt;:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="codeblock"&gt;
 &lt;pre&gt;&lt;code class="language-plaintext"&gt;&amp;gt; current user in JIRA
 ‚éø {
 &amp;#34;account_id&amp;#34;: &amp;#34;{redacted}&amp;#34;,
 &amp;#34;email&amp;#34;: &amp;#34;{redacted}&amp;#34;,
 ‚Ä¶ &amp;#43;22 lines (ctrl&amp;#43;o to expand)

‚è∫ Thiago Perrotta
 - Email: {redacted}
 - Account ID: {redacted}
 - Role: {redacted}
 - Department: {redacted}
 - Location: {redacted}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;Then I tried basic CRUD operations in natural language:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;create an issue&amp;rdquo; ‚Äî create: followed by further prompts with issue details ‚úÖ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;transition the issue to won&amp;rsquo;t do&amp;rdquo; ‚Äì update / delete ‚úÖ&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt;: &amp;ldquo;find an issue related to foo deployment in cluster bar&amp;rdquo;) ‚Äì read ‚úÖ&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Everything worked successfully.&lt;/p&gt;
&lt;p&gt;I also tried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Prompt&lt;/strong&gt; (plan mode on, thinking enabled): Propose a way to handle https://{corp}.atlassian.net/browse/INFRA-12528.&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;‚è∫ I&amp;rsquo;ll fetch the details of the Jira issue to understand what needs to be handled.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;I feel this will be quite useful from now on!&lt;/p&gt;
&lt;div class="footnotes" role="doc-endnotes"&gt;
&lt;hr&gt;
&lt;ol&gt;
&lt;li id="fn:1"&gt;
&lt;p&gt;For now?!?&amp;#160;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fnref:1" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li id="fn:2"&gt;
&lt;p&gt;I blame &lt;em&gt;Google&lt;/em&gt;, the corporation, for getting me accustomed to saying
&amp;ldquo;file a bug&amp;rdquo; and &amp;ldquo;bug tracker&amp;rdquo;. Not every ticket is a bug. Atlassian is
trying to shovel the &amp;ldquo;work item&amp;rdquo; term onto us, but &amp;ldquo;issue&amp;rdquo; is the
appropriate concept.&amp;#160;&lt;a href="https://perrotta.dev/2025/10/claude-code-adding-my-first-mcp-server/#fnref:2" class="footnote-backref" role="doc-backlink"&gt;&amp;#x21a9;&amp;#xfe0e;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;p&gt;‚Äî ¬ß ‚Äî&lt;/p&gt;&lt;p&gt;Reply via &lt;a href="mailto:serendipity@perrotta.dev?subject=Reply to: Claude Code: adding my first MCP server"&gt;email&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href="https://perrotta.dev/tags/ai/"&gt;#ai&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/bestof/"&gt;#bestof&lt;/a&gt; &lt;a href="https://perrotta.dev/tags/dev/"&gt;#dev&lt;/a&gt;&lt;/p&gt;</description></item></channel></rss>
<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>The Eudyptula Challenge | not just serendipity</title>
<meta name=title content="The Eudyptula Challenge"><meta name=description content="Update: I stopped at task 06 on February. Little seems to have stopped responding e-mails. Which is sad, because I was liking those tasks =/
I am participating in the Eudyptula Challenge, which is not something exactly new, but it is as able to get you out of your comfort zone as if it were1.
It puts you into the mind of a Linux Kernel developer, where you are required to write and submit patches and to complete some tasks."><meta name=keywords content="linux,"><meta property="og:url" content="https://perrotta.dev/2015/01/the-eudyptula-challenge/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="The Eudyptula Challenge"><meta property="og:description" content="Update: I stopped at task 06 on February. Little seems to have stopped responding e-mails. Which is sad, because I was liking those tasks =/
I am participating in the Eudyptula Challenge, which is not something exactly new, but it is as able to get you out of your comfort zone as if it were1.
It puts you into the mind of a Linux Kernel developer, where you are required to write and submit patches and to complete some tasks."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-01-07T12:54:40+00:00"><meta property="article:modified_time" content="2015-01-07T12:54:40+00:00"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="The Eudyptula Challenge"><meta name=twitter:description content="Update: I stopped at task 06 on February. Little seems to have stopped responding e-mails. Which is sad, because I was liking those tasks =/
I am participating in the Eudyptula Challenge, which is not something exactly new, but it is as able to get you out of your comfort zone as if it were1.
It puts you into the mind of a Linux Kernel developer, where you are required to write and submit patches and to complete some tasks."><meta itemprop=name content="The Eudyptula Challenge"><meta itemprop=description content="Update: I stopped at task 06 on February. Little seems to have stopped responding e-mails. Which is sad, because I was liking those tasks =/
I am participating in the Eudyptula Challenge, which is not something exactly new, but it is as able to get you out of your comfort zone as if it were1.
It puts you into the mind of a Linux Kernel developer, where you are required to write and submit patches and to complete some tasks."><meta itemprop=datePublished content="2015-01-07T12:54:40+00:00"><meta itemprop=dateModified content="2015-01-07T12:54:40+00:00"><meta itemprop=wordCount content="902"><meta itemprop=keywords content="Linux"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fff;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}footer{font-size:small}a{color:#3273dc}.title{text-decoration:none;border:0}.title span{font-weight:400}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}footer{padding:25px;text-align:center}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#333;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>‚òÖ</a></nav></header><main><h1>The Eudyptula Challenge</h1><p><i><time datetime=2015-01-07 pubdate>07 Jan, 2015
</time>‚Ä¢ 902 words</i></p><content><p><strong>Update: I stopped at task 06 on February. Little seems to have stopped responding e-mails. Which is sad, because I was liking those tasks =/</strong></p><p>I am participating in the <a href=http://eudyptula-challenge.org/>Eudyptula Challenge</a>, which is not something exactly new, but it is as able to get you out of your comfort zone as if it were<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>It puts you into the mind of a Linux Kernel developer, where you are required to write and submit patches and to complete some tasks.</p><p>Subscribing to the challenge is a mini challenge itself<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup>: you must write to <em>little</em> (the superuser behind the thing) an e-mail in plain text. This means: NO HTML. This looks like a silly requirement, but it‚Äôs the way how the (real) Linux developers work, and it is actually slightly fancier than you probably imagine. <em>Little</em> himself recommends that the participants don&rsquo;t use either the Gmail web interface or Outlook.</p><p>I intend to document here my own experiences with Eudyptula<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup>.</p><h2 id=setting-up>Setting up</h2><p>The first thing I went after was a decent and updated Linux distro; doing the challenge within a Linux rather than anything else offers a better experience. Zero effort here, as I‚Äôve already had Arch Linux<sup id=fnref:4><a href=#fn:4 class=footnote-ref role=doc-noteref>4</a></sup> installed.</p><p>Next: a good text editor. Wait‚Ä¶why not two? I am using vim to compose e-mails, and emacs to write code.</p><p>What‚Äôs next? Oh yes‚Ä¶a decent <code>sendmail</code> program. It is not mandatory to have one of those, but it eases a lot the process of writing e-mail in plain text. I grabbed <code>msmtp</code> plus its MTA. Writing a config file for it is pretty straightforward.</p><p>And now I was ready: I subscribed to the challenge.</p><h2 id=the-task-01>The task #01</h2><p>Hours later, <em>little</em><sup id=fnref:5><a href=#fn:5 class=footnote-ref role=doc-noteref>5</a></sup> acknowledged my e-mail and sent me the instructions for the first task.</p><blockquote><p>I should write my first module for the Linux Kernel.</p></blockquote><p>A good start. <em>I didn‚Äôt even know how to begin, oh no!</em></p><p>The task was to write a module that would write ‚ÄòHello World‚Äô to the debug level log of the running kernel when loaded.</p><p>First, I had to install some dependencies to be able to compile a couple of C programs. Actually, the <code>base-devel</code> group from Arch already contained most of the things I would need. <code>linux-headers</code> and <code>bc</code> were also relevant.</p><p>My first module, written in C<sup id=fnref:6><a href=#fn:6 class=footnote-ref role=doc-noteref>6</a></sup>, looked like this in the end:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;linux/init.h&gt;;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;linux/kernel.h&gt;;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e>#include</span> <span style=color:#75715e>&lt;linux/module.h&gt;;</span><span style=color:#75715e>
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>MODULE_AUTHOR</span>(<span style=color:#e6db74>&#34;Thiago Perrotta&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>MODULE_DESCRIPTION</span>(<span style=color:#e6db74>&#34;A gentle Hello World module&#34;</span>);
</span></span><span style=display:flex><span><span style=color:#a6e22e>MODULE_LICENSE</span>(<span style=color:#e6db74>&#34;GPL&#34;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>int</span> __init <span style=color:#a6e22e>hello_init</span>(<span style=color:#66d9ef>void</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>printk</span>(KERN_DEBUG <span style=color:#e6db74>&#34;Hello world!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>static</span> <span style=color:#66d9ef>void</span> __exit <span style=color:#a6e22e>hello_cleanup</span>(<span style=color:#66d9ef>void</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>printk</span>(KERN_DEBUG <span style=color:#e6db74>&#34;Goodbye World!</span><span style=color:#ae81ff>\n</span><span style=color:#e6db74>&#34;</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>module_init</span>(hello_init);
</span></span><span style=display:flex><span><span style=color:#a6e22e>module_exit</span>(hello_cleanup);
</span></span></code></pre></div><p>I didn‚Äôt get it right in my first trial, of course. In particular, I wrote ‚ÄòHello World‚Äô to the INFO log level, using <code>KERN_INFO</code>, instead of <code>KERN_DEBUG</code>.</p><p>And I also needed a <code>Makefile</code> to be able to compile it:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=display:flex><span>obj-m <span style=color:#f92672>+=</span> hello.o
</span></span><span style=display:flex><span>KERNEL <span style=color:#f92672>?=</span> /lib/modules/<span style=color:#66d9ef>$(</span>shell uname -r<span style=color:#66d9ef>)</span>/build
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>all</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    make -C <span style=color:#66d9ef>$(</span>KERNEL<span style=color:#66d9ef>)</span> M<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>PWD<span style=color:#66d9ef>)</span> modules
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>clean</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>    make -C <span style=color:#66d9ef>$(</span>KERNEL<span style=color:#66d9ef>)</span> M<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>PWD<span style=color:#66d9ef>)</span> clean
</span></span></code></pre></div><p>The <code>Makefile</code> wasn&rsquo;t right in my first trial, either. Another requirement of this task was that this file should provide an environment variable, as an alternative location for the build directory of the kernel, opposed to being a hard coded value. I provided one from the beginning, but the way I wrote it was slightly wrong.</p><p>Now, this code didn&rsquo;t just pop out of my head out of nothing. Although I know how to program in C, I never did kernel programming before. I had to look up for some documentation about how to write a module. It wasn&rsquo;t super straightforward, because I found many documentation sources about writing modules for the Linux 2.6.x version, which is outdated now<sup id=fnref:7><a href=#fn:7 class=footnote-ref role=doc-noteref>7</a></sup>, and the modern version of writing modules is a bit different from it.</p><p>Also, I was careful not to accidentally find a solution for this task directly. Of course, some people have already done it, and they could have written something about their experiences, as I am doing right now.</p><p>Anyways, after writing those two files and testing that they really worked as expected, I loaded my freshly built module. And yay, a simple <code>dmesg</code> would reveal my hello message out there. It was really cool to see it worked:</p><pre tabindex=0><code class=language-none data-lang=none>thiago@archpad ~//01 % sudo modinfo hello.ko
filename:       /home/thiago//01/hello.ko
license:        GPL
description:    A gentle Hello World module
author:         Thiago Perrotta
depends:
vermagic:       3.17.6-1-ARCH SMP preempt mod_unload modversions
</code></pre><p>After that, I‚Äôve sent everything I should to <em>little</em>, and today I got its reply, about the second task. So, let‚Äôs go‚Ä¶</p><h2 id=what-have-i-learned-with-this-task>What have I learned with this task?</h2><ul><li>how to write a Makefile to compile a kernel module</li><li>how to execute shell commands within a Makefile</li><li>how to use an environment variable within a Makefile</li><li>how to write e-mails in plain text and send them with msmtp</li><li>how to send attachments <strong>without</strong> base64 encoding<sup id=fnref:8><a href=#fn:8 class=footnote-ref role=doc-noteref>8</a></sup></li><li>how to load, unload and get information about modules</li><li>modules are so dynamic and easy to load, huh? Like USB devices. I would never imagine that.</li></ul><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>It is also a excuse for me to write something here :-)&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2><p>Pun intended.&#160;<a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3><p>I can‚Äôt write this in one shot. Really. Eudi‚Üêyptull‚Üêa. <strong>EUDYPTULA</strong>.&#160;<a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:4><p>The distro that will conquer the <a href="https://wiki.archlinux.org/index.php?title=DeveloperWiki&amp;oldid=293327#Organization">moon</a>.&#160;<a href=#fnref:4 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:5><p>Which turned out to be a bot.&#160;<a href=#fnref:5 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:6><p>Damn, everything will be written in C from now on. That‚Äôs what we get with kernel programming, I guess.&#160;<a href=#fnref:6 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:7><p>Only lazy or paranoid Linux sysadmins will tell you otherwise üòâ&#160;<a href=#fnref:7 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:8><p>This turned out to be the hardest thing of this task, yet it wasn‚Äôt even part of it.&#160;<a href=#fnref:8 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></content><p><a href=https://perrotta.dev/tags/linux/>#linux</a></p></main><footer><span>¬© 2021 - 2025 <a href=mailto:tbperrotta@gmail.com>Thiago Perrotta</a> <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>Some Rights Reserved</a> ¬∑ <a href=/index.xml>RSS</a> ¬∑ a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo  ï‚Ä¢·¥•‚Ä¢ î bear</a></span></footer></body></html>
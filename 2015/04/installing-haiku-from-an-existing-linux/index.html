<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Installing Haiku from an existing linux | Not Just Serendipity</title>
<meta name=keywords content="classics,linux"><meta name=description content="Whatâ€™s Haiku in the first place?
It is an operating system, period. What might cause a small surprise is that it is not based either on Linux or on BSD â€” and yet it is (probably) runnable in your modern computer/laptop!"><meta name=author content="Thiago Perrotta"><link rel=canonical href=https://thiagowfx.github.io/2015/04/installing-haiku-from-an-existing-linux/><link crossorigin=anonymous href=/assets/css/stylesheet.5cfc680b1eeaeef9efbced92d46c2a9e876b72ee14fba85846afc4cff9e6e6f8.css integrity="sha256-XPxoCx7q7vnvvO2S1Gwqnodrcu4U+6hYRq/Ez/nm5vg=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=https://thiagowfx.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://thiagowfx.github.io/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://thiagowfx.github.io/favicon.ico><link rel=apple-touch-icon href=https://thiagowfx.github.io/apple-touch-icon.png><link rel=mask-icon href=https://thiagowfx.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}h1,h2,h3,h4,h5,h6,footer,nav,.toc,.post-meta{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}</style><meta property="og:title" content="Installing Haiku from an existing linux"><meta property="og:description" content="Whatâ€™s Haiku in the first place?
It is an operating system, period. What might cause a small surprise is that it is not based either on Linux or on BSD â€” and yet it is (probably) runnable in your modern computer/laptop!"><meta property="og:type" content="article"><meta property="og:url" content="https://thiagowfx.github.io/2015/04/installing-haiku-from-an-existing-linux/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2015-04-03T17:20:19+00:00"><meta property="article:modified_time" content="2015-04-03T17:20:19+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installing Haiku from an existing linux"><meta name=twitter:description content="Whatâ€™s Haiku in the first place?
It is an operating system, period. What might cause a small surprise is that it is not based either on Linux or on BSD â€” and yet it is (probably) runnable in your modern computer/laptop!"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://thiagowfx.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Installing Haiku from an existing linux","item":"https://thiagowfx.github.io/2015/04/installing-haiku-from-an-existing-linux/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Installing Haiku from an existing linux","name":"Installing Haiku from an existing linux","description":"Whatâ€™s Haiku in the first place? It is an operating system, period. What might cause a small surprise is that it is not based either on Linux or on BSD â€” and yet it is (probably) runnable in your modern computer/laptop!\n","keywords":["classics","linux"],"articleBody":"Whatâ€™s Haiku in the first place? It is an operating system, period. What might cause a small surprise is that it is not based either on Linux or on BSD â€” and yet it is (probably) runnable in your modern computer/laptop!\nWhat I most like on it is that the system is integrated with the GUI, so the end user gets a nice experience. This is not so common as it sounds: most Linux distributions are simply a collection of programs and utilities put together in one place, but they are not necessarily integrated â€” however,Â you can integrate them. This makes all the difference between user-friendly and user-centered paradigms1.\nAnyway, Haiku is simple, so for me this post is more a hobby than something useful that I will use in the future; however, I find that knowing about more and more about different operating systems has its own advantages.\nFor more, seeÂ https://www.haiku-os.org/about.\nInstalling Haiku Note: most of those instructions come from here. Also, thanks David Couzelis for kindly giving me some advice and pointing me out to them.\nGet Haiku. You can do it either from here, or get nightly releases from here. I personally recommend the nightly releases; I first installed the latest non-nightly one, but later on I discovered that is was very old (circa 2012): it didnâ€™t even have a package manager. Which image should you download? In this post, I am assuming weâ€™ll install Haiku directly to a (real) disk, so Iâ€™m downloading the raw image. Actually, the anyboot image can also be downloaded â€” and this is the one you will get if you opted for a non-nightly version; however, the anyboot image will be converted to a raw one in step 3 before we proceed. So, skip the next step if you downloaded the raw image. Got your anyboot image? Now, convert it to raw (run this from a bash compatible shell): $ dd if=haiku-anyboot.image of=haiku.raw bs=1M skip=$(expr $(od -j 454 -N4 -i -A n haiku-anyboot.image) / 2048) $ dd if=/dev/zero of=haiku.raw bs=1 seek=506 count=4 conv=notrunc Update (2022): These days dd supports status=progress to display the image writing progress.\nNow that we got a raw image, we are writing it directly to a disk partition. First things first: find 3GB or more of free space in your disk. Then create room for a partition in there (for example, with fdisk or gparted). Got it? Now create a partition in there. Iâ€™ll assume the partition is /dev/sda42. Please change 42 for the appropriate number in your case. Copy the raw image to the partition (this should be done as ROOT); WARNING: double check the partition and the disk number, otherwise you might lose data. $ dd if=haiku.raw of=/dev/sda42 bs=1M conv=notrunc Make the installation bootable: youâ€™ll need to compile and run theÂ makebootabletiny program, which can be downloaded from here. It is a simple C program, so: $ gcc makebootabletiny.c -o makebootabletiny % ./makebootabletiny /dev/sda42 # this one: as ROOT Make your bootloader know about Haiku. If youâ€™re using grub2z, you can add something such as the following lines to /etc/grub.d/40_custom: menuentry \"Haiku OS\" { set root(hd0,42) chainloader +1 } Then runÂ as root:Â grub-mkconfig -o /boot/grub/grub.cfg Done! Now you should be able to boot into Haiku.\nNow what? This post is not a review of Haiku, so Iâ€™m stopping here. However, if I write a review about Haiku, Iâ€™ll do that from Haiku ðŸ™‚.\nIâ€™m just leaving thisÂ here: https://www.haiku-os.org/slideshows/haiku-1\nBy the way, Arch Linux is user-centered, which means that youâ€™re supposed to integrate the system as you wish. If you donâ€™t wish that then youâ€™re screwed anyway, so go away ðŸ™‚Â â†©ï¸Ž\n","wordCount":"609","inLanguage":"en","datePublished":"2015-04-03T17:20:19Z","dateModified":"2015-04-03T17:20:19Z","author":{"@type":"Person","name":"Thiago Perrotta"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://thiagowfx.github.io/2015/04/installing-haiku-from-an-existing-linux/"},"publisher":{"@type":"Person","name":"Not Just Serendipity","logo":{"@type":"ImageObject","url":"https://thiagowfx.github.io/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://thiagowfx.github.io/ accesskey=h title="Not Just Serendipity (Alt + H)"><img src=https://thiagowfx.github.io/apple-touch-icon.png alt aria-label=logo height=32>Not Just Serendipity</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://thiagowfx.github.io/posts/ title=posts><span>posts</span></a></li><li><a href=https://thiagowfx.github.io/archives/ title=archives><span>archives</span></a></li><li><a href=https://thiagowfx.github.io/tags/bestof/ title=bestof><span>bestof</span></a></li><li><a href=https://thiagowfx.github.io/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://thiagowfx.github.io/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Installing Haiku from an existing linux</h1><div class=post-meta><span title='2015-04-03 17:20:19 +0000 UTC'>April 3, 2015</span>&nbsp;Â·&nbsp;609 words&nbsp;Â·&nbsp;Thiago Perrotta</div></header><div class=post-content><h2 id=what8217s-haiku-in-the-first-place>Whatâ€™s Haiku in the first place?<a hidden class=anchor aria-hidden=true href=#what8217s-haiku-in-the-first-place>#</a></h2><p>It is an operating system, period. What might cause a small surprise is that it is not based either on Linux or on BSD â€” and yet it is (probably) runnable in your modern computer/laptop!</p><p>What I most like on it is that the system is integrated with the GUI, so the end user gets a nice experience. This is not so common as it sounds: most Linux distributions are simply a collection of programs and utilities put together in one place, but they are not necessarily integrated â€” however,Â <strong>you</strong> can integrate them. This makes all the difference between user-friendly and user-centered paradigms<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>.</p><p>Anyway, Haiku is simple, so for me this post is more a hobby than something useful that I will use in the future; however, I find that knowing about more and more about different operating systems has its own advantages.</p><p>For more, seeÂ <a href=https://www.haiku-os.org/about>https://www.haiku-os.org/about</a>.</p><h2 id=installing-haiku>Installing Haiku<a hidden class=anchor aria-hidden=true href=#installing-haiku>#</a></h2><p><strong>Note:</strong> most of those instructions come from <a href=https://www.haiku-os.org/guides/installing_haiku_image_disk_partition>here</a>. Also, thanks David Couzelis for kindly giving me some advice and pointing me out to them.</p><ol><li>Get Haiku. You can do it either from <a href=https://www.haiku-os.org/get-haiku>here</a>, or get nightly releases from <a href=http://download.haiku-os.org/nightly-images/x86_gcc2_hybrid/>here</a>. I personally recommend the nightly releases; I first installed the latest non-nightly one, but later on I discovered that is was very old (circa 2012): it didnâ€™t even have a package manager.</li><li>Which image should you download? In this post, I am assuming weâ€™ll install Haiku directly to a (real) disk, so Iâ€™m downloading the <strong>raw</strong> image. Actually, the <strong>anyboot</strong> image can also be downloaded â€” and this is the one you will get if you opted for a non-nightly version; however, the anyboot image will be converted to a raw one in step 3 before we proceed. So, skip the next step if you downloaded the raw image.</li><li>Got your anyboot image? Now, convert it to raw (run this from a bash compatible shell):</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>haiku-anyboot.image of<span style=color:#f92672>=</span>haiku.raw bs<span style=color:#f92672>=</span>1M skip<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>expr <span style=color:#66d9ef>$(</span>od -j <span style=color:#ae81ff>454</span> -N4 -i -A n haiku-anyboot.image<span style=color:#66d9ef>)</span> / 2048<span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>$ dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>/dev/zero of<span style=color:#f92672>=</span>haiku.raw bs<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span> seek<span style=color:#f92672>=</span><span style=color:#ae81ff>506</span> count<span style=color:#f92672>=</span><span style=color:#ae81ff>4</span> conv<span style=color:#f92672>=</span>notrunc
</span></span></code></pre></div><p><strong>Update (2022)</strong>: These days <code>dd</code> supports <code>status=progress</code> to display the image writing progress.</p><ol start=4><li>Now that we got a raw image, we are writing it directly to a disk partition. First things first: find 3GB or more of free space in your disk. Then create room for a partition in there (for example, with <em>fdisk</em> or <em>gparted)</em>. Got it? Now create a partition in there. Iâ€™ll assume the partition is <code>/dev/sda42</code>. Please change 42 for the appropriate number in your case.</li><li>Copy the raw image to the partition (this should be done as ROOT); <strong>WARNING</strong>: double check the partition and the disk number, otherwise you might lose data.</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ dd <span style=color:#66d9ef>if</span><span style=color:#f92672>=</span>haiku.raw of<span style=color:#f92672>=</span>/dev/sda42 bs<span style=color:#f92672>=</span>1M conv<span style=color:#f92672>=</span>notrunc
</span></span></code></pre></div><ol start=6><li>Make the installation <em>bootable</em>: youâ€™ll need to compile and run theÂ <em>makebootabletiny</em> program, which can be downloaded from <a href=https://www.haiku-os.org/guides/installing_haiku_image_disk_partition>here</a>. It is a simple C program, so:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ gcc makebootabletiny.c -o makebootabletiny
</span></span><span style=display:flex><span>% ./makebootabletiny /dev/sda42  <span style=color:#75715e># this one: as ROOT</span>
</span></span></code></pre></div><ol start=7><li>Make your bootloader know about Haiku. If youâ€™re using <code>grub2</code>z, you can add something such as the following lines to <code>/etc/grub.d/40_custom</code>:</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>menuentry <span style=color:#e6db74>&#34;Haiku OS&#34;</span> <span style=color:#f92672>{</span>
</span></span><span style=display:flex><span>    set root<span style=color:#f92672>(</span>hd0,42<span style=color:#f92672>)</span>
</span></span><span style=display:flex><span>    chainloader +1
</span></span><span style=display:flex><span><span style=color:#f92672>}</span>
</span></span></code></pre></div><ol start=8><li>Then runÂ as root:Â <em>grub-mkconfig -o /boot/grub/grub.cfg</em></li></ol><p><strong>Done!</strong> Now you should be able to boot into Haiku.</p><h2 id=now-what>Now what?<a hidden class=anchor aria-hidden=true href=#now-what>#</a></h2><p>This post is not a review of Haiku, so Iâ€™m stopping here. However, if I write a review about Haiku, Iâ€™ll do that from Haiku ðŸ™‚.</p><p>Iâ€™m just leaving thisÂ here: <a href=https://www.haiku-os.org/slideshows/haiku-1>https://www.haiku-os.org/slideshows/haiku-1</a></p><div class=footnotes role=doc-endnotes><hr><ol><li id=fn:1><p>By the way, Arch Linux is user-centered, which means that youâ€™re supposed to integrate the system as you wish. If you donâ€™t wish that then youâ€™re screwed anyway, so go away ðŸ™‚&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></div></div><footer class=post-footer><ul class=post-tags><li><a href=https://thiagowfx.github.io/tags/classics/>classics</a></li><li><a href=https://thiagowfx.github.io/tags/linux/>linux</a></li></ul><nav class=paginav><a class=prev href=https://thiagowfx.github.io/2021/12/hello-world-from-hugo/><span class=title>Â« Prev</span><br><span>Hello World from Hugo</span>
</a><a class=next href=https://thiagowfx.github.io/2015/01/the-eudyptula-challenge/><span class=title>Next Â»</span><br><span>The Eudyptula Challenge</span></a></nav></footer><div style=text-align:center><a href="mailto:tbperrotta@gmail.com?subject=RE: Not%20Just%20Serendipity comment for 'Installing%20Haiku%20from%20an%20existing%20linux'" target=_blank><button>Reply via email</button></a></div></article></main><footer class=footer><span>Copyright Â© 2021 - 2024 Thiago Perrotta â€¢ <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> â€¢ <a href=/index.xml>RSS</a> â€¢</span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>
<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Linux: Auto Switch to Bluetooth Headset | not just serendipity</title><meta name=title content="Linux: Auto Switch to Bluetooth Headset">
<meta name=description content="Whenever I connect/disconnect my bluetooth headphones to my Linux workstation, I need to manually switch to/off them.
Every commercial OS I&rsquo;m aware of does that automatically, including Chrome OS, macOS and Windows.
To automate this behavior on Linux, it depends whether we&rsquo;re using PulseAudio or Pipewire. It boils down to loading the module-switch-on-connect pulseaudio module.
Note: Tested on Arch Linux only.
PulseAudio
$ sudoedit /etc/pulse/default.pa
...
load-module module-switch-on-connect
...
Then restart pulseaudio:"><meta name=keywords content="linux,"><meta property="og:url" content="https://perrotta.dev/2021/12/linux-auto-switch-to-bluetooth-headset/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Linux: Auto Switch to Bluetooth Headset"><meta property="og:description" content="Whenever I connect/disconnect my bluetooth headphones to my Linux workstation, I need to manually switch to/off them.
Every commercial OS I’m aware of does that automatically, including Chrome OS, macOS and Windows.
To automate this behavior on Linux, it depends whether we’re using PulseAudio or Pipewire. It boils down to loading the module-switch-on-connect pulseaudio module.
Note: Tested on Arch Linux only.
PulseAudio $ sudoedit /etc/pulse/default.pa ... load-module module-switch-on-connect ... Then restart pulseaudio:"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-26T15:27:12-05:00"><meta property="article:modified_time" content="2021-12-26T15:27:12-05:00"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux: Auto Switch to Bluetooth Headset"><meta name=twitter:description content="Whenever I connect/disconnect my bluetooth headphones to my Linux workstation, I need to manually switch to/off them.
Every commercial OS I’m aware of does that automatically, including Chrome OS, macOS and Windows.
To automate this behavior on Linux, it depends whether we’re using PulseAudio or Pipewire. It boils down to loading the module-switch-on-connect pulseaudio module.
Note: Tested on Arch Linux only.
PulseAudio $ sudoedit /etc/pulse/default.pa ... load-module module-switch-on-connect ... Then restart pulseaudio:"><meta itemprop=name content="Linux: Auto Switch to Bluetooth Headset"><meta itemprop=description content="Whenever I connect/disconnect my bluetooth headphones to my Linux workstation, I need to manually switch to/off them.
Every commercial OS I’m aware of does that automatically, including Chrome OS, macOS and Windows.
To automate this behavior on Linux, it depends whether we’re using PulseAudio or Pipewire. It boils down to loading the module-switch-on-connect pulseaudio module.
Note: Tested on Arch Linux only.
PulseAudio $ sudoedit /etc/pulse/default.pa ... load-module module-switch-on-connect ... Then restart pulseaudio:"><meta itemprop=datePublished content="2021-12-26T15:27:12-05:00"><meta itemprop=dateModified content="2021-12-26T15:27:12-05:00"><meta itemprop=wordCount content="151"><meta itemprop=keywords content="Linux"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>body{font-family:crimson pro,vollkorn,alegreya,iowan old style,apple garamond,baskerville,times new roman,noto serif,droid serif,times,source serif pro,serif,apple color emoji,segoe ui emoji,segoe ui symbol,noto color emoji;margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:inter,fira sans,lato,system-ui,-apple-system,BlinkMacSystemFont,avenir next,avenir,segoe ui,helvetica neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}footer{font-size:small;padding:25px;text-align:center}a{color:#3273dc}.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:fira code,pt mono,ibm plex mono,Menlo,Consolas,Monaco,liberation mono,ubuntu mono,lucida console,monospace}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>Linux: Auto Switch to Bluetooth Headset</h1><p><i><time datetime=2021-12-26 pubdate>26 Dec, 2021
</time>• 151 words
• 1 minutes</i></p><content><p>Whenever I connect/disconnect my bluetooth headphones to my Linux workstation, I need to manually switch to/off them.</p><p>Every commercial OS I&rsquo;m aware of does that automatically, including Chrome OS, macOS and Windows.</p><p>To automate this behavior on Linux, it depends whether we&rsquo;re using PulseAudio or Pipewire. It boils down to loading the <code>module-switch-on-connect</code> pulseaudio module.</p><p><strong>Note</strong>: Tested on Arch Linux only.</p><h2 id=pulseaudio>PulseAudio</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sudoedit /etc/pulse/default.pa
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>load-module module-switch-on-connect
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Then restart pulseaudio:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ systemctl --user restart pulseaudio
</span></span></code></pre></div><h2 id=pipewire>PipeWire</h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ sudo mkdir -p /etc/pipewire
</span></span><span style=display:flex><span>$ sudo cp /usr/share/pipewire/pipewire-pulse.conf /etc/pipewire/pipewire-pulse.conf
</span></span><span style=display:flex><span>$ sudoedit /etc/pipewire/pipewire-pulse.conf
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span><span style=color:#75715e># Extra modules can be loaded here. Setup in default.pa can be moved here</span>
</span></span><span style=display:flex><span>context.exec <span style=color:#f92672>=</span> <span style=color:#f92672>[</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>{</span> path <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;pactl&#34;</span>        args <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;load-module module-switch-on-connect&#34;</span> <span style=color:#f92672>}</span>
</span></span><span style=display:flex><span><span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Alternatively, <code>~/.config/pipewire/pipewire-pulse.conf</code> should also work. We
should not edit the file in <code>/usr</code> because it will not survive package
upgrades.</p><p>Then restart pipewire:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>$ systemctl --user restart pipewire<span style=color:#f92672>{</span>,-pulse<span style=color:#f92672>}</span>
</span></span></code></pre></div><h2 id=references>References</h2><ul><li><a href=https://wiki.archlinux.org/title/PulseAudio#Switch_on_connect>https://wiki.archlinux.org/title/PulseAudio#Switch_on_connect</a></li><li><a href=https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Config-PulseAudio#configuration-file-pipewire-pulseconf>https://gitlab.freedesktop.org/pipewire/pipewire/-/wikis/Config-PulseAudio#configuration-file-pipewire-pulseconf</a></li></ul></content><p><a href=https://perrotta.dev/tags/linux/>#linux</a></p></main><footer><span>© 2021 - 2025
<a href=mailto:tbperrotta@gmail.com>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
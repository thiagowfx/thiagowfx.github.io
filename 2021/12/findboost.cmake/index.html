<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title class=title>FindBoost.cmake | ¬¨ just serendipity üçÄ</title><meta name=title content="FindBoost.cmake">
<meta name=description content='When I was in university I made heavy use of cmake with
C++ projects.
Occasionally I would also use boost.
At the time there was no cmake module to integrate with boost libraries. So I
wrote my own.
At some point I published it to a Stack Overflow
answer,
linking to a
gist.
I figured to replicate it here:
# - Find Boost
#
# Copyright (c) 2016 Thiago Perrotta
#
# Permission is hereby granted, free of charge, to any person obtaining a copy of
# this software and associated documentation files (the "Software"), to deal in
# the Software without restriction, including without limitation the rights to
# use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
# the Software, and to permit persons to whom the Software is furnished to do so,
# subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in all
# copies or substantial portions of the Software.
#
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
# IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
# FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
# COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
# IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
# CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
#
# This module finds if Boost is installed and determines where the
# executables are. It sets the following variables:
#
#  BOOST_FOUND : boolean            - system has Boost
#  BOOST_LIBRARIES : list(filepath) - the libraries needed to use Boost
#  BOOST_INCLUDE_DIRS : list(path)  - the Boost include directories
#
# If Boost is not found, this module downloads it according to the
# following variables:
#
#  BOOST_ROOT_DIR : path                - the Path where Boost will be installed on
#  BOOST_REQUESTED_VERSION : string     - the Boost version to be downloaded
#
# You can also specify its components:
#
#  find_package(Boost COMPONENTS program_options system)
#
# which are stored in Boost_FIND_COMPONENTS : list(string)
#
# You can also specify its behavior:
#
#  BOOST_USE_STATIC_LIBS : boolean (default: OFF)

if(NOT Boost_FIND_COMPONENTS)
	message(FATAL_ERROR "No COMPONENTS specified for Boost")
endif()

set(BOOST_USE_STATIC_LIBS false)

# Set the library prefix and library suffix properly.
if(BOOST_USE_STATIC_LIBS)
	set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_STATIC_LIBRARY_PREFIX})
	set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_STATIC_LIBRARY_SUFFIX})
	set(LIBRARY_PREFIX ${CMAKE_STATIC_LIBRARY_PREFIX})
	set(LIBRARY_SUFFIX ${CMAKE_STATIC_LIBRARY_SUFFIX})
else()
	set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_SHARED_LIBRARY_PREFIX})
	set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_SHARED_LIBRARY_SUFFIX})
	set(LIBRARY_PREFIX ${CMAKE_SHARED_LIBRARY_PREFIX})
	set(LIBRARY_SUFFIX ${CMAKE_SHARED_LIBRARY_SUFFIX})
endif()

# Create a list(string) for the build command (e.g. --with-program_options;--with-system)
# and assigns it to BOOST_COMPONENTS_FOR_BUILD
foreach(component ${Boost_FIND_COMPONENTS})
	list(APPEND BOOST_COMPONENTS_FOR_BUILD --with-${component})
endforeach()

# Create a string for the first component (e.g. boost_program_options)
# and assigns it to Boost_FIND_COMPONENTS
list(GET Boost_FIND_COMPONENTS 0 BOOST_FIRST_COMPONENT)
set(BOOST_FIRST_COMPONENT "boost_${BOOST_FIRST_COMPONENT}")

include(FindPackageHandleStandardArgs)

macro(DO_FIND_BOOST_SYSTEM)
	find_path(BOOST_INCLUDE_DIR boost/config.hpp
		PATHS /usr/local/include /usr/include
		)
	find_library(BOOST_LIBRARY
		NAMES ${BOOST_FIRST_COMPONENT}
		PATHS /usr/local/lib /usr/lib
		)
	FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG
		BOOST_INCLUDE_DIR BOOST_LIBRARY
		)
	set(BOOST_LIBRARIES ${BOOST_LIBRARY})
	set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR})
	mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS)
endmacro()

macro(DO_FIND_BOOST_ROOT)
	if(NOT BOOST_ROOT_DIR)
		message(STATUS "BOOST_ROOT_DIR is not defined, using binary directory.")
		set(BOOST_ROOT_DIR ${CURRENT_CMAKE_BINARY_DIR} CACHE PATH "")
	endif()

	find_path(BOOST_INCLUDE_DIR boost/config.hpp ${BOOST_ROOT_DIR}/include)
	find_library(BOOST_LIBRARY ${BOOST_FIRST_COMPONENT} HINTS ${BOOST_ROOT_DIR}/lib)
	FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG
		BOOST_INCLUDE_DIR BOOST_LIBRARY
		)
	set(BOOST_LIBRARIES ${BOOST_LIBRARY})
	set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR})
	mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS)
endmacro()

macro(DO_FIND_BOOST_DOWNLOAD)
	if(NOT BOOST_REQUESTED_VERSION)
		message(FATAL_ERROR "BOOST_REQUESTED_VERSION is not defined.")
	endif()

	string(REPLACE "." "_" BOOST_REQUESTED_VERSION_UNDERSCORE ${BOOST_REQUESTED_VERSION})

	set(BOOST_MAYBE_STATIC)
	if(BOOST_USE_STATIC_LIBS)
		set(BOOST_MAYBE_STATIC "link=static")
	endif()

	include(ExternalProject)
	ExternalProject_Add(
		Boost
		URL https://downloads.sourceforge.net/project/boost/boost/${BOOST_REQUESTED_VERSION}/boost_${BOOST_REQUESTED_VERSION_UNDERSCORE}.zip
		UPDATE_COMMAND ""
		CONFIGURE_COMMAND ./bootstrap.sh --prefix=${BOOST_ROOT_DIR}
		BUILD_COMMAND ./b2 ${BOOST_MAYBE_STATIC} --prefix=${BOOST_ROOT_DIR} ${BOOST_COMPONENTS_FOR_BUILD} install
		BUILD_IN_SOURCE true
		INSTALL_COMMAND ""
		INSTALL_DIR ${BOOST_ROOT_DIR}
		)

	ExternalProject_Get_Property(Boost install_dir)
	set(BOOST_INCLUDE_DIRS ${install_dir}/include)

	macro(libraries_to_fullpath varname)
		set(${varname})
		foreach(component ${Boost_FIND_COMPONENTS})
			list(APPEND ${varname} ${BOOST_ROOT_DIR}/lib/${LIBRARY_PREFIX}boost_${component}${LIBRARY_SUFFIX})
		endforeach()
	endmacro()
	libraries_to_fullpath(BOOST_LIBRARIES)

	FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG
		BOOST_INCLUDE_DIRS BOOST_LIBRARIES
		)
	mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS)
endmacro()

if(NOT BOOST_FOUND)
	DO_FIND_BOOST_ROOT()
endif()

if(NOT BOOST_FOUND)
	DO_FIND_BOOST_SYSTEM()
endif()

if(NOT BOOST_FOUND)
	DO_FIND_BOOST_DOWNLOAD()
endif()
Usage: Like any other cmake find
module,
with find_package.'><meta name=keywords content="bestof,dev,"><meta property="og:url" content="https://perrotta.dev/2021/12/findboost.cmake/"><meta property="og:site_name" content="¬¨ just serendipity üçÄ"><meta property="og:title" content="FindBoost.cmake"><meta property="og:description" content='When I was in university I made heavy use of cmake with C++ projects.
Occasionally I would also use boost.
At the time there was no cmake module to integrate with boost libraries. So I wrote my own.
At some point I published it to a Stack Overflow answer, linking to a gist.
I figured to replicate it here:
# - Find Boost # # Copyright (c) 2016 Thiago Perrotta # # Permission is hereby granted, free of charge, to any person obtaining a copy of # this software and associated documentation files (the "Software"), to deal in # the Software without restriction, including without limitation the rights to # use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of # the Software, and to permit persons to whom the Software is furnished to do so, # subject to the following conditions: # # The above copyright notice and this permission notice shall be included in all # copies or substantial portions of the Software. # # THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR # IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS # FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR # COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER # IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN # CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. # # This module finds if Boost is installed and determines where the # executables are. It sets the following variables: # # BOOST_FOUND : boolean - system has Boost # BOOST_LIBRARIES : list(filepath) - the libraries needed to use Boost # BOOST_INCLUDE_DIRS : list(path) - the Boost include directories # # If Boost is not found, this module downloads it according to the # following variables: # # BOOST_ROOT_DIR : path - the Path where Boost will be installed on # BOOST_REQUESTED_VERSION : string - the Boost version to be downloaded # # You can also specify its components: # # find_package(Boost COMPONENTS program_options system) # # which are stored in Boost_FIND_COMPONENTS : list(string) # # You can also specify its behavior: # # BOOST_USE_STATIC_LIBS : boolean (default: OFF) if(NOT Boost_FIND_COMPONENTS) message(FATAL_ERROR "No COMPONENTS specified for Boost") endif() set(BOOST_USE_STATIC_LIBS false) # Set the library prefix and library suffix properly. if(BOOST_USE_STATIC_LIBS) set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_STATIC_LIBRARY_PREFIX}) set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_STATIC_LIBRARY_SUFFIX}) set(LIBRARY_PREFIX ${CMAKE_STATIC_LIBRARY_PREFIX}) set(LIBRARY_SUFFIX ${CMAKE_STATIC_LIBRARY_SUFFIX}) else() set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_SHARED_LIBRARY_PREFIX}) set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_SHARED_LIBRARY_SUFFIX}) set(LIBRARY_PREFIX ${CMAKE_SHARED_LIBRARY_PREFIX}) set(LIBRARY_SUFFIX ${CMAKE_SHARED_LIBRARY_SUFFIX}) endif() # Create a list(string) for the build command (e.g. --with-program_options;--with-system) # and assigns it to BOOST_COMPONENTS_FOR_BUILD foreach(component ${Boost_FIND_COMPONENTS}) list(APPEND BOOST_COMPONENTS_FOR_BUILD --with-${component}) endforeach() # Create a string for the first component (e.g. boost_program_options) # and assigns it to Boost_FIND_COMPONENTS list(GET Boost_FIND_COMPONENTS 0 BOOST_FIRST_COMPONENT) set(BOOST_FIRST_COMPONENT "boost_${BOOST_FIRST_COMPONENT}") include(FindPackageHandleStandardArgs) macro(DO_FIND_BOOST_SYSTEM) find_path(BOOST_INCLUDE_DIR boost/config.hpp PATHS /usr/local/include /usr/include ) find_library(BOOST_LIBRARY NAMES ${BOOST_FIRST_COMPONENT} PATHS /usr/local/lib /usr/lib ) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIR BOOST_LIBRARY ) set(BOOST_LIBRARIES ${BOOST_LIBRARY}) set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR}) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() macro(DO_FIND_BOOST_ROOT) if(NOT BOOST_ROOT_DIR) message(STATUS "BOOST_ROOT_DIR is not defined, using binary directory.") set(BOOST_ROOT_DIR ${CURRENT_CMAKE_BINARY_DIR} CACHE PATH "") endif() find_path(BOOST_INCLUDE_DIR boost/config.hpp ${BOOST_ROOT_DIR}/include) find_library(BOOST_LIBRARY ${BOOST_FIRST_COMPONENT} HINTS ${BOOST_ROOT_DIR}/lib) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIR BOOST_LIBRARY ) set(BOOST_LIBRARIES ${BOOST_LIBRARY}) set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR}) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() macro(DO_FIND_BOOST_DOWNLOAD) if(NOT BOOST_REQUESTED_VERSION) message(FATAL_ERROR "BOOST_REQUESTED_VERSION is not defined.") endif() string(REPLACE "." "_" BOOST_REQUESTED_VERSION_UNDERSCORE ${BOOST_REQUESTED_VERSION}) set(BOOST_MAYBE_STATIC) if(BOOST_USE_STATIC_LIBS) set(BOOST_MAYBE_STATIC "link=static") endif() include(ExternalProject) ExternalProject_Add( Boost URL https://downloads.sourceforge.net/project/boost/boost/${BOOST_REQUESTED_VERSION}/boost_${BOOST_REQUESTED_VERSION_UNDERSCORE}.zip UPDATE_COMMAND "" CONFIGURE_COMMAND ./bootstrap.sh --prefix=${BOOST_ROOT_DIR} BUILD_COMMAND ./b2 ${BOOST_MAYBE_STATIC} --prefix=${BOOST_ROOT_DIR} ${BOOST_COMPONENTS_FOR_BUILD} install BUILD_IN_SOURCE true INSTALL_COMMAND "" INSTALL_DIR ${BOOST_ROOT_DIR} ) ExternalProject_Get_Property(Boost install_dir) set(BOOST_INCLUDE_DIRS ${install_dir}/include) macro(libraries_to_fullpath varname) set(${varname}) foreach(component ${Boost_FIND_COMPONENTS}) list(APPEND ${varname} ${BOOST_ROOT_DIR}/lib/${LIBRARY_PREFIX}boost_${component}${LIBRARY_SUFFIX}) endforeach() endmacro() libraries_to_fullpath(BOOST_LIBRARIES) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIRS BOOST_LIBRARIES ) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() if(NOT BOOST_FOUND) DO_FIND_BOOST_ROOT() endif() if(NOT BOOST_FOUND) DO_FIND_BOOST_SYSTEM() endif() if(NOT BOOST_FOUND) DO_FIND_BOOST_DOWNLOAD() endif() Usage: Like any other cmake find module, with find_package.'><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-12-12T18:49:58-03:00"><meta property="article:modified_time" content="2025-06-15T02:38:47+02:00"><meta property="article:tag" content="Bestof"><meta property="article:tag" content="Dev"><meta name=twitter:card content="summary"><meta name=twitter:title content="FindBoost.cmake"><meta name=twitter:description content='When I was in university I made heavy use of cmake with C++ projects.
Occasionally I would also use boost.
At the time there was no cmake module to integrate with boost libraries. So I wrote my own.
At some point I published it to a Stack Overflow answer, linking to a gist.
I figured to replicate it here:
# - Find Boost # # Copyright (c) 2016 Thiago Perrotta # # Permission is hereby granted, free of charge, to any person obtaining a copy of # this software and associated documentation files (the "Software"), to deal in # the Software without restriction, including without limitation the rights to # use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of # the Software, and to permit persons to whom the Software is furnished to do so, # subject to the following conditions: # # The above copyright notice and this permission notice shall be included in all # copies or substantial portions of the Software. # # THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR # IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS # FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR # COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER # IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN # CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. # # This module finds if Boost is installed and determines where the # executables are. It sets the following variables: # # BOOST_FOUND : boolean - system has Boost # BOOST_LIBRARIES : list(filepath) - the libraries needed to use Boost # BOOST_INCLUDE_DIRS : list(path) - the Boost include directories # # If Boost is not found, this module downloads it according to the # following variables: # # BOOST_ROOT_DIR : path - the Path where Boost will be installed on # BOOST_REQUESTED_VERSION : string - the Boost version to be downloaded # # You can also specify its components: # # find_package(Boost COMPONENTS program_options system) # # which are stored in Boost_FIND_COMPONENTS : list(string) # # You can also specify its behavior: # # BOOST_USE_STATIC_LIBS : boolean (default: OFF) if(NOT Boost_FIND_COMPONENTS) message(FATAL_ERROR "No COMPONENTS specified for Boost") endif() set(BOOST_USE_STATIC_LIBS false) # Set the library prefix and library suffix properly. if(BOOST_USE_STATIC_LIBS) set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_STATIC_LIBRARY_PREFIX}) set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_STATIC_LIBRARY_SUFFIX}) set(LIBRARY_PREFIX ${CMAKE_STATIC_LIBRARY_PREFIX}) set(LIBRARY_SUFFIX ${CMAKE_STATIC_LIBRARY_SUFFIX}) else() set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_SHARED_LIBRARY_PREFIX}) set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_SHARED_LIBRARY_SUFFIX}) set(LIBRARY_PREFIX ${CMAKE_SHARED_LIBRARY_PREFIX}) set(LIBRARY_SUFFIX ${CMAKE_SHARED_LIBRARY_SUFFIX}) endif() # Create a list(string) for the build command (e.g. --with-program_options;--with-system) # and assigns it to BOOST_COMPONENTS_FOR_BUILD foreach(component ${Boost_FIND_COMPONENTS}) list(APPEND BOOST_COMPONENTS_FOR_BUILD --with-${component}) endforeach() # Create a string for the first component (e.g. boost_program_options) # and assigns it to Boost_FIND_COMPONENTS list(GET Boost_FIND_COMPONENTS 0 BOOST_FIRST_COMPONENT) set(BOOST_FIRST_COMPONENT "boost_${BOOST_FIRST_COMPONENT}") include(FindPackageHandleStandardArgs) macro(DO_FIND_BOOST_SYSTEM) find_path(BOOST_INCLUDE_DIR boost/config.hpp PATHS /usr/local/include /usr/include ) find_library(BOOST_LIBRARY NAMES ${BOOST_FIRST_COMPONENT} PATHS /usr/local/lib /usr/lib ) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIR BOOST_LIBRARY ) set(BOOST_LIBRARIES ${BOOST_LIBRARY}) set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR}) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() macro(DO_FIND_BOOST_ROOT) if(NOT BOOST_ROOT_DIR) message(STATUS "BOOST_ROOT_DIR is not defined, using binary directory.") set(BOOST_ROOT_DIR ${CURRENT_CMAKE_BINARY_DIR} CACHE PATH "") endif() find_path(BOOST_INCLUDE_DIR boost/config.hpp ${BOOST_ROOT_DIR}/include) find_library(BOOST_LIBRARY ${BOOST_FIRST_COMPONENT} HINTS ${BOOST_ROOT_DIR}/lib) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIR BOOST_LIBRARY ) set(BOOST_LIBRARIES ${BOOST_LIBRARY}) set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR}) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() macro(DO_FIND_BOOST_DOWNLOAD) if(NOT BOOST_REQUESTED_VERSION) message(FATAL_ERROR "BOOST_REQUESTED_VERSION is not defined.") endif() string(REPLACE "." "_" BOOST_REQUESTED_VERSION_UNDERSCORE ${BOOST_REQUESTED_VERSION}) set(BOOST_MAYBE_STATIC) if(BOOST_USE_STATIC_LIBS) set(BOOST_MAYBE_STATIC "link=static") endif() include(ExternalProject) ExternalProject_Add( Boost URL https://downloads.sourceforge.net/project/boost/boost/${BOOST_REQUESTED_VERSION}/boost_${BOOST_REQUESTED_VERSION_UNDERSCORE}.zip UPDATE_COMMAND "" CONFIGURE_COMMAND ./bootstrap.sh --prefix=${BOOST_ROOT_DIR} BUILD_COMMAND ./b2 ${BOOST_MAYBE_STATIC} --prefix=${BOOST_ROOT_DIR} ${BOOST_COMPONENTS_FOR_BUILD} install BUILD_IN_SOURCE true INSTALL_COMMAND "" INSTALL_DIR ${BOOST_ROOT_DIR} ) ExternalProject_Get_Property(Boost install_dir) set(BOOST_INCLUDE_DIRS ${install_dir}/include) macro(libraries_to_fullpath varname) set(${varname}) foreach(component ${Boost_FIND_COMPONENTS}) list(APPEND ${varname} ${BOOST_ROOT_DIR}/lib/${LIBRARY_PREFIX}boost_${component}${LIBRARY_SUFFIX}) endforeach() endmacro() libraries_to_fullpath(BOOST_LIBRARIES) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIRS BOOST_LIBRARIES ) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() if(NOT BOOST_FOUND) DO_FIND_BOOST_ROOT() endif() if(NOT BOOST_FOUND) DO_FIND_BOOST_SYSTEM() endif() if(NOT BOOST_FOUND) DO_FIND_BOOST_DOWNLOAD() endif() Usage: Like any other cmake find module, with find_package.'><meta itemprop=name content="FindBoost.cmake"><meta itemprop=description content='When I was in university I made heavy use of cmake with C++ projects.
Occasionally I would also use boost.
At the time there was no cmake module to integrate with boost libraries. So I wrote my own.
At some point I published it to a Stack Overflow answer, linking to a gist.
I figured to replicate it here:
# - Find Boost # # Copyright (c) 2016 Thiago Perrotta # # Permission is hereby granted, free of charge, to any person obtaining a copy of # this software and associated documentation files (the "Software"), to deal in # the Software without restriction, including without limitation the rights to # use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of # the Software, and to permit persons to whom the Software is furnished to do so, # subject to the following conditions: # # The above copyright notice and this permission notice shall be included in all # copies or substantial portions of the Software. # # THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR # IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS # FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR # COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER # IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN # CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. # # This module finds if Boost is installed and determines where the # executables are. It sets the following variables: # # BOOST_FOUND : boolean - system has Boost # BOOST_LIBRARIES : list(filepath) - the libraries needed to use Boost # BOOST_INCLUDE_DIRS : list(path) - the Boost include directories # # If Boost is not found, this module downloads it according to the # following variables: # # BOOST_ROOT_DIR : path - the Path where Boost will be installed on # BOOST_REQUESTED_VERSION : string - the Boost version to be downloaded # # You can also specify its components: # # find_package(Boost COMPONENTS program_options system) # # which are stored in Boost_FIND_COMPONENTS : list(string) # # You can also specify its behavior: # # BOOST_USE_STATIC_LIBS : boolean (default: OFF) if(NOT Boost_FIND_COMPONENTS) message(FATAL_ERROR "No COMPONENTS specified for Boost") endif() set(BOOST_USE_STATIC_LIBS false) # Set the library prefix and library suffix properly. if(BOOST_USE_STATIC_LIBS) set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_STATIC_LIBRARY_PREFIX}) set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_STATIC_LIBRARY_SUFFIX}) set(LIBRARY_PREFIX ${CMAKE_STATIC_LIBRARY_PREFIX}) set(LIBRARY_SUFFIX ${CMAKE_STATIC_LIBRARY_SUFFIX}) else() set(CMAKE_FIND_LIBRARY_PREFIXES ${CMAKE_SHARED_LIBRARY_PREFIX}) set(CMAKE_FIND_LIBRARY_SUFFIXES ${CMAKE_SHARED_LIBRARY_SUFFIX}) set(LIBRARY_PREFIX ${CMAKE_SHARED_LIBRARY_PREFIX}) set(LIBRARY_SUFFIX ${CMAKE_SHARED_LIBRARY_SUFFIX}) endif() # Create a list(string) for the build command (e.g. --with-program_options;--with-system) # and assigns it to BOOST_COMPONENTS_FOR_BUILD foreach(component ${Boost_FIND_COMPONENTS}) list(APPEND BOOST_COMPONENTS_FOR_BUILD --with-${component}) endforeach() # Create a string for the first component (e.g. boost_program_options) # and assigns it to Boost_FIND_COMPONENTS list(GET Boost_FIND_COMPONENTS 0 BOOST_FIRST_COMPONENT) set(BOOST_FIRST_COMPONENT "boost_${BOOST_FIRST_COMPONENT}") include(FindPackageHandleStandardArgs) macro(DO_FIND_BOOST_SYSTEM) find_path(BOOST_INCLUDE_DIR boost/config.hpp PATHS /usr/local/include /usr/include ) find_library(BOOST_LIBRARY NAMES ${BOOST_FIRST_COMPONENT} PATHS /usr/local/lib /usr/lib ) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIR BOOST_LIBRARY ) set(BOOST_LIBRARIES ${BOOST_LIBRARY}) set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR}) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() macro(DO_FIND_BOOST_ROOT) if(NOT BOOST_ROOT_DIR) message(STATUS "BOOST_ROOT_DIR is not defined, using binary directory.") set(BOOST_ROOT_DIR ${CURRENT_CMAKE_BINARY_DIR} CACHE PATH "") endif() find_path(BOOST_INCLUDE_DIR boost/config.hpp ${BOOST_ROOT_DIR}/include) find_library(BOOST_LIBRARY ${BOOST_FIRST_COMPONENT} HINTS ${BOOST_ROOT_DIR}/lib) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIR BOOST_LIBRARY ) set(BOOST_LIBRARIES ${BOOST_LIBRARY}) set(BOOST_INCLUDE_DIRS ${BOOST_INCLUDE_DIR}) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() macro(DO_FIND_BOOST_DOWNLOAD) if(NOT BOOST_REQUESTED_VERSION) message(FATAL_ERROR "BOOST_REQUESTED_VERSION is not defined.") endif() string(REPLACE "." "_" BOOST_REQUESTED_VERSION_UNDERSCORE ${BOOST_REQUESTED_VERSION}) set(BOOST_MAYBE_STATIC) if(BOOST_USE_STATIC_LIBS) set(BOOST_MAYBE_STATIC "link=static") endif() include(ExternalProject) ExternalProject_Add( Boost URL https://downloads.sourceforge.net/project/boost/boost/${BOOST_REQUESTED_VERSION}/boost_${BOOST_REQUESTED_VERSION_UNDERSCORE}.zip UPDATE_COMMAND "" CONFIGURE_COMMAND ./bootstrap.sh --prefix=${BOOST_ROOT_DIR} BUILD_COMMAND ./b2 ${BOOST_MAYBE_STATIC} --prefix=${BOOST_ROOT_DIR} ${BOOST_COMPONENTS_FOR_BUILD} install BUILD_IN_SOURCE true INSTALL_COMMAND "" INSTALL_DIR ${BOOST_ROOT_DIR} ) ExternalProject_Get_Property(Boost install_dir) set(BOOST_INCLUDE_DIRS ${install_dir}/include) macro(libraries_to_fullpath varname) set(${varname}) foreach(component ${Boost_FIND_COMPONENTS}) list(APPEND ${varname} ${BOOST_ROOT_DIR}/lib/${LIBRARY_PREFIX}boost_${component}${LIBRARY_SUFFIX}) endforeach() endmacro() libraries_to_fullpath(BOOST_LIBRARIES) FIND_PACKAGE_HANDLE_STANDARD_ARGS(Boost DEFAULT_MSG BOOST_INCLUDE_DIRS BOOST_LIBRARIES ) mark_as_advanced(BOOST_LIBRARIES BOOST_INCLUDE_DIRS) endmacro() if(NOT BOOST_FOUND) DO_FIND_BOOST_ROOT() endif() if(NOT BOOST_FOUND) DO_FIND_BOOST_SYSTEM() endif() if(NOT BOOST_FOUND) DO_FIND_BOOST_DOWNLOAD() endif() Usage: Like any other cmake find module, with find_package.'><meta itemprop=datePublished content="2021-12-12T18:49:58-03:00"><meta itemprop=dateModified content="2025-06-15T02:38:47+02:00"><meta itemprop=wordCount content="611"><meta itemprop=keywords content="Bestof,Dev"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/2021/12/findboost.cmake/><link rel=stylesheet href=https://perrotta.dev/theme.css><style>body{text-align:left;margin:auto}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:smaller;padding:8px;text-align:center}footer>a{text-decoration:none}a{color:var(--link-color)}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}hr{border:none;border-top:1px dashed var(--border-color)}nav a.has-emoji .nav-emoji{display:none}nav a.has-emoji:hover .nav-emoji,nav a.active-star .nav-emoji{display:inline}nav a.has-emoji:hover .nav-text,nav a.active-star .nav-text{display:none}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.4}table{width:100%}img{max-width:100%}code{background-color:var(--code-bg)}li code,p code{font-size:.9em}pre code{color:var(--heading-color);display:block;padding:25px;white-space:pre;font-size:17px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:2px solid #999;color:var(--heading-color);padding-left:25px;padding-right:15px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex;gap:8px;margin-bottom:8px}ul.blog-posts li span{flex:0 0 130px}ul.blog-posts li a:visited{color:#8b6fcb}.pubdate-list{color:var(--color-gray);font-style:italic}.pubdate-single{color:var(--color-gray);font-style:italic}.social-link-wrapper{display:flex;justify-content:center;align-items:center;gap:8px;margin-top:8px}.social-link{text-decoration:none;font-size:1.4em;transition:transform .2s}.social-link:hover{transform:rotate(5deg)}sup.gray{color:var(--color-gray)}@media(min-width:601px){.title{font-size:38px}}@media(max-width:600px){.title{font-size:2rem}}@media(prefers-color-scheme:dark){blockquote{color:#ccc}textarea,input{background-color:#252525;color:var(--text-color)}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h1 class=title>¬¨ just serendipity üçÄ</h1></a><nav><a href=/tags/bestof/ class="has-emoji active-star"><span class=nav-emoji>‚≠ê</span>
<span class=nav-text>‚òÖ</span>
</a><a href=/posts/><span class=nav-text>Blog</span>
</a><a href=/tags/coding/><span class=nav-text>Coding</span></a></nav></header><main><h2><span>‚òÖ</span> FindBoost.cmake</h2><p><span class=pubdate-single><time datetime=2021-12-12 pubdate>12 Dec, 2021
</time>‚Ä¢ 611 words ‚Ä¢ 3 min
‚Ä¢ updated <time datetime=2025-06-15>15 Jun, 2025</time></span></p><content><p>When I was in university I made heavy use of <a href=https://cmake.org/>cmake</a> with
C++ projects.</p><p>Occasionally I would also use <a href=https://www.boost.org/>boost</a>.</p><p>At the time there was no cmake module to integrate with boost libraries. So I
wrote my own.</p><p>At some point I published it to a Stack Overflow
<a href=https://stackoverflow.com/questions/28346530/cmake-automatic-boost-download-and-build-if-not-found/41130107#41130107>answer</a>,
linking to a
<a href=https://gist.github.com/thiagowfx/970e3931387ed7db9a39709a8a130ee9>gist</a>.</p><p>I figured to replicate it here:</p><div class=highlight><pre tabindex=0 style=color:#abb2bf;background-color:#282c34;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-cmake data-lang=cmake><span style=display:flex><span><span style=color:#7f848e># - Find Boost
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># Copyright (c) 2016 Thiago Perrotta
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># Permission is hereby granted, free of charge, to any person obtaining a copy of
</span></span></span><span style=display:flex><span><span style=color:#7f848e># this software and associated documentation files (the &#34;Software&#34;), to deal in
</span></span></span><span style=display:flex><span><span style=color:#7f848e># the Software without restriction, including without limitation the rights to
</span></span></span><span style=display:flex><span><span style=color:#7f848e># use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
</span></span></span><span style=display:flex><span><span style=color:#7f848e># the Software, and to permit persons to whom the Software is furnished to do so,
</span></span></span><span style=display:flex><span><span style=color:#7f848e># subject to the following conditions:
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># The above copyright notice and this permission notice shall be included in all
</span></span></span><span style=display:flex><span><span style=color:#7f848e># copies or substantial portions of the Software.
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># THE SOFTWARE IS PROVIDED &#34;AS IS&#34;, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
</span></span></span><span style=display:flex><span><span style=color:#7f848e># IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
</span></span></span><span style=display:flex><span><span style=color:#7f848e># FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
</span></span></span><span style=display:flex><span><span style=color:#7f848e># COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
</span></span></span><span style=display:flex><span><span style=color:#7f848e># IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
</span></span></span><span style=display:flex><span><span style=color:#7f848e># CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># This module finds if Boost is installed and determines where the
</span></span></span><span style=display:flex><span><span style=color:#7f848e># executables are. It sets the following variables:
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  BOOST_FOUND : boolean            - system has Boost
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  BOOST_LIBRARIES : list(filepath) - the libraries needed to use Boost
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  BOOST_INCLUDE_DIRS : list(path)  - the Boost include directories
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># If Boost is not found, this module downloads it according to the
</span></span></span><span style=display:flex><span><span style=color:#7f848e># following variables:
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  BOOST_ROOT_DIR : path                - the Path where Boost will be installed on
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  BOOST_REQUESTED_VERSION : string     - the Boost version to be downloaded
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># You can also specify its components:
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  find_package(Boost COMPONENTS program_options system)
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># which are stored in Boost_FIND_COMPONENTS : list(string)
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e># You can also specify its behavior:
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#
</span></span></span><span style=display:flex><span><span style=color:#7f848e>#  BOOST_USE_STATIC_LIBS : boolean (default: OFF)
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>if</span>(<span style=color:#98c379>NOT</span> <span style=color:#98c379>Boost_FIND_COMPONENTS</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>message</span>(<span style=color:#98c379>FATAL_ERROR</span> <span style=color:#98c379>&#34;No COMPONENTS specified for Boost&#34;</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_USE_STATIC_LIBS</span> <span style=color:#98c379>false</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#7f848e># Set the library prefix and library suffix properly.
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span><span style=color:#e5c07b>if</span>(<span style=color:#98c379>BOOST_USE_STATIC_LIBS</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>CMAKE_FIND_LIBRARY_PREFIXES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_STATIC_LIBRARY_PREFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>CMAKE_FIND_LIBRARY_SUFFIXES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_STATIC_LIBRARY_SUFFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>LIBRARY_PREFIX</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_STATIC_LIBRARY_PREFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>LIBRARY_SUFFIX</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_STATIC_LIBRARY_SUFFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>else</span>()
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>CMAKE_FIND_LIBRARY_PREFIXES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_SHARED_LIBRARY_PREFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>CMAKE_FIND_LIBRARY_SUFFIXES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_SHARED_LIBRARY_SUFFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>LIBRARY_PREFIX</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_SHARED_LIBRARY_PREFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>LIBRARY_SUFFIX</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CMAKE_SHARED_LIBRARY_SUFFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#7f848e># Create a list(string) for the build command (e.g. --with-program_options;--with-system)
</span></span></span><span style=display:flex><span><span style=color:#7f848e># and assigns it to BOOST_COMPONENTS_FOR_BUILD
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span><span style=color:#e5c07b>foreach</span>(<span style=color:#98c379>component</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>Boost_FIND_COMPONENTS</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>list</span>(<span style=color:#98c379>APPEND</span> <span style=color:#98c379>BOOST_COMPONENTS_FOR_BUILD</span> <span style=color:#98c379>--with-</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>component</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>endforeach</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#7f848e># Create a string for the first component (e.g. boost_program_options)
</span></span></span><span style=display:flex><span><span style=color:#7f848e># and assigns it to Boost_FIND_COMPONENTS
</span></span></span><span style=display:flex><span><span style=color:#7f848e></span><span style=color:#e5c07b>list</span>(<span style=color:#98c379>GET</span> <span style=color:#98c379>Boost_FIND_COMPONENTS</span> <span style=color:#98c379>0</span> <span style=color:#98c379>BOOST_FIRST_COMPONENT</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_FIRST_COMPONENT</span> <span style=color:#98c379>&#34;boost_${BOOST_FIRST_COMPONENT}&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>include</span>(<span style=color:#98c379>FindPackageHandleStandardArgs</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>macro</span>(<span style=color:#98c379>DO_FIND_BOOST_SYSTEM</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>find_path</span>(<span style=color:#98c379>BOOST_INCLUDE_DIR</span> <span style=color:#98c379>boost/config.hpp</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>PATHS</span> <span style=color:#98c379>/usr/local/include</span> <span style=color:#98c379>/usr/include</span>
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>find_library</span>(<span style=color:#98c379>BOOST_LIBRARY</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>NAMES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_FIRST_COMPONENT</span><span style=color:#56b6c2>}</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>PATHS</span> <span style=color:#98c379>/usr/local/lib</span> <span style=color:#98c379>/usr/lib</span>
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>FIND_PACKAGE_HANDLE_STANDARD_ARGS</span>(<span style=color:#98c379>Boost</span> <span style=color:#98c379>DEFAULT_MSG</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>BOOST_INCLUDE_DIR</span> <span style=color:#98c379>BOOST_LIBRARY</span>
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_LIBRARIES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_LIBRARY</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_INCLUDE_DIRS</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_INCLUDE_DIR</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>mark_as_advanced</span>(<span style=color:#98c379>BOOST_LIBRARIES</span> <span style=color:#98c379>BOOST_INCLUDE_DIRS</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>endmacro</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>macro</span>(<span style=color:#98c379>DO_FIND_BOOST_ROOT</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>if</span>(<span style=color:#98c379>NOT</span> <span style=color:#98c379>BOOST_ROOT_DIR</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>message</span>(<span style=color:#98c379>STATUS</span> <span style=color:#98c379>&#34;BOOST_ROOT_DIR is not defined, using binary directory.&#34;</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_ROOT_DIR</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>CURRENT_CMAKE_BINARY_DIR</span><span style=color:#56b6c2>}</span> <span style=color:#98c379>CACHE</span> <span style=color:#98c379>PATH</span> <span style=color:#98c379>&#34;&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>find_path</span>(<span style=color:#98c379>BOOST_INCLUDE_DIR</span> <span style=color:#98c379>boost/config.hpp</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_ROOT_DIR</span><span style=color:#56b6c2>}</span><span style=color:#98c379>/include</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>find_library</span>(<span style=color:#98c379>BOOST_LIBRARY</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_FIRST_COMPONENT</span><span style=color:#56b6c2>}</span> <span style=color:#98c379>HINTS</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_ROOT_DIR</span><span style=color:#56b6c2>}</span><span style=color:#98c379>/lib</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>FIND_PACKAGE_HANDLE_STANDARD_ARGS</span>(<span style=color:#98c379>Boost</span> <span style=color:#98c379>DEFAULT_MSG</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>BOOST_INCLUDE_DIR</span> <span style=color:#98c379>BOOST_LIBRARY</span>
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_LIBRARIES</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_LIBRARY</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_INCLUDE_DIRS</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_INCLUDE_DIR</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>mark_as_advanced</span>(<span style=color:#98c379>BOOST_LIBRARIES</span> <span style=color:#98c379>BOOST_INCLUDE_DIRS</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>endmacro</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>macro</span>(<span style=color:#98c379>DO_FIND_BOOST_DOWNLOAD</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>if</span>(<span style=color:#98c379>NOT</span> <span style=color:#98c379>BOOST_REQUESTED_VERSION</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>message</span>(<span style=color:#98c379>FATAL_ERROR</span> <span style=color:#98c379>&#34;BOOST_REQUESTED_VERSION is not defined.&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>string</span>(<span style=color:#98c379>REPLACE</span> <span style=color:#98c379>&#34;.&#34;</span> <span style=color:#98c379>&#34;_&#34;</span> <span style=color:#98c379>BOOST_REQUESTED_VERSION_UNDERSCORE</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_REQUESTED_VERSION</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_MAYBE_STATIC</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>if</span>(<span style=color:#98c379>BOOST_USE_STATIC_LIBS</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_MAYBE_STATIC</span> <span style=color:#98c379>&#34;link=static&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>include</span>(<span style=color:#98c379>ExternalProject</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>ExternalProject_Add</span>(
</span></span><span style=display:flex><span>		<span style=color:#98c379>Boost</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>URL</span> <span style=color:#98c379>https://downloads.sourceforge.net/project/boost/boost/</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_REQUESTED_VERSION</span><span style=color:#56b6c2>}</span><span style=color:#98c379>/boost_</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_REQUESTED_VERSION_UNDERSCORE</span><span style=color:#56b6c2>}</span><span style=color:#98c379>.zip</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>UPDATE_COMMAND</span> <span style=color:#98c379>&#34;&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>CONFIGURE_COMMAND</span> <span style=color:#98c379>./bootstrap.sh</span> <span style=color:#98c379>--prefix=</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_ROOT_DIR</span><span style=color:#56b6c2>}</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>BUILD_COMMAND</span> <span style=color:#98c379>./b2</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_MAYBE_STATIC</span><span style=color:#56b6c2>}</span> <span style=color:#98c379>--prefix=</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_ROOT_DIR</span><span style=color:#56b6c2>}</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_COMPONENTS_FOR_BUILD</span><span style=color:#56b6c2>}</span> <span style=color:#98c379>install</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>BUILD_IN_SOURCE</span> <span style=color:#98c379>true</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>INSTALL_COMMAND</span> <span style=color:#98c379>&#34;&#34;</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>INSTALL_DIR</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_ROOT_DIR</span><span style=color:#56b6c2>}</span>
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>ExternalProject_Get_Property</span>(<span style=color:#98c379>Boost</span> <span style=color:#98c379>install_dir</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>set</span>(<span style=color:#98c379>BOOST_INCLUDE_DIRS</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>install_dir</span><span style=color:#56b6c2>}</span><span style=color:#98c379>/include</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>macro</span>(<span style=color:#98c379>libraries_to_fullpath</span> <span style=color:#98c379>varname</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>set</span>(<span style=color:#56b6c2>${</span><span style=color:#e06c75>varname</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>foreach</span>(<span style=color:#98c379>component</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>Boost_FIND_COMPONENTS</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>			<span style=color:#e5c07b>list</span>(<span style=color:#98c379>APPEND</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>varname</span><span style=color:#56b6c2>}</span> <span style=color:#56b6c2>${</span><span style=color:#e06c75>BOOST_ROOT_DIR</span><span style=color:#56b6c2>}</span><span style=color:#98c379>/lib/</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>LIBRARY_PREFIX</span><span style=color:#56b6c2>}</span><span style=color:#98c379>boost_</span><span style=color:#56b6c2>${</span><span style=color:#e06c75>component</span><span style=color:#56b6c2>}${</span><span style=color:#e06c75>LIBRARY_SUFFIX</span><span style=color:#56b6c2>}</span>)
</span></span><span style=display:flex><span>		<span style=color:#e5c07b>endforeach</span>()
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>endmacro</span>()
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>libraries_to_fullpath</span>(<span style=color:#98c379>BOOST_LIBRARIES</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>FIND_PACKAGE_HANDLE_STANDARD_ARGS</span>(<span style=color:#98c379>Boost</span> <span style=color:#98c379>DEFAULT_MSG</span>
</span></span><span style=display:flex><span>		<span style=color:#98c379>BOOST_INCLUDE_DIRS</span> <span style=color:#98c379>BOOST_LIBRARIES</span>
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>mark_as_advanced</span>(<span style=color:#98c379>BOOST_LIBRARIES</span> <span style=color:#98c379>BOOST_INCLUDE_DIRS</span>)
</span></span><span style=display:flex><span><span style=color:#e5c07b>endmacro</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>if</span>(<span style=color:#98c379>NOT</span> <span style=color:#98c379>BOOST_FOUND</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>DO_FIND_BOOST_ROOT</span>()
</span></span><span style=display:flex><span><span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>if</span>(<span style=color:#98c379>NOT</span> <span style=color:#98c379>BOOST_FOUND</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>DO_FIND_BOOST_SYSTEM</span>()
</span></span><span style=display:flex><span><span style=color:#e5c07b>endif</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#e5c07b>if</span>(<span style=color:#98c379>NOT</span> <span style=color:#98c379>BOOST_FOUND</span>)
</span></span><span style=display:flex><span>	<span style=color:#e5c07b>DO_FIND_BOOST_DOWNLOAD</span>()
</span></span><span style=display:flex><span><span style=color:#e5c07b>endif</span>()
</span></span></code></pre></div><p><strong>Usage</strong>: Like any other <a href=https://cmake.org/cmake/help/book/mastering-cmake/chapter/Modules.html>cmake find
module</a>,
with <code>find_package</code>.</p></content><div style=display:flex;justify-content:space-between><p>Reply via
<a href="mailto:serendipity@perrotta.dev?subject=Reply to: FindBoost.cmake">email</a></p><p><a href=https://perrotta.dev/tags/bestof/>#bestof</a>
<a href=https://perrotta.dev/tags/dev/>#dev</a></p></div></main><hr><footer><span>¬© 2021 - 2025 Thiago Perrotta ¬∑
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ¬∑
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo  ï‚Ä¢·¥•‚Ä¢ î bear</a></span><div class=social-link-wrapper><a target=_blank rel=noopener class=social-link href=mailto:serendipity@perrotta.dev title="Email address"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 24 24" height="1.3em" width="1.3em"><g transform="translate(0.000000,24.000000) scale(0.100000,-0.100000)"><path d="M26 191c-4-5 16-23 44-40l50-31 50 31c28 17 48 35 44 40-7 12-181 12-188 0z"/><path d="M22 103l3-58 93-3c104-3 105-3 1e2 71l-3 46-48-29-47-30-38 23c-20 13-43 27-50 31-10 6-12-5-10-51z"/></g></svg>
</a><a target=_blank rel=noopener class=social-link href=https://perrotta.dev/index.xml title="RSS feed"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 56.693 56.693" height="1em" width="1em"><path d="M3.428 31.085c6.19.0 12.009 2.418 16.382 6.816 4.381 4.398 6.793 10.256 6.793 16.492h9.539c0-18.113-14.676-32.848-32.714-32.848v9.54zM3.443 14.174c22.061.0 40.01 18.047 40.01 40.231h9.539c0-27.445-22.229-49.77-49.549-49.77v9.539zM16.634 47.741c0 3.648-2.959 6.607-6.607 6.607S3.42 51.39 3.42 47.741c0-3.65 2.958-6.607 6.606-6.607s6.608 2.957 6.608 6.607z"/></svg>
</a><a target=_blank rel=noopener class=social-link href=https://github.com/thiagowfx title="Github profile"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 496 512" height="1em" width="1em"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6.0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6.0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3.0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1.0-6.2-.3-40.4-.3-61.4.0.0-70 15-84.7-29.8.0.0-11.4-29.1-27.8-36.6.0.0-22.9-15.7 1.6-15.4.0.0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5.0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9.0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4.0 33.7-.3 75.4-.3 83.6.0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6.0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9.0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
</a><a target=_blank rel=noopener class=social-link href=https://goodreads.com/user/show/7873832-thiago title="Goodreads profile"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 50 50" height="1em" width="1em"><path d="M25 2c-4.541.0-8.41336 1.9082151-11.017578 4.9453125C11.378203 9.9824099 10 14.07975 10 18.5s1.378203 8.517589 3.982422 11.554688C16.58664 33.091785 20.459 35 25 35c4.531588.0 8.395936-1.901605 11-4.927734V35c0 2.598543-.818503 4.764071-2.451172 6.339844C31.91616 42.915616 29.363725 44 25.5 44 17.784314 44 15 39.933333 15 36H11c0 6.066667 5.215686 12 14.5 12 4.636275.0 8.33384-1.377726 10.826172-3.783203C38.818503 41.811319 40 38.476457 40 35V18.5 3H36V6.9277344C33.395936 3.9016049 29.531588 2 25 2zm0 4c3.459.0 6.08664 1.3379255 7.982422 3.5488281C34.878203 11.759731 36 14.91225 36 18.5s-1.121797 6.740269-3.017578 8.951172C31.08664 29.662074 28.459 31 25 31s-6.08664-1.337926-7.982422-3.548828C15.121797 25.240269 14 22.08775 14 18.5s1.121797-6.740269 3.017578-8.9511719C18.91336 7.3379255 21.541 6 25 6z"/></svg>
</a><a target=_blank rel=noopener class=social-link href=https://linkedin.com/in/thiagoperrotta title="LinkedIn profile"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 30 30" height="1.2em" width="1.2em"><path d="M24 4H6C4.895 4 4 4.895 4 6v18c0 1.105.895 2 2 2h18c1.105.0 2-.895 2-2V6c0-1.105-.895-2-2-2zM10.954 22h-2.95v-9.492h2.95V22zM9.449 11.151c-.951.0-1.72-.771-1.72-1.72s.77-1.719 1.72-1.719c.948.0 1.719.771 1.719 1.719C11.168 10.38 10.397 11.151 9.449 11.151zM22.004 22h-2.948v-4.616c0-1.101-.02-2.517-1.533-2.517-1.535.0-1.771 1.199-1.771 2.437V22h-2.948v-9.492h2.83v1.297h.04c.394-.746 1.356-1.533 2.791-1.533 2.987.0 3.539 1.966 3.539 4.522V22z"/></svg>
</a><a target=_blank rel=noopener class=social-link href=https://stackoverflow.com/users/1745064/thiagowfx title="StackOverflow profile"><svg stroke="currentcolor" fill="currentcolor" stroke-width="0" viewBox="0 0 384 512" height="1em" width="1em"><path d="M290.7 311 95 269.7 86.8 309l195.7 41zm51-87L188.2 95.7l-25.5 30.8 153.5 128.3zm-31.2 39.7L129.2 179l-16.7 36.5L293.7 3e2zM262 32l-32 24 119.3 160.3 32-24zm20.5 328h-2e2v39.7h2e2zm39.7 80H42.7V320h-40v160h359.5V320h-40z"/></svg></a></div><a target=_blank href=https://512kb.club title="512kb.club badge"><img src=https://perrotta.dev/green-team.gif alt="a proud member of the green team of 512KB club">
</a><a target=_blank href=https://www.vim.org/ title="Vim text editor"><img src=https://perrotta.dev/vim.gif alt="Vim text editor">
</a><a target=_blank href=https://edleeman.co.uk/cookie-zero/ title="Cookie Zero"><img src=https://perrotta.dev/cookiezero.webp alt="Cookie Zero"></a></footer></body></html>
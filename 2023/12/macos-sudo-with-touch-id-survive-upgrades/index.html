<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>macOS: sudo with touch ID: survive upgrades | not just serendipity</title><meta name=title content="macOS: sudo with touch ID: survive upgrades">
<meta name=description content="Recent macbooks have a fingerprint reader, which is typically used to unlock the computer and log in.
It is also possible to use it for sudo authentication via PAM.
This was previously covered here.
Now, with macOS Sonoma, it&rsquo;s also possible to make this setting survive OS upgrades.
% sudo cp /etc/pam.d/sudo_local{.template,}
% sudo $EDITOR /etc/pam.d/sudo_local
Then uncomment (or add, if not existing) the following line:
auth       sufficient     pam_tid.so
You can test it out by opening a new terminal and executing sudo echo."><meta name=keywords content="macos,"><meta property="og:url" content="https://perrotta.dev/2023/12/macos-sudo-with-touch-id-survive-upgrades/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="macOS: sudo with touch ID: survive upgrades"><meta property="og:description" content="Recent macbooks have a fingerprint reader, which is typically used to unlock the computer and log in.
It is also possible to use it for sudo authentication via PAM.
This was previously covered here.
Now, with macOS Sonoma, it’s also possible to make this setting survive OS upgrades.
% sudo cp /etc/pam.d/sudo_local{.template,} % sudo $EDITOR /etc/pam.d/sudo_local Then uncomment (or add, if not existing) the following line:
auth sufficient pam_tid.so You can test it out by opening a new terminal and executing sudo echo."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-12-04T22:40:21+01:00"><meta property="article:modified_time" content="2023-12-04T22:40:21+01:00"><meta property="article:tag" content="Macos"><meta name=twitter:card content="summary"><meta name=twitter:title content="macOS: sudo with touch ID: survive upgrades"><meta name=twitter:description content="Recent macbooks have a fingerprint reader, which is typically used to unlock the computer and log in.
It is also possible to use it for sudo authentication via PAM.
This was previously covered here.
Now, with macOS Sonoma, it’s also possible to make this setting survive OS upgrades.
% sudo cp /etc/pam.d/sudo_local{.template,} % sudo $EDITOR /etc/pam.d/sudo_local Then uncomment (or add, if not existing) the following line:
auth sufficient pam_tid.so You can test it out by opening a new terminal and executing sudo echo."><meta itemprop=name content="macOS: sudo with touch ID: survive upgrades"><meta itemprop=description content="Recent macbooks have a fingerprint reader, which is typically used to unlock the computer and log in.
It is also possible to use it for sudo authentication via PAM.
This was previously covered here.
Now, with macOS Sonoma, it’s also possible to make this setting survive OS upgrades.
% sudo cp /etc/pam.d/sudo_local{.template,} % sudo $EDITOR /etc/pam.d/sudo_local Then uncomment (or add, if not existing) the following line:
auth sufficient pam_tid.so You can test it out by opening a new terminal and executing sudo echo."><meta itemprop=datePublished content="2023-12-04T22:40:21+01:00"><meta itemprop=dateModified content="2023-12-04T22:40:21+01:00"><meta itemprop=wordCount content="85"><meta itemprop=keywords content="Macos"><meta name=referrer content="no-referrer-when-downgrade"><link rel="shortcut icon" href=https://perrotta.dev/favicon.ico><link rel=canonical href=https://perrotta.dev/><style>:root{--color-gray:#888;--color-grayer:#666;--font-title:'Inter', 'Fira Sans', 'Lato', system-ui, -apple-system, BlinkMacSystemFont, 'Avenir Next', 'Avenir', 'Segoe UI', 'Helvetica Neue', Helvetica, Ubuntu, Roboto, Noto, Cantarell, Arial, sans-serif;--font-body:'Crimson Pro', 'Vollkorn', 'Alegreya', 'Iowan Old Style', 'Apple Garamond', 'Baskerville', 'Times New Roman', 'Noto Serif', 'Droid Serif', 'Times', 'Source Serif Pro', serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';--font-code:'Fira Code', 'PT Mono', 'IBM Plex Mono', Menlo, Consolas, Monaco, 'Liberation Mono', 'Ubuntu Mono', 'Lucida Console', monospace}body{font-family:var(--font-body);margin:auto;padding:20px;max-width:720px;text-align:left;background-color:#fffcf0;word-wrap:break-word;overflow-wrap:break-word;line-height:1.5;color:#444;-webkit-text-size-adjust:100%}h1,h2,h3,h4,h5,h6,strong,b{color:#222}h1,h2,h3,h4,h5,h6,footer,nav{font-family:var(--font-title)}footer{font-size:small;padding:8px;text-align:center}a{color:#3273dc}a.title{text-decoration:none;border:0;display:flex;align-items:center;column-gap:10px}nav a{margin-right:10px}textarea{width:100%;font-size:16px}input{font-size:16px}content{line-height:1.6}table{width:100%}img{max-width:100%}code{padding:2px 5px;background-color:#f2f2f2}li code,p code{font-size:small}pre code{color:#222;display:block;padding:20px;white-space:pre;font-size:14px;overflow-x:auto}code,pre{font-family:var(--font-code)}div.highlight pre{background-color:initial;color:initial}div.highlight code{background-color:unset;color:unset}blockquote{border-left:1px solid #999;color:#222;padding-left:20px;font-style:italic}ul.blog-posts{list-style-type:none;padding:unset}ul.blog-posts li{display:flex}ul.blog-posts li span{flex:0 0 110px}ul.blog-posts li a:visited{color:#8b6fcb}.pubdate-list{color:var(--color-gray);font-style:italic}.pubdate-single{color:var(--color-grayer);font-style:italic}sup.gray{color:var(--color-grayer)}@media(prefers-color-scheme:dark){body{background-color:#01242e;color:#ddd}h1,h2,h3,h4,h5,h6,strong,b{color:#eee}a{color:#8cc2dd}code{background-color:#444}pre code{color:#ddd}blockquote{color:#ccc}textarea,input{background-color:#252525;color:#ddd}}</style><link rel=apple-touch-icon href=https://perrotta.dev/apple-touch-icon.png></head><body><header><a href=/ class=title><img src=https://perrotta.dev/thiagowfx.png alt="thiagowfx's avatar" width=32 height=32><h2>not just serendipity</h2></a><nav><a href=/>Home</a>
<a href=/posts/>Blog</a>
<a href=/tags/bestof/>★</a></nav></header><main><h1>macOS: sudo with touch ID: survive upgrades</h1><p><span class=pubdate-single><time datetime=2023-12-04 pubdate>04 Dec, 2023
</time>• 85 words
• 1 min</span></p><content><p>Recent macbooks have a fingerprint reader, which is typically used to unlock the computer and log in.</p><p>It is also possible to use it for <code>sudo</code> authentication via <a href=https://en.wikipedia.org/wiki/Pluggable_authentication_module>PAM</a>.</p><p>This was previously covered <a href=https://perrotta.dev/2022/03/macos-sudo-with-touch-id/>here</a>.</p><p>Now, with macOS Sonoma, it&rsquo;s also possible to make this setting survive OS upgrades.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>% sudo cp /etc/pam.d/sudo_local<span style=color:#f92672>{</span>.template,<span style=color:#f92672>}</span>
</span></span><span style=display:flex><span>% sudo $EDITOR /etc/pam.d/sudo_local
</span></span></code></pre></div><p>Then uncomment (or add, if not existing) the following line:</p><pre tabindex=0><code>auth       sufficient     pam_tid.so
</code></pre><p>You can test it out by opening a new terminal and executing <code>sudo echo</code>.</p><p>Credits: <a href=https://sixcolors.com/post/2023/08/in-macos-sonoma-touch-id-for-sudo-can-survive-updates/>https://sixcolors.com/post/2023/08/in-macos-sonoma-touch-id-for-sudo-can-survive-updates/</a></p></content><p><a href=https://perrotta.dev/tags/macos/>#macos</a></p></main><hr><footer><span>© 2021 - 2025
<a href=mailto:notjustserendipity@perrotta.dev>Thiago Perrotta
</a>·
<a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>some rights reserved</a> ·
<a href=/index.xml>RSS</a> ·
a fork of <a href=https://github.com/janraasch/hugo-bearblog/>hugo ʕ•ᴥ•ʔ bear</a></span></footer></body></html>
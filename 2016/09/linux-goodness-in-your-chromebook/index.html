<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Linux goodness in your Chromebook | not just serendipity</title>
<meta name=keywords content="linux"><meta name=description content="Chromebooks are excellent for testing
and playing with Linux userland[1] stuff. And, even better, (almost) every
change you make to it can be reset back to its factory state ‚Äî even in the worst
case of completely wiping ChromeOS from your computer. As long as you don&rsquo;t mess
up with its firmware, you can do
whatever you want and still be safe. Most models are cheap, battery life is
amazing for a cheap Linux laptop (8+ hours, depending on the device and on
usage)[2], Linux support is great (well, it ships with a Linux OS, right?) ‚Äî
even for most touchscreen models [citation needed] ‚Äî and it is simple (as in
KISS)."><meta name=author content="Thiago Perrotta"><link rel=canonical href=https://www.perrotta.dev/2016/09/linux-goodness-in-your-chromebook/><link crossorigin=anonymous href=/assets/css/stylesheet.d6fcd20a4fb86efa4dfac8ec95da60244cc8871042183da1ef28e3a762ad79c8.css integrity="sha256-1vzSCk+4bvpN+sjsldpgJEzIhxBCGD2h7yjjp2Ktecg=" rel="preload stylesheet" as=style><link rel=icon href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.perrotta.dev/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://www.perrotta.dev/favicon.ico><link rel=apple-touch-icon href=https://www.perrotta.dev/apple-touch-icon.png><link rel=mask-icon href=https://www.perrotta.dev/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://www.perrotta.dev/2016/09/linux-goodness-in-your-chromebook/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><style>body{font-family:Crimson Pro,Vollkorn,Alegreya,Iowan Old Style,Apple Garamond,Baskerville,Times New Roman,Noto Serif,Droid Serif,Times,Source Serif Pro,serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji}h1,h2,h3,h4,h5,h6,footer,nav,.toc,.post-meta{font-family:Inter,Fira Sans,Lato,system-ui,-apple-system,BlinkMacSystemFont,Avenir Next,Avenir,Segoe UI,Helvetica Neue,Helvetica,Ubuntu,Roboto,Noto,Cantarell,Arial,sans-serif}code,pre{font-family:Fira Code,PT Mono,IBM Plex Mono,Menlo,Consolas,Monaco,Liberation Mono,Ubuntu Mono,Lucida Console,monospace}</style><meta property="og:url" content="https://www.perrotta.dev/2016/09/linux-goodness-in-your-chromebook/"><meta property="og:site_name" content="not just serendipity"><meta property="og:title" content="Linux goodness in your Chromebook"><meta property="og:description" content="Chromebooks are excellent for testing and playing with Linux userland[1] stuff. And, even better, (almost) every change you make to it can be reset back to its factory state ‚Äî even in the worst case of completely wiping ChromeOS from your computer. As long as you don‚Äôt mess up with its firmware, you can do whatever you want and still be safe. Most models are cheap, battery life is amazing for a cheap Linux laptop (8+ hours, depending on the device and on usage)[2], Linux support is great (well, it ships with a Linux OS, right?) ‚Äî even for most touchscreen models [citation needed] ‚Äî and it is simple (as in KISS)."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2016-09-01T16:29:07-02:00"><meta property="article:modified_time" content="2016-09-01T16:29:07-02:00"><meta property="article:tag" content="Linux"><meta name=twitter:card content="summary"><meta name=twitter:title content="Linux goodness in your Chromebook"><meta name=twitter:description content="Chromebooks are excellent for testing
and playing with Linux userland[1] stuff. And, even better, (almost) every
change you make to it can be reset back to its factory state ‚Äî even in the worst
case of completely wiping ChromeOS from your computer. As long as you don&rsquo;t mess
up with its firmware, you can do
whatever you want and still be safe. Most models are cheap, battery life is
amazing for a cheap Linux laptop (8+ hours, depending on the device and on
usage)[2], Linux support is great (well, it ships with a Linux OS, right?) ‚Äî
even for most touchscreen models [citation needed] ‚Äî and it is simple (as in
KISS)."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.perrotta.dev/posts/"},{"@type":"ListItem","position":2,"name":"Linux goodness in your Chromebook","item":"https://www.perrotta.dev/2016/09/linux-goodness-in-your-chromebook/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Linux goodness in your Chromebook","name":"Linux goodness in your Chromebook","description":"Chromebooks are excellent for testing and playing with Linux userland[1] stuff. And, even better, (almost) every change you make to it can be reset back to its factory state ‚Äî even in the worst case of completely wiping ChromeOS from your computer. As long as you don\u0026rsquo;t mess up with its firmware, you can do whatever you want and still be safe. Most models are cheap, battery life is amazing for a cheap Linux laptop (8+ hours, depending on the device and on usage)[2], Linux support is great (well, it ships with a Linux OS, right?) ‚Äî even for most touchscreen models [citation needed] ‚Äî and it is simple (as in KISS).\n","keywords":["linux"],"articleBody":"Chromebooks are excellent for testing and playing with Linux userland[1] stuff. And, even better, (almost) every change you make to it can be reset back to its factory state ‚Äî even in the worst case of completely wiping ChromeOS from your computer. As long as you don‚Äôt mess up with its firmware, you can do whatever you want and still be safe. Most models are cheap, battery life is amazing for a cheap Linux laptop (8+ hours, depending on the device and on usage)[2], Linux support is great (well, it ships with a Linux OS, right?) ‚Äî even for most touchscreen models [citation needed] ‚Äî and it is simple (as in KISS).\nNow, the previous paragraph sounded a little repetitive, but I‚Äôd like to focus on two of my previous points here:\nYou can do whatever you want and still remain safe. Yes. Indeed, you can reset your chromebook to its factory state with just a few clicks ‚Äî this is still hard to do with Windows and OS X, as far as I know. I think Windows 10 is introducing a feature to ease this process, however I am not sure about it yet. This is super important (and convenient!) for people playing with a ChromeOS device ‚Äî like me. My usual way to reset the system back to ‚Äúfactory state‚Äù was, usually, to install a Linux distro with the btrfs filesystem so I could create a snapshot upon the installation was finished, and then revert back to it at anytime I wanted. However, this solution is a little cumbersome. The second usual solution would be to simply use a virtual machine, but I don‚Äôt need to reiterate that this is slow and limited in many ways. Simple. This is really important if you don‚Äôt want to have headaches in the long run. For starters, simplicity is always a trade-off that involves performance: it is hard to be simple with a core i7 CPU, so if you choose the KISS path, you are deliberately sacrificing some of your performance. Once you accept that, we can move forward: Chromebooks are very simple devices. They‚Äôre almost directly comparable to a tablet with a keyboard. Sometimes they feel like a full-featured arduino. These were some small highlights about my decision to get one. Now here‚Äôs the good stuff:\nThere be dragons Disclaimer/Warning: these will potentially void the warranty of your device, and they are only recommended if you know what you‚Äôre doing. Be a good user and research before messing up with your system. I will provide upstream links with documentation as much as possible.\nEnable developer mode ‚Äî it‚Äôs a must; however, it weakens the security of your device. Beware and research! This can be totally reverted with a single keystroke (SPACE) at the login screen that will appear in every subsequent boot of your system. dev_install ‚Äî to get fdisk, python, tmux, nano, emerge (for binaries), and so on. These are just a few developer tools, they won‚Äôt scale and you won‚Äôt get whatever package you want in your vanilla ChromeOS, however these might help a lot with simple tasks. For example, you can format a SD card or an USB Flash Drive directly from ChromeOS upon running this tool ‚Äî otherwise, you‚Äôd usually have to use another computer, with another OS to do it. It uses just a little space (~100M+ or so), and it can be totally reverted with devinstall --uninstall Switch to the beta channel if you want to be slightly more into the bleeding edge ‚Äî but not too much as in the dev channel. In fact, at the time of this post, select devices in beta channel have support for Android apps in ChromeOS. Open a new shell (crosh) with Ctrl + Alt + T. The default username is ‚Äòchronos‚Äô, without any password. User-writable locations are: /usr/local (in particular, /usr/local/bin is in your PATH env variable out-of-the-box (echo $PATH)), /tmp and /home/chronos/user/Downloads. There might be more, but these are enough. You can also insert removable media (USB flash drives, SD cards), which would show up on /media. ChromeOS can read/write filesystems formatted as ext{2,3,4} and FAT{,32} at least. These are the basics. However, you will soon find out that you cannot do too much with ChromeOS, even with these modifications. In this case, there are three options, and all of them involve getting a Linux distribution in some way:\n(RECOMMENDED) Install a Linux distro on either a SD card or an USB Flash Drive and dual-boot from it. It is really easy to dual-boot, you just press C-d to boot from the internal eMMC / SSD, or C-u to boot from external storage. There‚Äôs no need to play with grub, EFI, or any (other) fancy bootloader. If you change your mind later on, just format your SD card: there is no need to change anything on ChromeOS. (NOT RECOMMENDED BY ME) Completely wipe ChromeOS by installing another Linux distribution on its place. Although it‚Äôs easy to revert this process through recovery media, it completely defeats the purpose of getting a Chromebook in the first place, especially now that Android apps are starting to become available on them (for touchscreen devices, of course). (PROBABLY WOULDN‚ÄôT RECOMMEND, BUT YOU MAY LIKE IT) Install a chroot alongside your ChromeOS, such as crouton. I tried it however I hated it. It is very buggy and opinionated, somewhat similar to oh-my-zsh: both of them promise to deliver a good framework and they‚Äôre kinda large open source projects, however they do lots of automatic things for you, and you end up not knowing what is happening to your system. It opposes the Arch Linux philosophy, being user-friendly rather than user-centered. Some people like it, I won‚Äôt argue this, it can work for them; but not for me. An alternative would be to install a chroot manually, without the help of crouton. I‚Äôve chosen the first option, installing Arch Linux ARM on my Chromebook. So far, so good: it‚Äôs working very well. Storage is easily shared between the two OSes (by using the SD card). There‚Äôs more to get out of my system, and I intend to share new findings in this blog. In particular, the most important one: to find an easy way (not crouton!) of running whatever Linux-compatible application I want from within Chrome OS, without dual-booting. I have a few ideas (well, it‚Äôs just a matter of creating a KISS chroot), I just want to polish them a little more before trying them out.\nSee also Generic Chrome OS Troubleshooter Chart v0.3 Footnotes I wouldn‚Äôt say the same for kernel stuff though. It is not trivial to install a bootloader (such as grub) or to boot a custom kernel in a Chromebook. It‚Äôs possible indeed, it‚Äôs just not as nice or as easy as an average PC or Mac laptop from today, especially if you have the intention of keeping the upstream OS (Chrome OS) in the device. People probably would cite a Macbook, a Surface Pro, or something else similar here. For starters, did you see how much they cost, in comparison to an average Chromebook? Such a comparison wouldn‚Äôt be fair. ","wordCount":"1194","inLanguage":"en","datePublished":"2016-09-01T16:29:07-02:00","dateModified":"2016-09-01T16:29:07-02:00","author":{"@type":"Person","name":"Thiago Perrotta"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.perrotta.dev/2016/09/linux-goodness-in-your-chromebook/"},"publisher":{"@type":"Person","name":"not just serendipity","logo":{"@type":"ImageObject","url":"https://www.perrotta.dev/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.perrotta.dev/ accesskey=h title="not just serendipity (Alt + H)"><img src=https://www.perrotta.dev/apple-touch-icon.png alt aria-label=logo height=32>not just serendipity</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.perrotta.dev/posts/ title=posts><span>posts</span></a></li><li><a href=https://www.perrotta.dev/tags/bestof/ title="bestof ‚òÖ"><span>bestof ‚òÖ</span></a></li><li><a href=https://www.perrotta.dev/archives/ title=archives><span>archives</span></a></li><li><a href=https://www.perrotta.dev/search/ title="search (Alt + /)" accesskey=/><span>search</span></a></li><li><a href=https://www.perrotta.dev/tags/ title=tags><span>tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Linux goodness in your Chromebook</h1><div class=post-meta><span title='2016-09-01 16:29:07 -0200 -0200'>September 1, 2016</span>&nbsp;¬∑&nbsp;1194 words&nbsp;¬∑&nbsp;Thiago Perrotta</div></header><div class=post-content><p><a href=https://www.google.com.br/chromebook/>Chromebooks</a> are excellent for testing
and playing with Linux userland[1] stuff. And, even better, (almost) every
change you make to it can be reset back to its factory state ‚Äî even in the worst
case of completely wiping ChromeOS from your computer. As long as you don&rsquo;t mess
up with its <a href=https://en.wikipedia.org/wiki/Firmware>firmware</a>, you can do
whatever you want and still be safe. Most models are cheap, battery life is
amazing for a cheap Linux laptop (8+ hours, depending on the device and on
usage)[2], Linux support is great (well, it ships with a Linux OS, right?) ‚Äî
even for most touchscreen models [citation needed] ‚Äî and it is simple (as in
KISS).</p><p>Now, the previous paragraph sounded a little repetitive, but I&rsquo;d like to focus
on two of my previous points here:</p><ol><li><strong>You can do whatever you want and still remain safe.</strong> Yes. Indeed, you can
reset your chromebook to its factory state with just a few clicks ‚Äî this is
still hard to do with Windows and OS X, as far as I know. I think Windows 10
is introducing a feature to ease this process, however I am not sure about
it yet. This is super important (and convenient!) for people playing with a
ChromeOS device ‚Äî like me. My usual way to reset the system back to &ldquo;factory
state&rdquo; was, usually, to install a Linux distro with the btrfs filesystem so
I could create a snapshot upon the installation was finished, and then
revert back to it at anytime I wanted. However, this solution is a little
cumbersome. The second usual solution would be to simply use a virtual
machine, but I don&rsquo;t need to reiterate that this is slow and limited in many
ways.</li><li><strong>Simple</strong>. This is really important if you don&rsquo;t want to have headaches in
the long run. For starters, simplicity is always a trade-off that involves
performance: it is hard to be simple with a core i7 CPU, so if you choose
the KISS path, you are deliberately sacrificing some of your performance.
Once you accept that, we can move forward: Chromebooks are very simple
devices. They&rsquo;re almost directly comparable to a tablet with a keyboard.
Sometimes they feel like a full-featured arduino.</li></ol><p>These were some small highlights about my decision to get one. Now here&rsquo;s the
good stuff:</p><h2 id=there-be-dragons>There be dragons<a hidden class=anchor aria-hidden=true href=#there-be-dragons>#</a></h2><p><strong>Disclaimer/Warning</strong>: these will potentially void the warranty of your device,
and they are only recommended if you know what you&rsquo;re doing. Be a good user and
research before messing up with your system. I will provide upstream links with
documentation as much as possible.</p><ul><li><a href=https://www.chromium.org/chromium-os/poking-around-your-chrome-os-device>Enable developer
mode</a>
‚Äî it&rsquo;s a must; however, it weakens the security of your device. Beware and
research! This can be totally reverted with a single keystroke (SPACE) at the
login screen that will appear in every subsequent boot of your system.</li><li><a href=https://www.chromium.org/chromium-os/how-tos-and-troubleshooting/install-software-on-base-images>dev_install</a>
‚Äî to get fdisk, python, tmux, nano, emerge (for binaries), and so on. These
are just a few developer tools, they won&rsquo;t scale and you won&rsquo;t get whatever
package you want in your vanilla ChromeOS, however these might help a lot with
simple tasks. For example, you can format a SD card or an USB Flash Drive
directly from ChromeOS upon running this tool ‚Äî otherwise, you&rsquo;d usually have
to use another computer, with another OS to do it. It uses just a little space
(~100M+ or so), and it can be totally reverted with <code>devinstall --uninstall</code></li><li>Switch to the <a href="https://support.google.com/chromebook/answer/1086915?hl=en">beta
channel</a> if you
want to be slightly more into the bleeding edge ‚Äî but not too much as in the
dev channel. In fact, at the time of this post, select devices in beta channel
have support for Android apps in ChromeOS.</li><li>Open a new shell (crosh) with Ctrl + Alt + T. The default username is
&lsquo;chronos&rsquo;, without any password.</li><li>User-writable locations are: /usr/local (in particular, /usr/local/bin is in
your PATH env variable out-of-the-box (echo $PATH)), /tmp and
/home/chronos/user/Downloads. There might be more, but these are enough.</li><li>You can also insert removable media (USB flash drives, SD cards), which would
show up on /media. ChromeOS can read/write filesystems formatted as ext{2,3,4}
and FAT{,32} at least.</li></ul><p>These are the basics. However, you will soon find out that you cannot do too
much with ChromeOS, even with these modifications. In this case, there are three
options, and all of them involve getting a Linux distribution in some way:</p><ol><li><strong>(RECOMMENDED)</strong> Install a Linux distro on either a SD card or an USB Flash
Drive and dual-boot from it. It is really easy to dual-boot, you just press
C-d to boot from the internal eMMC / SSD, or C-u to boot from external
storage. There&rsquo;s no need to play with grub, EFI, or any (other) fancy
bootloader. If you change your mind later on, just format your SD card:
there is no need to change anything on ChromeOS.</li><li><strong>(NOT RECOMMENDED BY ME)</strong> Completely wipe ChromeOS by installing another
Linux distribution on its place. Although it&rsquo;s easy to revert this process
through <a href=https://support.google.com/chromebook/answer/1080595>recovery
media</a>, it completely
defeats the purpose of getting a Chromebook in the first place, especially
now that Android apps are starting to become available on them (for
touchscreen devices, of course).</li><li><strong>(PROBABLY WOULDN&rsquo;T RECOMMEND, BUT YOU MAY LIKE IT)</strong> Install a chroot
alongside your ChromeOS, such as
<a href=https://github.com/dnschneid/crouton>crouton</a>. I tried it however I hated
it. It is very buggy and opinionated, somewhat similar to oh-my-zsh: both of
them promise to deliver a good framework and they&rsquo;re kinda large open source
projects, however they do lots of automatic things for you, and you end up
not knowing what is happening to your system. It opposes the Arch Linux
philosophy, being user-friendly rather than user-centered. Some people like
it, I won&rsquo;t argue this, it can work for them; but not for me. An alternative
would be to install a chroot manually, without the help of crouton.</li></ol><p>I&rsquo;ve chosen the first option, installing Arch Linux ARM on my Chromebook. So
far, so good: it&rsquo;s working very well. Storage is easily shared between the two
OSes (by using the SD card). There&rsquo;s more to get out of my system, and I intend
to share new findings in this blog. <strong>In particular, the most important one: to
find an easy way (not crouton!) of running whatever Linux-compatible application
I want from within Chrome OS, without dual-booting.</strong> I have a few ideas (well,
it&rsquo;s just a matter of creating a KISS chroot), I just want to polish them a
little more before trying them out.</p><h2 id=see-also>See also<a hidden class=anchor aria-hidden=true href=#see-also>#</a></h2><ul><li><a href=https://imgur.com/BrVVyNi>Generic Chrome OS Troubleshooter Chart v0.3</a></li></ul><h2 id=footnotes>Footnotes<a hidden class=anchor aria-hidden=true href=#footnotes>#</a></h2><ol><li>I wouldn&rsquo;t say the same for kernel stuff though. It is not trivial to
install a bootloader (such as grub) or to boot a custom kernel in a
Chromebook. It&rsquo;s possible indeed, it&rsquo;s just not as nice or as easy as an
average PC or Mac laptop from today, especially if you have the intention of
keeping the upstream OS (Chrome OS) in the device.</li><li>People probably would cite a Macbook, a Surface Pro, or something else
similar here. For starters, did you see how much they cost, in comparison to
an average Chromebook? Such a comparison wouldn&rsquo;t be fair.</li></ol></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.perrotta.dev/tags/linux/>Linux</a></li></ul></footer></article></main><footer class=footer><span>Copyright ¬© 2021 - 2025 Thiago Perrotta ¬∑ <a href=https://creativecommons.org/licenses/by-nc-sa/4.0/>CC BY-NC-SA 4.0</a> ¬∑ <a href=/index.xml>RSS</a> ¬∑ Made with ‚ô• in üá®üá¶</span> ¬∑
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>